(function(e,t){"use strict";var n={};function i(e,t){var i,r=[];for(var o=0;o<e.length;++o){i=n[e[o]]||a(e[o]);if(!i){throw"module definition dependecy not found: "+e[o]}r.push(i)}t.apply(null,r)}function r(e,r,o){if(typeof e!=="string"){throw"invalid module definition, module id must be defined and be a string"}if(r===t){throw"invalid module definition, dependencies must be specified"}if(o===t){throw"invalid module definition, definition function must be specified"}i(r,function(){n[e]=o.apply(null,arguments)})}function o(e){return!!n[e]}function a(t){var n=e;var i=t.split(/[.\/]/);for(var r=0;r<i.length;++r){if(!n[i[r]]){return}n=n[i[r]]}return n}function s(i){for(var r=0;r<i.length;r++){var o=e;var a=i[r];var s=a.split(/[.\/]/);for(var l=0;l<s.length-1;++l){if(o[s[l]]===t){o[s[l]]={}}o=o[s[l]]}o[s[s.length-1]]=n[a]}}r("tinymce/dom/EventUtils",[],function(){"use strict";var e="mce-data-";var t=/^(?:mouse|contextmenu)|click/;var n={keyLocation:1,layerX:1,layerY:1,returnValue:1};function i(e,t,n,i){if(e.addEventListener){e.addEventListener(t,n,i||false)}else if(e.attachEvent){e.attachEvent("on"+t,n)}}function r(e,t,n,i){if(e.removeEventListener){e.removeEventListener(t,n,i||false)}else if(e.detachEvent){e.detachEvent("on"+t,n)}}function o(e,i){var r,o=i||{},a;function s(){return false}function l(){return true}for(r in e){if(!n[r]){o[r]=e[r]}}if(!o.target){o.target=o.srcElement||document}if(e&&t.test(e.type)&&e.pageX===a&&e.clientX!==a){var u=o.target.ownerDocument||document;var c=u.documentElement;var f=u.body;o.pageX=e.clientX+(c&&c.scrollLeft||f&&f.scrollLeft||0)-(c&&c.clientLeft||f&&f.clientLeft||0);o.pageY=e.clientY+(c&&c.scrollTop||f&&f.scrollTop||0)-(c&&c.clientTop||f&&f.clientTop||0)}o.preventDefault=function(){o.isDefaultPrevented=l;if(e){if(e.preventDefault){e.preventDefault()}else{e.returnValue=false}}};o.stopPropagation=function(){o.isPropagationStopped=l;if(e){if(e.stopPropagation){e.stopPropagation()}else{e.cancelBubble=true}}};o.stopImmediatePropagation=function(){o.isImmediatePropagationStopped=l;o.stopPropagation()};if(!o.isDefaultPrevented){o.isDefaultPrevented=s;o.isPropagationStopped=s;o.isImmediatePropagationStopped=s}return o}function a(e,t,n){var o=e.document,a={type:"ready"};if(n.domLoaded){t(a);return}function s(){if(!n.domLoaded){n.domLoaded=true;t(a)}}function l(){if(o.readyState==="complete"||o.readyState==="interactive"&&o.body){r(o,"readystatechange",l);s()}}function u(){try{o.documentElement.doScroll("left")}catch(e){setTimeout(u,0);return}s()}if(o.addEventListener){if(o.readyState==="complete"){s()}else{i(e,"DOMContentLoaded",s)}}else{i(o,"readystatechange",l);if(o.documentElement.doScroll&&e.self===e.top){u()}}i(e,"load",s)}function s(){var t=this,n={},s,l,u,c,f;l=e+(+new Date).toString(32);c="onmouseenter"in document.documentElement;u="onfocusin"in document.documentElement;f={mouseenter:"mouseover",mouseleave:"mouseout"};s=1;t.domLoaded=false;t.events=n;function d(e,t){var i,r,o,a,s=n[t];i=s&&s[e.type];if(i){for(r=0,o=i.length;r<o;r++){a=i[r];if(a&&a.func.call(a.scope,e)===false){e.preventDefault()}if(e.isImmediatePropagationStopped()){return}}}}t.bind=function(e,r,m,h){var p,g,v,y,b,C,w,x=window;function _(e){d(o(e||x.event),p)}if(!e||e.nodeType===3||e.nodeType===8){return}if(!e[l]){p=s++;e[l]=p;n[p]={}}else{p=e[l]}h=h||e;r=r.split(" ");v=r.length;while(v--){y=r[v];C=_;b=w=false;if(y==="DOMContentLoaded"){y="ready"}if(t.domLoaded&&y==="ready"&&e.readyState=="complete"){m.call(h,o({type:y}));continue}if(!c){b=f[y];if(b){C=function(e){var t,n;t=e.currentTarget;n=e.relatedTarget;if(n&&t.contains){n=t.contains(n)}else{while(n&&n!==t){n=n.parentNode}}if(!n){e=o(e||x.event);e.type=e.type==="mouseout"?"mouseleave":"mouseenter";e.target=t;d(e,p)}}}}if(!u&&(y==="focusin"||y==="focusout")){w=true;b=y==="focusin"?"focus":"blur";C=function(e){e=o(e||x.event);e.type=e.type==="focus"?"focusin":"focusout";d(e,p)}}g=n[p][y];if(!g){n[p][y]=g=[{func:m,scope:h}];g.fakeName=b;g.capture=w;g.nativeHandler=C;if(y==="ready"){a(e,C,t)}else{i(e,b||y,C,w)}}else{if(y==="ready"&&t.domLoaded){m({type:y})}else{g.push({func:m,scope:h})}}}e=g=0;return m};t.unbind=function(e,i,o){var a,s,u,c,f,d;if(!e||e.nodeType===3||e.nodeType===8){return t}a=e[l];if(a){d=n[a];if(i){i=i.split(" ");u=i.length;while(u--){f=i[u];s=d[f];if(s){if(o){c=s.length;while(c--){if(s[c].func===o){var m=s.nativeHandler;var h=s.fakeName,p=s.capture;s=s.slice(0,c).concat(s.slice(c+1));s.nativeHandler=m;s.fakeName=h;s.capture=p;d[f]=s}}}if(!o||s.length===0){delete d[f];r(e,s.fakeName||f,s.nativeHandler,s.capture)}}}}else{for(f in d){s=d[f];r(e,s.fakeName||f,s.nativeHandler,s.capture)}d={}}for(f in d){return t}delete n[a];try{delete e[l]}catch(t){e[l]=null}}return t};t.fire=function(e,n,i){var r;if(!e||e.nodeType===3||e.nodeType===8){return t}i=o(null,i);i.type=n;i.target=e;do{r=e[l];if(r){d(i,r)}e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!i.isPropagationStopped());return t};t.clean=function(e){var n,i,r=t.unbind;if(!e||e.nodeType===3||e.nodeType===8){return t}if(e[l]){r(e)}if(!e.getElementsByTagName){e=e.document}if(e&&e.getElementsByTagName){r(e);i=e.getElementsByTagName("*");n=i.length;while(n--){e=i[n];if(e[l]){r(e)}}}return t};t.destroy=function(){n={}};t.cancel=function(e){if(e){e.preventDefault();e.stopImmediatePropagation()}return false}}s.Event=new s;s.Event.bind(window,"ready",function(){});return s});r("tinymce/dom/Sizzle",[],function(){var e,n,i,r,o,a,s,l,u,c,f,d,m,h,p,g,v,y="sizzle"+-new Date,b=window.document,C={},w=0,x=0,_=re(),E=re(),N=re(),S=false,k=function(){return 0},T=typeof t,R=1<<31,A=[],B=A.pop,D=A.push,L=A.push,M=A.slice,P=A.indexOf||function(e){var t=0,n=this.length;for(;t<n;t++){if(this[t]===e){return t}}return-1},H="[\\x20\\t\\r\\n\\f]",O="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",I=O.replace("w","w#"),F="([*^$|!~]?=)",z="\\["+H+"*("+O+")"+H+"*(?:"+F+H+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+I+")|)|)"+H+"*\\]",W=":("+O+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+z.replace(3,8)+")*)|.*)\\)|)",U=new RegExp("^"+H+"+|((?:^|[^\\\\])(?:\\\\.)*)"+H+"+$","g"),V=new RegExp("^"+H+"*,"+H+"*"),q=new RegExp("^"+H+"*([\\x20\\t\\r\\n\\f>+~])"+H+"*"),$=new RegExp(W),j=new RegExp("^"+I+"$"),K={ID:new RegExp("^#("+O+")"),CLASS:new RegExp("^\\.("+O+")"),NAME:new RegExp("^\\[name=['\"]?("+O+")['\"]?\\]"),TAG:new RegExp("^("+O.replace("w","w*")+")"),ATTR:new RegExp("^"+z),PSEUDO:new RegExp("^"+W),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+H+"*(even|odd|(([+-]|)(\\d*)n|)"+H+"*(?:([+-]|)"+H+"*(\\d+)|))"+H+"*\\)|)","i"),needsContext:new RegExp("^"+H+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+H+"*((?:-\\d)?\\d*)"+H+"*\\)|)(?=[^-]|$)","i")},G=/[\x20\t\r\n\f]*[+~]/,Y=/^[^{]+\{\s*\[native code/,X=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,J=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,Z=/'|\\/g,ee=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,te=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,ne=function(e,t){var n="0x"+t-65536;return n!==n?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,n&1023|56320)};try{L.apply(A=M.call(b.childNodes),b.childNodes);A[b.childNodes.length].nodeType}catch(e){L={apply:A.length?function(e,t){D.apply(e,M.call(t))}:function(e,t){var n=e.length,i=0;while(e[n++]=t[i++]){}e.length=n-1}}}function ie(e){return Y.test(e+"")}function re(){var e,t=[];e=function(n,r){if(t.push(n+=" ")>i.cacheLength){delete e[t.shift()]}e[n]=r;return r};return e}function oe(e){e[y]=true;return e}function ae(e){var t=f.createElement("div");try{return!!e(t)}catch(e){return false}finally{t=null}}function se(e,t,n,i){var r,o,a,s,l,u,d,p,g,w;if((t?t.ownerDocument||t:b)!==f){c(t)}t=t||f;n=n||[];if(!e||typeof e!=="string"){return n}if((s=t.nodeType)!==1&&s!==9){return[]}if(m&&!i){if(r=X.exec(e)){if(a=r[1]){if(s===9){o=t.getElementById(a);if(o&&o.parentNode){if(o.id===a){n.push(o);return n}}else{return n}}else{if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&v(t,o)&&o.id===a){n.push(o);return n}}}else if(r[2]){L.apply(n,t.getElementsByTagName(e));return n}else if((a=r[3])&&C.getElementsByClassName&&t.getElementsByClassName){L.apply(n,t.getElementsByClassName(a));return n}}if(C.qsa&&!h.test(e)){d=true;p=y;g=t;w=s===9&&e;if(s===1&&t.nodeName.toLowerCase()!=="object"){u=de(e);if(d=t.getAttribute("id")){p=d.replace(Z,"\\$&")}else{t.setAttribute("id",p)}p="[id='"+p+"'] ";l=u.length;while(l--){u[l]=p+me(u[l])}g=G.test(e)&&t.parentNode||t;w=u.join(",")}if(w){try{L.apply(n,g.querySelectorAll(w));return n}catch(e){}finally{if(!d){t.removeAttribute("id")}}}}}return we(e.replace(U,"$1"),t,n,i)}o=se.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":false};c=se.setDocument=function(e){var n=e?e.ownerDocument||e:b;if(n===f||n.nodeType!==9||!n.documentElement){return f}f=n;d=n.documentElement;m=!o(n);C.getElementsByTagName=ae(function(e){e.appendChild(n.createComment(""));return!e.getElementsByTagName("*").length});C.attributes=ae(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return t!=="boolean"&&t!=="string"});C.getElementsByClassName=ae(function(e){e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>";if(!e.getElementsByClassName||!e.getElementsByClassName("e").length){return false}e.lastChild.className="e";return e.getElementsByClassName("e").length===2});C.getByName=ae(function(e){e.id=y+0;e.appendChild(f.createElement("a")).setAttribute("name",y);e.appendChild(f.createElement("i")).setAttribute("name",y);d.appendChild(e);var t=n.getElementsByName&&n.getElementsByName(y).length===2+n.getElementsByName(y+0).length;d.removeChild(e);return t});C.sortDetached=ae(function(e){return e.compareDocumentPosition&&e.compareDocumentPosition(f.createElement("div"))&1});i.attrHandle=ae(function(e){e.innerHTML="<a href='#'></a>";return e.firstChild&&typeof e.firstChild.getAttribute!==T&&e.firstChild.getAttribute("href")==="#"})?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}};if(C.getByName){i.find["ID"]=function(e,t){if(typeof t.getElementById!==T&&m){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}};i.filter["ID"]=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}}}else{i.find["ID"]=function(e,n){if(typeof n.getElementById!==T&&m){var i=n.getElementById(e);return i?i.id===e||typeof i.getAttributeNode!==T&&i.getAttributeNode("id").value===e?[i]:t:[]}};i.filter["ID"]=function(e){var t=e.replace(te,ne);return function(e){var n=typeof e.getAttributeNode!==T&&e.getAttributeNode("id");return n&&n.value===t}}}i.find["TAG"]=C.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==T){return t.getElementsByTagName(e)}}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if(e==="*"){while(n=o[r++]){if(n.nodeType===1){i.push(n)}}return i}return o};i.find["NAME"]=C.getByName&&function(e,t){if(typeof t.getElementsByName!==T){return t.getElementsByName(name)}};i.find["CLASS"]=C.getElementsByClassName&&function(e,t){if(typeof t.getElementsByClassName!==T&&m){return t.getElementsByClassName(e)}};p=[];h=[":focus"];if(C.qsa=ie(n.querySelectorAll)){ae(function(e){e.innerHTML="<select><option selected=''></option></select>";if(!e.querySelectorAll("[selected]").length){h.push("\\["+H+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)")}if(!e.querySelectorAll(":checked").length){h.push(":checked")}});ae(function(e){e.innerHTML="<input type='hidden' i=''/>";if(e.querySelectorAll("[i^='']").length){h.push("[*^$]="+H+"*(?:\"\"|'')")}if(!e.querySelectorAll(":enabled").length){h.push(":enabled",":disabled")}e.querySelectorAll("*,:x");h.push(",.*:")})}if(C.matchesSelector=ie(g=d.matchesSelector||d.mozMatchesSelector||d.webkitMatchesSelector||d.oMatchesSelector||d.msMatchesSelector)){ae(function(e){C.disconnectedMatch=g.call(e,"div");g.call(e,"[s!='']:x");p.push("!=",W)})}h=new RegExp(h.join("|"));p=p.length&&new RegExp(p.join("|"));v=ie(d.contains)||d.compareDocumentPosition?function(e,t){var n=e.nodeType===9?e.documentElement:e,i=t&&t.parentNode;return e===i||!!(i&&i.nodeType===1&&(n.contains?n.contains(i):e.compareDocumentPosition&&e.compareDocumentPosition(i)&16))}:function(e,t){if(t){while(t=t.parentNode){if(t===e){return true}}}return false};k=d.compareDocumentPosition?function(e,t){if(e===t){S=true;return 0}var i=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);if(i){if(i&1||l&&t.compareDocumentPosition(e)===i){if(e===n||v(b,e)){return-1}if(t===n||v(b,t)){return 1}return u?P.call(u,e)-P.call(u,t):0}return i&4?-1:1}return e.compareDocumentPosition?-1:1}:function(e,t){var i,r=0,o=e.parentNode,a=t.parentNode,s=[e],l=[t];if(e===t){S=true;return 0}else if(!o||!a){return e===n?-1:t===n?1:o?-1:a?1:0}else if(o===a){return le(e,t)}i=e;while(i=i.parentNode){s.unshift(i)}i=t;while(i=i.parentNode){l.unshift(i)}while(s[r]===l[r]){r++}return r?le(s[r],l[r]):s[r]===b?-1:l[r]===b?1:0};return f};se.matches=function(e,t){return se(e,null,null,t)};se.matchesSelector=function(e,t){if((e.ownerDocument||e)!==f){c(e)}t=t.replace(ee,"='$1']");if(C.matchesSelector&&m&&(!p||!p.test(t))&&!h.test(t)){try{var n=g.call(e,t);if(n||C.disconnectedMatch||e.document&&e.document.nodeType!==11){return n}}catch(e){}}return se(t,f,null,[e]).length>0};se.contains=function(e,t){if((e.ownerDocument||e)!==f){c(e)}return v(e,t)};se.attr=function(e,t){var n;if((e.ownerDocument||e)!==f){c(e)}if(m){t=t.toLowerCase()}if(n=i.attrHandle[t]){return n(e)}if(!m||C.attributes){return e.getAttribute(t)}return((n=e.getAttributeNode(t))||e.getAttribute(t))&&e[t]===true?t:n&&n.specified?n.value:null};se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};se.uniqueSort=function(e){var t,n=[],i=0,r=0;S=!C.detectDuplicates;l=!C.sortDetached;u=!C.sortStable&&e.slice(0);e.sort(k);if(S){while(t=e[r++]){if(t===e[r]){i=n.push(r)}}while(i--){e.splice(n[i],1)}}return e};function le(e,t){var n=t&&e,i=n&&(~t.sourceIndex||R)-(~e.sourceIndex||R);if(i){return i}if(n){while(n=n.nextSibling){if(n===t){return-1}}}return e?1:-1}function ue(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function ce(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function fe(e){return oe(function(t){t=+t;return oe(function(n,i){var r,o=e([],n.length,t),a=o.length;while(a--){if(n[r=o[a]]){n[r]=!(i[r]=n[r])}}})})}r=se.getText=function(e){var t,n="",i=0,o=e.nodeType;if(!o){for(;t=e[i];i++){n+=r(t)}}else if(o===1||o===9||o===11){if(typeof e.textContent==="string"){return e.textContent}else{for(e=e.firstChild;e;e=e.nextSibling){n+=r(e)}}}else if(o===3||o===4){return e.nodeValue}return n};i=se.selectors={cacheLength:50,createPseudo:oe,match:K,find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){e[1]=e[1].replace(te,ne);e[3]=(e[4]||e[5]||"").replace(te,ne);if(e[2]==="~="){e[3]=" "+e[3]+" "}return e.slice(0,4)},CHILD:function(e){e[1]=e[1].toLowerCase();if(e[1].slice(0,3)==="nth"){if(!e[3]){se.error(e[0])}e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd"));e[5]=+(e[7]+e[8]||e[3]==="odd")}else if(e[3]){se.error(e[0])}return e},PSEUDO:function(e){var t,n=!e[5]&&e[2];if(K["CHILD"].test(e[0])){return null}if(e[4]){e[2]=e[4]}else if(n&&$.test(n)&&(t=de(n,true))&&(t=n.indexOf(")",n.length-t)-n.length)){e[0]=e[0].slice(0,t);e[2]=n.slice(0,t)}return e.slice(0,3)}},filter:{TAG:function(e){if(e==="*"){return function(){return true}}e=e.replace(te,ne).toLowerCase();return function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(e){var t=_[e+" "];return t||(t=new RegExp("(^|"+H+")"+e+"("+H+"|$)"))&&_(e,function(e){return t.test(e.className||typeof e.getAttribute!==T&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(i){var r=se.attr(i,e);if(r==null){return t==="!="}if(!t){return true}r+="";return t==="="?r===n:t==="!="?r!==n:t==="^="?n&&r.indexOf(n)===0:t==="*="?n&&r.indexOf(n)>-1:t==="$="?n&&r.slice(-n.length)===n:t==="~="?(" "+r+" ").indexOf(n)>-1:t==="|="?r===n||r.slice(0,n.length+1)===n+"-":false}},CHILD:function(e,t,n,i,r){var o=e.slice(0,3)!=="nth",a=e.slice(-4)!=="last",s=t==="of-type";return i===1&&r===0?function(e){return!!e.parentNode}:function(t,n,l){var u,c,f,d,m,h,p=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),b=!l&&!s;if(g){if(o){while(p){f=t;while(f=f[p]){if(s?f.nodeName.toLowerCase()===v:f.nodeType===1){return false}}h=p=e==="only"&&!h&&"nextSibling"}return true}h=[a?g.firstChild:g.lastChild];if(a&&b){c=g[y]||(g[y]={});u=c[e]||[];m=u[0]===w&&u[1];d=u[0]===w&&u[2];f=m&&g.childNodes[m];while(f=++m&&f&&f[p]||(d=m=0)||h.pop()){if(f.nodeType===1&&++d&&f===t){c[e]=[w,m,d];break}}}else if(b&&(u=(t[y]||(t[y]={}))[e])&&u[0]===w){d=u[1]}else{while(f=++m&&f&&f[p]||(d=m=0)||h.pop()){if((s?f.nodeName.toLowerCase()===v:f.nodeType===1)&&++d){if(b){(f[y]||(f[y]={}))[e]=[w,d]}if(f===t){break}}}}d-=r;return d===i||d%i===0&&d/i>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);if(r[y]){return r(t)}if(r.length>1){n=[e,e,"",t];return i.setFilters.hasOwnProperty(e.toLowerCase())?oe(function(e,n){var i,o=r(e,t),a=o.length;while(a--){i=P.call(e,o[a]);e[i]=!(n[i]=o[a])}}):function(e){return r(e,0,n)}}return r}},pseudos:{not:oe(function(e){var t=[],n=[],i=a(e.replace(U,"$1"));return i[y]?oe(function(e,t,n,r){var o,a=i(e,null,r,[]),s=e.length;while(s--){if(o=a[s]){e[s]=!(t[s]=o)}}}):function(e,r,o){t[0]=e;i(t,null,o,n);return!n.pop()}}),has:oe(function(e){return function(t){return se(e,t).length>0}}),contains:oe(function(e){return function(t){return(t.textContent||t.innerText||r(t)).indexOf(e)>-1}}),lang:oe(function(e){if(!j.test(e||"")){se.error("unsupported lang: "+e)}e=e.replace(te,ne).toLowerCase();return function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang")){n=n.toLowerCase();return n===e||n.indexOf(e+"-")===0}}while((t=t.parentNode)&&t.nodeType===1);return false}}),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===d},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===false},disabled:function(e){return e.disabled===true},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){if(e.parentNode){e.parentNode.selectedIndex}return e.selected===true},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling){if(e.nodeName>"@"||e.nodeType===3||e.nodeType===4){return false}}return true},parent:function(e){return!i.pseudos["empty"](e)},header:function(e){return Q.test(e.nodeName)},input:function(e){return J.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},text:function(e){var t;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((t=e.getAttribute("type"))==null||t.toLowerCase()===e.type)},first:fe(function(){return[0]}),last:fe(function(e,t){return[t-1]}),eq:fe(function(e,t,n){return[n<0?n+t:n]}),even:fe(function(e,t){var n=0;for(;n<t;n+=2){e.push(n)}return e}),odd:fe(function(e,t){var n=1;for(;n<t;n+=2){e.push(n)}return e}),lt:fe(function(e,t,n){var i=n<0?n+t:n;for(;--i>=0;){e.push(i)}return e}),gt:fe(function(e,t,n){var i=n<0?n+t:n;for(;++i<t;){e.push(i)}return e})}};for(e in{radio:true,checkbox:true,file:true,password:true,image:true}){i.pseudos[e]=ue(e)}for(e in{submit:true,reset:true}){i.pseudos[e]=ce(e)}function de(e,t){var n,r,o,a,s,l,u,c=E[e+" "];if(c){return t?0:c.slice(0)}s=e;l=[];u=i.preFilter;while(s){if(!n||(r=V.exec(s))){if(r){s=s.slice(r[0].length)||s}l.push(o=[])}n=false;if(r=q.exec(s)){n=r.shift();o.push({value:n,type:r[0].replace(U," ")});s=s.slice(n.length)}for(a in i.filter){if((r=K[a].exec(s))&&(!u[a]||(r=u[a](r)))){n=r.shift();o.push({value:n,type:a,matches:r});s=s.slice(n.length)}}if(!n){break}}return t?s.length:s?se.error(e):E(e,l).slice(0)}function me(e){var t=0,n=e.length,i="";for(;t<n;t++){i+=e[t].value}return i}function he(e,t,i){var r=t.dir,o=i&&r==="parentNode",a=x++;return t.first?function(t,n,i){while(t=t[r]){if(t.nodeType===1||o){return e(t,n,i)}}}:function(t,i,s){var l,u,c,f=w+" "+a;if(s){while(t=t[r]){if(t.nodeType===1||o){if(e(t,i,s)){return true}}}}else{while(t=t[r]){if(t.nodeType===1||o){c=t[y]||(t[y]={});if((u=c[r])&&u[0]===f){if((l=u[1])===true||l===n){return l===true}}else{u=c[r]=[f];u[1]=e(t,i,s)||n;if(u[1]===true){return true}}}}}}}function pe(e){return e.length>1?function(t,n,i){var r=e.length;while(r--){if(!e[r](t,n,i)){return false}}return true}:e[0]}function ge(e,t,n,i,r){var o,a=[],s=0,l=e.length,u=t!=null;for(;s<l;s++){if(o=e[s]){if(!n||n(o,i,r)){a.push(o);if(u){t.push(s)}}}}return a}function ve(e,t,n,i,r,o){if(i&&!i[y]){i=ve(i)}if(r&&!r[y]){r=ve(r,o)}return oe(function(o,a,s,l){var u,c,f,d=[],m=[],h=a.length,p=o||Ce(t||"*",s.nodeType?[s]:s,[]),g=e&&(o||!t)?ge(p,d,e,s,l):p,v=n?r||(o?e:h||i)?[]:a:g;if(n){n(g,v,s,l)}if(i){u=ge(v,m);i(u,[],s,l);c=u.length;while(c--){if(f=u[c]){v[m[c]]=!(g[m[c]]=f)}}}if(o){if(r||e){if(r){u=[];c=v.length;while(c--){if(f=v[c]){u.push(g[c]=f)}}r(null,v=[],u,l)}c=v.length;while(c--){if((f=v[c])&&(u=r?P.call(o,f):d[c])>-1){o[u]=!(a[u]=f)}}}}else{v=ge(v===a?v.splice(h,v.length):v);if(r){r(null,a,v,l)}else{L.apply(a,v)}}})}function ye(e){var t,n,r,o=e.length,a=i.relative[e[0].type],l=a||i.relative[" "],u=a?1:0,c=he(function(e){return e===t},l,true),f=he(function(e){return P.call(t,e)>-1},l,true),d=[function(e,n,i){return!a&&(i||n!==s)||((t=n).nodeType?c(e,n,i):f(e,n,i))}];for(;u<o;u++){if(n=i.relative[e[u].type]){d=[he(pe(d),n)]}else{n=i.filter[e[u].type].apply(null,e[u].matches);if(n[y]){r=++u;for(;r<o;r++){if(i.relative[e[r].type]){break}}return ve(u>1&&pe(d),u>1&&me(e.slice(0,u-1)).replace(U,"$1"),n,u<r&&ye(e.slice(u,r)),r<o&&ye(e=e.slice(r)),r<o&&me(e))}d.push(n)}}return pe(d)}function be(e,t){var r=0,o=t.length>0,a=e.length>0,l=function(l,u,c,d,m){var h,p,g,v=[],y=0,b="0",C=l&&[],x=m!=null,_=s,E=l||a&&i.find["TAG"]("*",m&&u.parentNode||u),N=w+=_==null?1:Math.random()||.1;if(x){s=u!==f&&u;n=r}for(;(h=E[b])!=null;b++){if(a&&h){p=0;while(g=e[p++]){if(g(h,u,c)){d.push(h);break}}if(x){w=N;n=++r}}if(o){if(h=!g&&h){y--}if(l){C.push(h)}}}y+=b;if(o&&b!==y){p=0;while(g=t[p++]){g(C,v,u,c)}if(l){if(y>0){while(b--){if(!(C[b]||v[b])){v[b]=B.call(d)}}}v=ge(v)}L.apply(d,v);if(x&&!l&&v.length>0&&y+t.length>1){se.uniqueSort(d)}}if(x){w=N;s=_}return C};return o?oe(l):l}a=se.compile=function(e,t){var n,i=[],r=[],o=N[e+" "];if(!o){if(!t){t=de(e)}n=t.length;while(n--){o=ye(t[n]);if(o[y]){i.push(o)}else{r.push(o)}}o=N(e,be(r,i))}return o};function Ce(e,t,n){var i=0,r=t.length;for(;i<r;i++){se(e,t[i],n)}return n}function we(e,t,n,r){var o,s,l,u,c,f=de(e);if(!r){if(f.length===1){s=f[0]=f[0].slice(0);if(s.length>2&&(l=s[0]).type==="ID"&&t.nodeType===9&&m&&i.relative[s[1].type]){t=(i.find["ID"](l.matches[0].replace(te,ne),t)||[])[0];if(!t){return n}e=e.slice(s.shift().value.length)}o=K["needsContext"].test(e)?0:s.length;while(o--){l=s[o];if(i.relative[u=l.type]){break}if(c=i.find[u]){if(r=c(l.matches[0].replace(te,ne),G.test(s[0].type)&&t.parentNode||t)){s.splice(o,1);e=r.length&&me(s);if(!e){L.apply(n,r);return n}break}}}}}a(e,f)(r,t,!m,n,G.test(e));return n}i.pseudos["nth"]=i.pseudos["eq"];function xe(){}xe.prototype=i.filters=i.pseudos;i.setFilters=new xe;C.sortStable=y.split("").sort(k).join("")===y;c();[0,0].sort(k);C.detectDuplicates=S;return se});r("tinymce/dom/DomQuery",["tinymce/dom/EventUtils","tinymce/dom/Sizzle"],function(e,n){var i=document,r=Array.prototype.push,o=Array.prototype.slice;var a=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/;var s=e.Event;function l(e){return typeof e!=="undefined"}function u(e){return typeof e==="string"}function c(e){var t,n,r;r=i.createElement("div");t=i.createDocumentFragment();r.innerHTML=e;while(n=r.firstChild){t.appendChild(n)}return t}function f(e,t,n){var i;if(typeof t==="string"){t=c(t)}else if(t.length){for(i=0;i<t.length;i++){f(e,t[i],n)}return e}i=e.length;while(i--){n.call(e[i],t.parentNode?t:t)}return e}function d(e,t){return e&&t&&(" "+e.className+" ").indexOf(" "+t+" ")!==-1}function m(e,t){var n;e=e||[];if(typeof e=="string"){e=e.split(" ")}t=t||{};n=e.length;while(n--){t[e[n]]={}}return t}var h=m("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom");function p(e,t){return new p.fn.init(e,t)}function g(e){var t=arguments,n,i,r;for(i=1;i<t.length;i++){n=t[i];for(r in n){e[r]=n[r]}}return e}function v(e){var t=[],n,i;for(n=0,i=e.length;n<i;n++){t[n]=e[n]}return t}function y(e,t){var n;if(t.indexOf){return t.indexOf(e)}n=t.length;while(n--){if(t[n]===e){return n}}return-1}var b=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};var C=/^\s*|\s*$/g;function w(e){return e===null||e===t?"":(""+e).replace(C,"")}function x(e,t){var n,i,r,o,a;if(e){n=e.length;if(n===o){for(i in e){if(e.hasOwnProperty(i)){a=e[i];if(t.call(a,a,i)===false){break}}}}else{for(r=0;r<n;r++){a=e[r];if(t.call(a,a,i)===false){break}}}}return e}p.fn=p.prototype={constructor:p,selector:"",length:0,init:function(e,t){var n=this,r,o;if(!e){return n}if(e.nodeType){n.context=n[0]=e;n.length=1;return n}if(u(e)){if(e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3){r=[null,e,null]}else{r=a.exec(e)}if(r){if(r[1]){o=c(e).firstChild;while(o){this.add(o);o=o.nextSibling}}else{o=i.getElementById(r[2]);if(o.id!==r[2]){return n.find(e)}n.length=1;n[0]=o}}else{return p(t||document).find(e)}}else{this.add(e)}return n},toArray:function(){return v(this)},add:function(e){var t=this;if(!b(e)){if(e instanceof p){t.add(e.toArray())}else{r.call(t,e)}}else{r.apply(t,e)}return t},attr:function(e,n){var i=this;if(typeof e==="object"){x(e,function(e,t){i.attr(t,e)})}else if(l(n)){this.each(function(){if(this.nodeType===1){this.setAttribute(e,n)}})}else{return i[0]&&i[0].nodeType===1?i[0].getAttribute(e):t}return i},css:function(e,n){var i=this;if(typeof e==="object"){x(e,function(e,t){i.css(t,e)})}else{e=e.replace(/-(\D)/g,function(e,t){return t.toUpperCase()});if(l(n)){if(typeof n==="number"&&!h[e]){n+="px"}i.each(function(){var t=this.style;if(e==="opacity"&&this.runtimeStyle&&typeof this.runtimeStyle.opacity==="undefined"){t.filter=n===""?"":"alpha(opacity="+n*100+")"}try{t[e]=n}catch(e){}})}else{return i[0]?i[0].style[e]:t}}return i},remove:function(){var e=this,t,n=this.length;while(n--){t=e[n];s.clean(t);if(t.parentNode){t.parentNode.removeChild(t)}}return this},empty:function(){var e=this,t,n=this.length;while(n--){t=e[n];while(t.firstChild){t.removeChild(t.firstChild)}}return this},html:function(e){var t=this,n;if(l(e)){n=t.length;while(n--){t[n].innerHTML=e}return t}return t[0]?t[0].innerHTML:""},text:function(e){var t=this,n;if(l(e)){n=t.length;while(n--){t[n].innerText=t[0].textContent=e}return t}return t[0]?t[0].innerText||t[0].textContent:""},append:function(){return f(this,arguments,function(e){if(this.nodeType===1){this.appendChild(e)}})},prepend:function(){return f(this,arguments,function(e){if(this.nodeType===1){this.insertBefore(e,this.firstChild)}})},before:function(){var e=this;if(e[0]&&e[0].parentNode){return f(e,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)})}return e},after:function(){var e=this;if(e[0]&&e[0].parentNode){return f(e,arguments,function(e){this.parentNode.insertBefore(e,this)})}return e},appendTo:function(e){p(e).append(this);return this},addClass:function(e){return this.toggleClass(e,true)},removeClass:function(e){return this.toggleClass(e,false)},toggleClass:function(e,t){var n=this;if(e.indexOf(" ")!==-1){x(e.split(" "),function(){n.toggleClass(this,t)})}else{n.each(function(n){var i;if(d(n,e)!==t){i=n.className;if(t){n.className+=i?" "+e:e}else{n.className=w((" "+i+" ").replace(" "+e+" "," "))}}})}return n},hasClass:function(e){return d(this[0],e)},each:function(e){return x(this,e)},on:function(e,t){return this.each(function(){s.bind(this,e,t)})},off:function(e,t){return this.each(function(){s.unbind(this,e,t)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new p(o.apply(this,arguments))},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},replaceWith:function(e){var t=this;if(t[0]){t[0].parentNode.replaceChild(p(e)[0],t[0])}return t},wrap:function(e){e=p(e)[0];return this.each(function(){var t=this,n=e.cloneNode(false);t.parentNode.insertBefore(n,t);n.appendChild(t)})},unwrap:function(){return this.each(function(){var e=this,t=e.firstChild,n;while(t){n=t;t=t.nextSibling;e.parentNode.insertBefore(n,e)}})},clone:function(){var e=[];this.each(function(){e.push(this.cloneNode(true))});return p(e)},find:function(e){var t,n,i=[];for(t=0,n=this.length;t<n;t++){p.find(e,this[t],i)}return p(i)},push:r,sort:[].sort,splice:[].splice};g(p,{extend:g,toArray:v,inArray:y,isArray:b,each:x,trim:w,makeMap:m,find:n,expr:n.selectors,unique:n.uniqueSort,text:n.getText,isXMLDoc:n.isXML,contains:n.contains,filter:function(e,t,n){if(n){e=":not("+e+")"}if(t.length===1){t=p.find.matchesSelector(t[0],e)?[t[0]]:[]}else{t=p.find.matches(e,t)}return t}});function _(e,n,i){var r=[],o=e[n];while(o&&o.nodeType!==9&&(i===t||o.nodeType!==1||!p(o).is(i))){if(o.nodeType===1){r.push(o)}o=o[n]}return r}function E(e,t,n,i){var r=[];for(;e;e=e[n]){if((!i||e.nodeType===i)&&e!==t){r.push(e)}}return r}x({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return _(e,"parentNode")},parentsUntil:function(e,t){return _(e,"parentNode",t)},next:function(e){return E(e,"nextSibling",1)},prev:function(e){return E(e,"previousSibling",1)},nextNodes:function(e){return E(e,"nextSibling")},prevNodes:function(e){return E(e,"previousSibling")},children:function(e){return E(e.firstChild,"nextSibling",1)},contents:function(e){return v((e.nodeName==="iframe"?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,t){p.fn[e]=function(n){var i=this,r;if(i.length>1){throw new Error("DomQuery only supports traverse functions on a single node.")}if(i[0]){r=t(i[0],n)}r=p(r);if(n&&e!=="parentsUntil"){return r.filter(n)}return r}});p.fn.filter=function(e){return p.filter(e)};p.fn.is=function(e){return!!e&&this.filter(e).length>0};p.fn.init.prototype=p.fn;return p});r("tinymce/html/Styles",[],function(){return function(e,t){var n=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,i=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,r=/\s*([^:]+):\s*([^;]+);?/g,o=/\s+$/,a,s,l={},u,c="\ufeff";e=e||{};u=("\\\" \\' \\; \\: ; : "+c).split(" ");for(s=0;s<u.length;s++){l[u[s]]=c+s;l[c+s]=u[s]}function f(e,t,n,i){function r(e){e=parseInt(e,10).toString(16);return e.length>1?e:"0"+e}return"#"+r(t)+r(n)+r(i)}return{toHex:function(e){return e.replace(n,f)},parse:function(t){var a={},u,c,d,m,h=e.url_converter;var p=e.url_converter_scope||this;function g(e,t,n){var i,r,o,l;i=a[e+"-top"+t];if(!i){return}r=a[e+"-right"+t];if(!r){return}o=a[e+"-bottom"+t];if(!o){return}l=a[e+"-left"+t];if(!l){return}var u=[i,r,o,l];s=u.length-1;while(s--){if(u[s]!==u[s+1]){break}}if(s>-1&&n){return}a[e+t]=s==-1?u[0]:u.join(" ");delete a[e+"-top"+t];delete a[e+"-right"+t];delete a[e+"-bottom"+t];delete a[e+"-left"+t]}function v(e){var t=a[e],n;if(!t){return}t=t.split(" ");n=t.length;while(n--){if(t[n]!==t[0]){return false}}a[e]=t[0];return true}function y(e,t,n,i){if(!v(t)){return}if(!v(n)){return}if(!v(i)){return}a[e]=a[t]+" "+a[n]+" "+a[i];delete a[t];delete a[n];delete a[i]}function b(e){m=true;return l[e]}function C(e,t){if(m){e=e.replace(/\uFEFF[0-9]/g,function(e){
return l[e]})}if(!t){e=e.replace(/\\([\'\";:])/g,"$1")}return e}function w(t,n,i,r,o,a){o=o||a;if(o){o=C(o);return"'"+o.replace(/\'/g,"\\'")+"'"}n=C(n||i||r);if(!e.allow_script_urls){var s=n.replace(/[\s\r\n]+/,"");if(/(java|vb)script:/i.test(s)){return""}if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(s)){return""}}if(h){n=h.call(p,n,"style")}return"url('"+n.replace(/\'/g,"\\'")+"')"}if(t){t=t.replace(/[\u0000-\u001F]/g,"");t=t.replace(/\\[\"\';:\uFEFF]/g,b).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,b)});while(u=r.exec(t)){c=u[1].replace(o,"").toLowerCase();d=u[2].replace(o,"");d=d.replace(/\\[0-9a-f]+/g,function(e){return String.fromCharCode(parseInt(e.substr(1),16))});if(c&&d.length>0){if(!e.allow_script_urls&&(c=="behavior"||/expression\s*\(|\/\*|\*\//.test(d))){continue}if(c==="font-weight"&&d==="700"){d="bold"}else if(c==="color"||c==="background-color"){d=d.toLowerCase()}d=d.replace(n,f);d=d.replace(i,w);a[c]=m?C(d,true):d}r.lastIndex=u.index+u[0].length}g("border","",true);g("border","-width");g("border","-color");g("border","-style");g("padding","");g("margin","");y("border","border-width","border-style","border-color");if(a.border==="medium none"){delete a.border}if(a["border-image"]==="none"){delete a["border-image"]}}return a},serialize:function(e,n){var i="",r,o;function s(n){var r,o,s,l;r=t.styles[n];if(r){for(o=0,s=r.length;o<s;o++){n=r[o];l=e[n];if(l!==a&&l.length>0){i+=(i.length>0?" ":"")+n+": "+l+";"}}}}if(n&&t&&t.styles){s("*");s(n)}else{for(r in e){o=e[r];if(o!==a&&o.length>0){i+=(i.length>0?" ":"")+r+": "+o+";"}}}return i}}}});r("tinymce/dom/TreeWalker",[],function(){return function(e,t){var n=e;function i(e,n,i,r){var o,a;if(e){if(!r&&e[n]){return e[n]}if(e!=t){o=e[i];if(o){return o}for(a=e.parentNode;a&&a!=t;a=a.parentNode){o=a[i];if(o){return o}}}}}this.current=function(){return n};this.next=function(e){n=i(n,"firstChild","nextSibling",e);return n};this.prev=function(e){n=i(n,"lastChild","previousSibling",e);return n}}});r("tinymce/util/Tools",[],function(){var e=/^\s*|\s*$/g;function n(n){return n===null||n===t?"":(""+n).replace(e,"")}var i=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function r(e,n){if(!n){return e!==t}if(n=="array"&&i(e)){return true}return typeof e==n}function o(e){var t=[],n,i;for(n=0,i=e.length;n<i;n++){t[n]=e[n]}return t}function a(e,t,n){var i;e=e||[];t=t||",";if(typeof e=="string"){e=e.split(t)}n=n||{};i=e.length;while(i--){n[e[i]]={}}return n}function s(e,n,i){var r,o;if(!e){return 0}i=i||e;if(e.length!==t){for(r=0,o=e.length;r<o;r++){if(n.call(i,e[r],r,e)===false){return 0}}}else{for(r in e){if(e.hasOwnProperty(r)){if(n.call(i,e[r],r,e)===false){return 0}}}}return 1}function l(e,t){var n=[];s(e,function(e){n.push(t(e))});return n}function u(e,t){var n=[];s(e,function(e){if(!t||t(e)){n.push(e)}});return n}function c(e,t,n){var i=this,r,o,a,s,l,u=0;e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e);a=e[3].match(/(^|\.)(\w+)$/i)[2];o=i.createNS(e[3].replace(/\.\w+$/,""),n);if(o[a]){return}if(e[2]=="static"){o[a]=t;if(this.onCreate){this.onCreate(e[2],e[3],o[a])}return}if(!t[a]){t[a]=function(){};u=1}o[a]=t[a];i.extend(o[a].prototype,t);if(e[5]){r=i.resolve(e[5]).prototype;s=e[5].match(/\.(\w+)$/i)[1];l=o[a];if(u){o[a]=function(){return r[s].apply(this,arguments)}}else{o[a]=function(){this.parent=r[s];return l.apply(this,arguments)}}o[a].prototype[a]=o[a];i.each(r,function(e,t){o[a].prototype[t]=r[t]});i.each(t,function(e,t){if(r[t]){o[a].prototype[t]=function(){this.parent=r[t];return e.apply(this,arguments)}}else{if(t!=a){o[a].prototype[t]=e}}})}i.each(t["static"],function(e,t){o[a][t]=e})}function f(e,t){var n,i;if(e){for(n=0,i=e.length;n<i;n++){if(e[n]===t){return n}}}return-1}function d(e,n){var i,r,o,a=arguments,s;for(i=1,r=a.length;i<r;i++){n=a[i];for(o in n){if(n.hasOwnProperty(o)){s=n[o];if(s!==t){e[o]=s}}}}return e}function m(e,t,n,i){i=i||this;if(e){if(n){e=e[n]}s(e,function(e,r){if(t.call(i,e,r,n)===false){return false}m(e,t,n,i)})}}function h(e,t){var n,i;t=t||window;e=e.split(".");for(n=0;n<e.length;n++){i=e[n];if(!t[i]){t[i]={}}t=t[i]}return t}function p(e,t){var n,i;t=t||window;e=e.split(".");for(n=0,i=e.length;n<i;n++){t=t[e[n]];if(!t){break}}return t}function g(e,t){if(!e||r(e,"array")){return e}return l(e.split(t||","),n)}return{trim:n,isArray:i,is:r,toArray:o,makeMap:a,each:s,map:l,grep:u,inArray:f,extend:d,create:c,walk:m,createNS:h,resolve:p,explode:g}});r("tinymce/dom/Range",["tinymce/util/Tools"],function(e){function t(n){var i=this,r=n.doc,o=0,a=1,s=2,l=true,u=false,c="startOffset",f="startContainer",d="endContainer",m="endOffset",h=e.extend,p=n.nodeIndex;function g(){return r.createDocumentFragment()}function v(e,t){H(l,e,t)}function y(e,t){H(u,e,t)}function b(e){v(e.parentNode,p(e))}function C(e){v(e.parentNode,p(e)+1)}function w(e){y(e.parentNode,p(e))}function x(e){y(e.parentNode,p(e)+1)}function _(e){if(e){i[d]=i[f];i[m]=i[c]}else{i[f]=i[d];i[c]=i[m]}i.collapsed=l}function E(e){b(e);x(e)}function N(e){v(e,0);y(e,e.nodeType===1?e.childNodes.length:e.nodeValue.length)}function S(e,t){var n=i[f],r=i[c],o=i[d],a=i[m],s=t.startContainer,l=t.startOffset,u=t.endContainer,h=t.endOffset;if(e===0){return P(n,r,s,l)}if(e===1){return P(o,a,s,l)}if(e===2){return P(o,a,u,h)}if(e===3){return P(n,r,u,h)}}function k(){O(s)}function T(){return O(o)}function R(){return O(a)}function A(e){var t=this[f],i=this[c],r,o;if((t.nodeType===3||t.nodeType===4)&&t.nodeValue){if(!i){t.parentNode.insertBefore(e,t)}else if(i>=t.nodeValue.length){n.insertAfter(e,t)}else{r=t.splitText(i);t.parentNode.insertBefore(e,r)}}else{if(t.childNodes.length>0){o=t.childNodes[i]}if(o){t.insertBefore(e,o)}else{if(t.nodeType==3){n.insertAfter(e,t)}else{t.appendChild(e)}}}}function B(e){var t=i.extractContents();i.insertNode(e);e.appendChild(t);i.selectNode(e)}function D(){return h(new t(n),{startContainer:i[f],startOffset:i[c],endContainer:i[d],endOffset:i[m],collapsed:i.collapsed,commonAncestorContainer:i.commonAncestorContainer})}function L(e,t){var n;if(e.nodeType==3){return e}if(t<0){return e}n=e.firstChild;while(n&&t>0){--t;n=n.nextSibling}if(n){return n}return e}function M(){return i[f]==i[d]&&i[c]==i[m]}function P(e,t,i,r){var o,a,s,l,u,c;if(e==i){if(t==r){return 0}if(t<r){return-1}return 1}o=i;while(o&&o.parentNode!=e){o=o.parentNode}if(o){a=0;s=e.firstChild;while(s!=o&&a<t){a++;s=s.nextSibling}if(t<=a){return-1}return 1}o=e;while(o&&o.parentNode!=i){o=o.parentNode}if(o){a=0;s=i.firstChild;while(s!=o&&a<r){a++;s=s.nextSibling}if(a<r){return-1}return 1}l=n.findCommonAncestor(e,i);u=e;while(u&&u.parentNode!=l){u=u.parentNode}if(!u){u=l}c=i;while(c&&c.parentNode!=l){c=c.parentNode}if(!c){c=l}if(u==c){return 0}s=l.firstChild;while(s){if(s==u){return-1}if(s==c){return 1}s=s.nextSibling}}function H(e,t,r){var o,a;if(e){i[f]=t;i[c]=r}else{i[d]=t;i[m]=r}o=i[d];while(o.parentNode){o=o.parentNode}a=i[f];while(a.parentNode){a=a.parentNode}if(a==o){if(P(i[f],i[c],i[d],i[m])>0){i.collapse(e)}}else{i.collapse(e)}i.collapsed=M();i.commonAncestorContainer=n.findCommonAncestor(i[f],i[d])}function O(e){var t,n=0,r=0,o,a,s,l,u,c;if(i[f]==i[d]){return I(e)}for(t=i[d],o=t.parentNode;o;t=o,o=o.parentNode){if(o==i[f]){return F(t,e)}++n}for(t=i[f],o=t.parentNode;o;t=o,o=o.parentNode){if(o==i[d]){return z(t,e)}++r}a=r-n;s=i[f];while(a>0){s=s.parentNode;a--}l=i[d];while(a<0){l=l.parentNode;a++}for(u=s.parentNode,c=l.parentNode;u!=c;u=u.parentNode,c=c.parentNode){s=u;l=c}return W(s,l,e)}function I(e){var t,n,o,u,d,h,p,v,y;if(e!=s){t=g()}if(i[c]==i[m]){return t}if(i[f].nodeType==3){n=i[f].nodeValue;o=n.substring(i[c],i[m]);if(e!=a){u=i[f];v=i[c];y=i[m]-i[c];if(v===0&&y>=u.nodeValue.length-1){u.parentNode.removeChild(u)}else{u.deleteData(v,y)}i.collapse(l)}if(e==s){return}if(o.length>0){t.appendChild(r.createTextNode(o))}return t}u=L(i[f],i[c]);d=i[m]-i[c];while(u&&d>0){h=u.nextSibling;p=$(u,e);if(t){t.appendChild(p)}--d;u=h}if(e!=a){i.collapse(l)}return t}function F(e,t){var n,r,o,l,f,d;if(t!=s){n=g()}r=U(e,t);if(n){n.appendChild(r)}o=p(e);l=o-i[c];if(l<=0){if(t!=a){i.setEndBefore(e);i.collapse(u)}return n}r=e.previousSibling;while(l>0){f=r.previousSibling;d=$(r,t);if(n){n.insertBefore(d,n.firstChild)}--l;r=f}if(t!=a){i.setEndBefore(e);i.collapse(u)}return n}function z(e,t){var n,r,o,u,c,f;if(t!=s){n=g()}o=V(e,t);if(n){n.appendChild(o)}r=p(e);++r;u=i[m]-r;o=e.nextSibling;while(o&&u>0){c=o.nextSibling;f=$(o,t);if(n){n.appendChild(f)}--u;o=c}if(t!=a){i.setStartAfter(e);i.collapse(l)}return n}function W(e,t,n){var r,o,u,c,f,d,m;if(n!=s){o=g()}r=V(e,n);if(o){o.appendChild(r)}u=p(e);c=p(t);++u;f=c-u;d=e.nextSibling;while(f>0){m=d.nextSibling;r=$(d,n);if(o){o.appendChild(r)}d=m;--f}r=U(t,n);if(o){o.appendChild(r)}if(n!=a){i.setStartAfter(e);i.collapse(l)}return o}function U(e,t){var n=L(i[d],i[m]-1),r,o;var a,c,f,h=n!=i[d];if(n==e){return q(n,h,u,t)}r=n.parentNode;o=q(r,u,u,t);while(r){while(n){a=n.previousSibling;c=q(n,h,u,t);if(t!=s){o.insertBefore(c,o.firstChild)}h=l;n=a}if(r==e){return o}n=r.previousSibling;r=r.parentNode;f=q(r,u,u,t);if(t!=s){f.appendChild(o)}o=f}}function V(e,t){var n=L(i[f],i[c]),r=n!=i[f];var o,a,d,m,h;if(n==e){return q(n,r,l,t)}o=n.parentNode;a=q(o,u,l,t);while(o){while(n){d=n.nextSibling;m=q(n,r,l,t);if(t!=s){a.appendChild(m)}r=l;n=d}if(o==e){return a}n=o.nextSibling;o=o.parentNode;h=q(o,u,l,t);if(t!=s){h.appendChild(a)}a=h}}function q(e,t,r,o){var l,f,d,h,p;if(t){return $(e,o)}if(e.nodeType==3){l=e.nodeValue;if(r){h=i[c];f=l.substring(h);d=l.substring(0,h)}else{h=i[m];f=l.substring(0,h);d=l.substring(h)}if(o!=a){e.nodeValue=d}if(o==s){return}p=n.clone(e,u);p.nodeValue=f;return p}if(o==s){return}return n.clone(e,u)}function $(e,t){if(t!=s){return t==a?n.clone(e,l):e}e.parentNode.removeChild(e)}function j(){return n.create("body",null,R()).outerText}h(i,{startContainer:r,startOffset:0,endContainer:r,endOffset:0,collapsed:l,commonAncestorContainer:r,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:v,setEnd:y,setStartBefore:b,setStartAfter:C,setEndBefore:w,setEndAfter:x,collapse:_,selectNode:E,selectNodeContents:N,compareBoundaryPoints:S,deleteContents:k,extractContents:T,cloneContents:R,insertNode:A,surroundContents:B,cloneRange:D,toStringIE:j});return i}t.prototype.toString=function(){return this.toStringIE()};return t});r("tinymce/html/Entities",["tinymce/util/Tools"],function(e){var t=e.makeMap;var n,i,r,o=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,a=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,s=/[<>&\"\']/g,l=/&(#x|#)?([\w]+);/g,u={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};i={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"};r={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};function c(e){var t;t=document.createElement("div");t.innerHTML=e;return t.textContent||t.innerText||e}function f(e,t){var n,r,o,a={};if(e){e=e.split(",");t=t||10;for(n=0;n<e.length;n+=2){r=String.fromCharCode(parseInt(e[n],t));if(!i[r]){o="&"+e[n+1]+";";a[r]=o;a[o]=r}}return a}}n=f("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,"+"5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,"+"5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,"+"5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,"+"68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,"+"6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,"+"6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,"+"75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,"+"7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,"+"7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,"+"sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,"+"st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,"+"t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,"+"tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,"+"u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,"+"81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,"+"8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,"+"8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,"+"8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,"+"8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,"+"nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,"+"rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,"+"Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,"+"80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,"+"811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var d={encodeRaw:function(e,t){return e.replace(t?o:a,function(e){return i[e]||e})},encodeAllRaw:function(e){return(""+e).replace(s,function(e){return i[e]||e})},encodeNumeric:function(e,t){return e.replace(t?o:a,function(e){if(e.length>1){return"&#"+((e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320)+65536)+";"}return i[e]||"&#"+e.charCodeAt(0)+";"})},encodeNamed:function(e,t,r){r=r||n;return e.replace(t?o:a,function(e){return i[e]||r[e]||e})},getEncodeFunc:function(e,r){r=f(r)||n;function s(e,t){return e.replace(t?o:a,function(e){return i[e]||r[e]||"&#"+e.charCodeAt(0)+";"||e})}function l(e,t){return d.encodeNamed(e,t,r)}e=t(e.replace(/\+/g,","));if(e.named&&e.numeric){return s}if(e.named){if(r){return l}return d.encodeNamed}if(e.numeric){return d.encodeNumeric}return d.encodeRaw},decode:function(e){return e.replace(l,function(e,t,i){if(t){i=parseInt(i,t.length===2?16:10);if(i>65535){i-=65536;return String.fromCharCode(55296+(i>>10),56320+(i&1023))}else{return u[i]||String.fromCharCode(i)}}return r[e]||n[e]||c(e)})}};return d});r("tinymce/Env",[],function(){var e=navigator,t=e.userAgent;var n,i,r,o,a,s,l;n=window.opera&&window.opera.buildNumber;i=/WebKit/.test(t);r=!i&&!n&&/MSIE/gi.test(t)&&/Explorer/gi.test(e.appName);r=r&&/MSIE (\w+)\./.exec(t)[1];o=t.indexOf("Trident/")!=-1&&(t.indexOf("rv:")!=-1||e.appName.indexOf("Netscape")!=-1)?11:false;r=r||o;a=!i&&!o&&/Gecko/.test(t);s=t.indexOf("Mac")!=-1;l=/(iPad|iPhone)/.test(t);var u=!l||t.match(/AppleWebKit\/(\d*)/)[1]>=534;return{opera:n,webkit:i,ie:r,gecko:a,mac:s,iOS:l,contentEditable:u,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:r!=8,range:window.getSelection&&"Range"in window,documentMode:r?document.documentMode||7:10}});r("tinymce/dom/StyleSheetLoader",[],function(){"use strict";return function(e,t){var n=0,i={},r;t=t||{};r=t.maxLoadTime||5e3;function o(t){e.getElementsByTagName("head")[0].appendChild(t)}function a(t,a,s){var l,u,c,f;function d(){var e=f.passed,t=e.length;while(t--){e[t]()}f.status=2;f.passed=[];f.failed=[]}function m(){var e=f.failed,t=e.length;while(t--){e[t]()}f.status=3;f.passed=[];f.failed=[]}function h(){var e=navigator.userAgent.match(/WebKit\/(\d*)/);return!!(e&&e[1]<536)}function p(e,t){if(!e()){if((new Date).getTime()-c<r){window.setTimeout(t,0)}else{m()}}}function g(){p(function(){var t=e.styleSheets,n,i=t.length,r;while(i--){n=t[i];r=n.ownerNode?n.ownerNode:n.owningElement;if(r&&r.id===l.id){d();return true}}},g)}function v(){p(function(){try{var e=u.sheet.cssRules;d();return!!e}catch(e){}},v)}if(!i[t]){f={passed:[],failed:[]};i[t]=f}else{f=i[t]}if(a){f.passed.push(a)}if(s){f.failed.push(s)}if(f.status==1){return}if(f.status==2){d();return}if(f.status==3){m();return}f.status=1;l=e.createElement("link");l.rel="stylesheet";l.type="text/css";l.id="u"+n++;l.async=false;l.defer=false;c=(new Date).getTime();if("onload"in l&&!h()){l.onload=g;l.onerror=m}else{if(navigator.userAgent.indexOf("Firefox")>0){u=e.createElement("style");u.textContent='@import "'+t+'"';v();o(u);return}else{g()}}o(l);l.href=t}this.load=a}});r("tinymce/dom/DOMUtils",["tinymce/dom/Sizzle","tinymce/html/Styles","tinymce/dom/EventUtils","tinymce/dom/TreeWalker","tinymce/dom/Range","tinymce/html/Entities","tinymce/Env","tinymce/util/Tools","tinymce/dom/StyleSheetLoader"],function(e,n,i,r,o,a,s,l,u){var c=l.each,f=l.is,d=l.grep,m=l.trim,h=l.extend;var p=s.webkit,g=s.ie;var v=/^([a-z0-9],?)+$/i;var y=/^[ \t\r\n]*$/;var b=l.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," ");function C(e,t){var r=this,o;r.doc=e;r.win=window;r.files={};r.counter=0;r.stdMode=!g||e.documentMode>=8;r.boxModel=!g||e.compatMode=="CSS1Compat"||r.stdMode;r.hasOuterHTML="outerHTML"in e.createElement("a");r.styleSheetLoader=new u(e);this.boundEvents=[];r.settings=t=h({keep_values:false,hex_colors:1},t);r.schema=t.schema;r.styles=new n({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema);r.fixDoc(e);r.events=t.ownEvents?new i(t.proxy):i.Event;o=t.schema?t.schema.getBlockElements():{};r.isBlock=function(e){if(!e){return false}var t=e.nodeType;if(t){return!!(t===1&&o[e.nodeName])}return!!o[e]}}C.prototype={root:null,props:{for:"htmlFor",class:"className",className:"className",checked:"checked",disabled:"disabled",maxlength:"maxLength",readonly:"readOnly",selected:"selected",value:"value",id:"id",name:"name",type:"type"},fixDoc:function(e){var t=this.settings,n;if(g&&t.schema){("abbr article aside audio canvas "+"details figcaption figure footer "+"header hgroup mark menu meter nav "+"output progress section summary "+"time video").replace(/\w+/g,function(t){e.createElement(t)});for(n in t.schema.getCustomElements()){e.createElement(n)}}},clone:function(e,t){var n=this,i,r;if(!g||e.nodeType!==1||t){return e.cloneNode(t)}r=n.doc;if(!t){i=r.createElement(e.nodeName);c(n.getAttribs(e),function(t){n.setAttrib(i,t.nodeName,n.getAttrib(e,t.nodeName))});return i}return i.firstChild},getRoot:function(){var e=this;return e.get(e.settings.root_element)||e.doc.body},getViewPort:function(e){var t,n;e=!e?this.win:e;t=e.document;n=this.boxModel?t.documentElement:t.body;return{x:e.pageXOffset||n.scrollLeft,y:e.pageYOffset||n.scrollTop,w:e.innerWidth||n.clientWidth,h:e.innerHeight||n.clientHeight}},getRect:function(e){var t=this,n,i;e=t.get(e);n=t.getPos(e);i=t.getSize(e);return{x:n.x,y:n.y,w:i.w,h:i.h}},getSize:function(e){var t=this,n,i;e=t.get(e);n=t.getStyle(e,"width");i=t.getStyle(e,"height");if(n.indexOf("px")===-1){n=0}if(i.indexOf("px")===-1){i=0}return{w:parseInt(n,10)||e.offsetWidth||e.clientWidth,h:parseInt(i,10)||e.offsetHeight||e.clientHeight}},getParent:function(e,t,n){return this.getParents(e,t,n,false)},getParents:function(e,n,i,r){var o=this,a,s=[];e=o.get(e);r=r===t;i=i||(o.getRoot().nodeName!="BODY"?o.getRoot().parentNode:null);if(f(n,"string")){a=n;if(n==="*"){n=function(e){return e.nodeType==1}}else{n=function(e){return o.is(e,a)}}}while(e){if(e==i||!e.nodeType||e.nodeType===9){break}if(!n||n(e)){if(r){s.push(e)}else{return e}}e=e.parentNode}return r?s:null},get:function(e){var t;if(e&&this.doc&&typeof e=="string"){t=e;e=this.doc.getElementById(e);if(e&&e.id!==t){return this.doc.getElementsByName(t)[1]}}return e},getNext:function(e,t){return this._findSib(e,t,"nextSibling")},getPrev:function(e,t){return this._findSib(e,t,"previousSibling")},select:function(t,n){var i=this;return e(t,i.get(n)||i.get(i.settings.root_element)||i.doc,[])},is:function(n,i){var r;if(n.length===t){if(i==="*"){return n.nodeType==1}if(v.test(i)){i=i.toLowerCase().split(/,/);n=n.nodeName.toLowerCase();for(r=i.length-1;r>=0;r--){if(i[r]==n){return true}}return false}}if(n.nodeType&&n.nodeType!=1){return false}var o=n.nodeType?[n]:n;return e(i,o[0].ownerDocument||o[0],null,o).length>0},add:function(e,t,n,i,r){var o=this;return this.run(e,function(e){var a;a=f(t,"string")?o.doc.createElement(t):t;o.setAttribs(a,n);if(i){if(i.nodeType){a.appendChild(i)}else{o.setHTML(a,i)}}return!r?e.appendChild(a):a})},create:function(e,t,n){return this.add(this.doc.createElement(e),e,t,n,1)},createHTML:function(e,t,n){var i="",r;i+="<"+e;for(r in t){if(t.hasOwnProperty(r)&&t[r]!==null){i+=" "+r+'="'+this.encode(t[r])+'"'}}if(typeof n!="undefined"){return i+">"+n+"</"+e+">"}return i+" />"},createFragment:function(e){var t,n,i=this.doc,r;r=i.createElement("div");t=i.createDocumentFragment();if(e){r.innerHTML=e}while(n=r.firstChild){t.appendChild(n)}return t},remove:function(e,t){return this.run(e,function(e){var n,i=e.parentNode;if(!i){return null}if(t){while(n=e.firstChild){if(!g||n.nodeType!==3||n.nodeValue){i.insertBefore(n,e)}else{e.removeChild(n)}}}return i.removeChild(e)})},setStyle:function(e,t,n){return this.run(e,function(e){var i=this,r,o;if(t){if(typeof t==="string"){r=e.style;t=t.replace(/-(\D)/g,function(e,t){return t.toUpperCase()});if(typeof n==="number"&&!b[t]){n+="px"}if(t==="opacity"&&e.runtimeStyle&&typeof e.runtimeStyle.opacity==="undefined"){r.filter=n===""?"":"alpha(opacity="+n*100+")"}if(t=="float"){t="cssFloat"in e.style?"cssFloat":"styleFloat"}try{r[t]=n}catch(e){}if(i.settings.update_styles){e.removeAttribute("data-mce-style")}}else{for(o in t){i.setStyle(e,o,t[o])}}}})},getStyle:function(e,n,i){e=this.get(e);if(!e){return}if(this.doc.defaultView&&i){n=n.replace(/[A-Z]/g,function(e){return"-"+e});try{return this.doc.defaultView.getComputedStyle(e,null).getPropertyValue(n)}catch(e){return null}}n=n.replace(/-(\D)/g,function(e,t){return t.toUpperCase()});if(n=="float"){n=g?"styleFloat":"cssFloat"}if(e.currentStyle&&i){return e.currentStyle[n]}return e.style?e.style[n]:t},setStyles:function(e,t){this.setStyle(e,t)},css:function(e,t,n){this.setStyle(e,t,n)},removeAllAttribs:function(e){return this.run(e,function(e){var t,n=e.attributes;for(t=n.length-1;t>=0;t--){e.removeAttributeNode(n.item(t))}})},setAttrib:function(e,t,n){var i=this;if(!e||!t){return}return this.run(e,function(e){var r=i.settings;var o=e.getAttribute(t);if(n!==null){switch(t){case"style":if(!f(n,"string")){c(n,function(t,n){i.setStyle(e,n,t)});return}if(r.keep_values){if(n){e.setAttribute("data-mce-style",n,2)}else{e.removeAttribute("data-mce-style",2)}}e.style.cssText=n;break;case"class":e.className=n||"";break;case"src":case"href":if(r.keep_values){if(r.url_converter){n=r.url_converter.call(r.url_converter_scope||i,n,t,e)}i.setAttrib(e,"data-mce-"+t,n,2)}break;case"shape":e.setAttribute("data-mce-style",n);break}}if(f(n)&&n!==null&&n.length!==0){e.setAttribute(t,""+n,2)}else{e.removeAttribute(t,2)}if(o!=n&&r.onSetAttrib){r.onSetAttrib({attrElm:e,attrName:t,attrValue:n})}})},setAttribs:function(e,t){var n=this;return this.run(e,function(e){c(t,function(t,i){n.setAttrib(e,i,t)})})},getAttrib:function(e,t,n){var i,r=this,o;e=r.get(e);if(!e||e.nodeType!==1){return n===o?false:n}if(!f(n)){n=""}if(/^(src|href|style|coords|shape)$/.test(t)){i=e.getAttribute("data-mce-"+t);if(i){return i}}if(g&&r.props[t]){i=e[r.props[t]];i=i&&i.nodeValue?i.nodeValue:i}if(!i){i=e.getAttribute(t,2)}if(/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noshade|nowrap|readonly|selected)$/.test(t)){if(e[r.props[t]]===true&&i===""){return t}return i?t:""}if(e.nodeName==="FORM"&&e.getAttributeNode(t)){return e.getAttributeNode(t).nodeValue}if(t==="style"){i=i||e.style.cssText;if(i){i=r.serializeStyle(r.parseStyle(i),e.nodeName);if(r.settings.keep_values){e.setAttribute("data-mce-style",i)}}}if(p&&t==="class"&&i){i=i.replace(/(apple|webkit)\-[a-z\-]+/gi,"")}if(g){switch(t){case"rowspan":case"colspan":if(i===1){i=""}break;case"size":if(i==="+0"||i===20||i===0){i=""}break;case"width":case"height":case"vspace":case"checked":case"disabled":case"readonly":if(i===0){i=""}break;case"hspace":if(i===-1){i=""}break;case"maxlength":case"tabindex":if(i===32768||i===2147483647||i==="32768"){i=""}break;case"multiple":case"compact":case"noshade":case"nowrap":if(i===65535){return t}return n;case"shape":i=i.toLowerCase();break;default:if(t.indexOf("on")===0&&i){i=(""+i).replace(/^function\s+\w+\(\)\s+\{\s+(.*)\s+\}$/,"$1")}}}return i!==o&&i!==null&&i!==""?""+i:n},getPos:function(e,t){var n=this,i=0,r=0,o,a=n.doc,s;e=n.get(e);t=t||a.body;if(e){if(t===a.body&&e.getBoundingClientRect){s=e.getBoundingClientRect();t=n.boxModel?a.documentElement:a.body;i=s.left+(a.documentElement.scrollLeft||a.body.scrollLeft)-t.clientLeft;r=s.top+(a.documentElement.scrollTop||a.body.scrollTop)-t.clientTop;return{x:i,y:r}}o=e;while(o&&o!=t&&o.nodeType){i+=o.offsetLeft||0;r+=o.offsetTop||0;o=o.offsetParent}o=e.parentNode;while(o&&o!=t&&o.nodeType){i-=o.scrollLeft||0;r-=o.scrollTop||0;o=o.parentNode}}return{x:i,y:r}},parseStyle:function(e){return this.styles.parse(e)},serializeStyle:function(e,t){return this.styles.serialize(e,t)},addStyle:function(e){var t=this,n=t.doc,i,r;if(t!==C.DOM&&n===document){var o=C.DOM.addedStyles;o=o||[];if(o[e]){return}o[e]=true;C.DOM.addedStyles=o}r=n.getElementById("mceDefaultStyles");if(!r){r=n.createElement("style");r.id="mceDefaultStyles";r.type="text/css";i=n.getElementsByTagName("head")[0];if(i.firstChild){i.insertBefore(r,i.firstChild)}else{i.appendChild(r)}}if(r.styleSheet){r.styleSheet.cssText+=e}else{r.appendChild(n.createTextNode(e))}},loadCSS:function(e){var t=this,n=t.doc,i;if(t!==C.DOM&&n===document){C.DOM.loadCSS(e);return}if(!e){e=""}i=n.getElementsByTagName("head")[0];c(e.split(","),function(e){var r;if(t.files[e]){return}t.files[e]=true;r=t.create("link",{rel:"stylesheet",href:e});if(g&&n.documentMode&&n.recalc){r.onload=function(){if(n.recalc){n.recalc()}r.onload=null}}i.appendChild(r)})},addClass:function(e,t){return this.run(e,function(e){var n;if(!t){return 0}if(this.hasClass(e,t)){return e.className}n=this.removeClass(e,t);e.className=n=(n!==""?n+" ":"")+t;return n})},removeClass:function(e,t){var n=this,i;return n.run(e,function(e){var r;if(n.hasClass(e,t)){if(!i){i=new RegExp("(^|\\s+)"+t+"(\\s+|$)","g")}r=e.className.replace(i," ");r=m(r!=" "?r:"");e.className=r;if(!r){e.removeAttribute("class");e.removeAttribute("className")}return r}return e.className})},hasClass:function(e,t){e=this.get(e);if(!e||!t){return false}return(" "+e.className+" ").indexOf(" "+t+" ")!==-1},toggleClass:function(e,n,i){i=i===t?!this.hasClass(e,n):i;if(this.hasClass(e,n)!==i){if(i){this.addClass(e,n)}else{this.removeClass(e,n)}}},show:function(e){return this.setStyle(e,"display","block")},hide:function(e){return this.setStyle(e,"display","none")},isHidden:function(e){e=this.get(e);return!e||e.style.display=="none"||this.getStyle(e,"display")=="none"},uniqueId:function(e){return(!e?"mce_":e)+this.counter++},setHTML:function(e,t){var n=this;return n.run(e,function(e){if(g){while(e.firstChild){e.removeChild(e.firstChild)}try{e.innerHTML="<br />"+t;e.removeChild(e.firstChild)}catch(r){var i=n.create("div");i.innerHTML="<br />"+t;c(d(i.childNodes),function(t,n){if(n&&e.canHaveHTML){e.appendChild(t)}})}}else{e.innerHTML=t}return t})},getOuterHTML:function(e){var t,n=this;e=n.get(e);if(!e){return null}if(e.nodeType===1&&n.hasOuterHTML){return e.outerHTML}t=(e.ownerDocument||n.doc).createElement("body");t.appendChild(e.cloneNode(true));return t.innerHTML},setOuterHTML:function(e,t,n){var i=this;return i.run(e,function(e){function r(){var r,o;o=n.createElement("body");o.innerHTML=t;r=o.lastChild;while(r){i.insertAfter(r.cloneNode(true),e);r=r.previousSibling}i.remove(e)}if(e.nodeType==1){n=n||e.ownerDocument||i.doc;if(g){try{if(e.nodeType==1&&i.hasOuterHTML){e.outerHTML=t}else{r()}}catch(e){r()}}else{r()}}})},decode:a.decode,encode:a.encodeAllRaw,insertAfter:function(e,t){t=this.get(t);return this.run(e,function(e){var n,i;n=t.parentNode;i=t.nextSibling;if(i){n.insertBefore(e,i)}else{n.appendChild(e)}return e})},replace:function(e,t,n){var i=this;return i.run(t,function(t){if(f(t,"array")){e=e.cloneNode(true)}if(n){c(d(t.childNodes),function(t){e.appendChild(t)})}return t.parentNode.replaceChild(e,t)})},rename:function(e,t){var n=this,i;if(e.nodeName!=t.toUpperCase()){i=n.create(t);c(n.getAttribs(e),function(t){n.setAttrib(i,t.nodeName,n.getAttrib(e,t.nodeName))});n.replace(i,e,1)}return i||e},findCommonAncestor:function(e,t){var n=e,i;while(n){i=t;while(i&&n!=i){i=i.parentNode}if(n==i){break}n=n.parentNode}if(!n&&e.ownerDocument){return e.ownerDocument.documentElement}return n},toHex:function(e){return this.styles.toHex(l.trim(e))},run:function(e,t,n){var i=this,r;if(typeof e==="string"){e=i.get(e)}if(!e){return false}n=n||this;if(!e.nodeType&&(e.length||e.length===0)){r=[];c(e,function(e,o){if(e){if(typeof e=="string"){e=i.get(e)}r.push(t.call(n,e,o))}});return r}return t.call(n,e)},getAttribs:function(e){var t;e=this.get(e);if(!e){return[]}if(g){t=[];if(e.nodeName=="OBJECT"){return e.attributes}if(e.nodeName==="OPTION"&&this.getAttrib(e,"selected")){t.push({specified:1,nodeName:"selected"})}var n=/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi;e.cloneNode(false).outerHTML.replace(n,"").replace(/[\w:\-]+/gi,function(e){t.push({specified:1,nodeName:e})});return t}return e.attributes},isEmpty:function(e,t){var n=this,i,o,a,s,l,u=0;e=e.firstChild;if(e){s=new r(e,e.parentNode);t=t||n.schema?n.schema.getNonEmptyElements():null;do{a=e.nodeType;if(a===1){if(e.getAttribute("data-mce-bogus")){continue}l=e.nodeName.toLowerCase();if(t&&t[l]){if(l==="br"){u++;continue}return false}o=n.getAttribs(e);i=o.length;while(i--){l=o[i].nodeName;if(l==="name"||l==="data-mce-bookmark"){return false}}}if(a==8){return false}if(a===3&&!y.test(e.nodeValue)){return false}}while(e=s.next())}return u<=1},createRng:function(){var e=this.doc;return e.createRange?e.createRange():new o(this)},nodeIndex:function(e,t){var n=0,i,r;if(e){for(i=e.nodeType,e=e.previousSibling;e;e=e.previousSibling){r=e.nodeType;if(t&&r==3){if(r==i||!e.nodeValue.length){continue}}n++;i=r}}return n},split:function(e,t,n){var i=this,r=i.createRng(),o,a,s;function l(e){var t,n=e.childNodes,r=e.nodeType;function o(e){var t=e.previousSibling&&e.previousSibling.nodeName=="SPAN";var n=e.nextSibling&&e.nextSibling.nodeName=="SPAN";return t&&n}if(r==1&&e.getAttribute("data-mce-type")=="bookmark"){return}for(t=n.length-1;t>=0;t--){l(n[t])}if(r!=9){if(r==3&&e.nodeValue.length>0){var a=m(e.nodeValue).length;if(!i.isBlock(e.parentNode)||a>0||a===0&&o(e)){return}}else if(r==1){n=e.childNodes;if(n.length==1&&n[0]&&n[0].nodeType==1&&n[0].getAttribute("data-mce-type")=="bookmark"){e.parentNode.insertBefore(n[0],e)}if(n.length||/^(br|hr|input|img)$/i.test(e.nodeName)){return}}i.remove(e)}return e}if(e&&t){r.setStart(e.parentNode,i.nodeIndex(e));r.setEnd(t.parentNode,i.nodeIndex(t));o=r.extractContents();r=i.createRng();r.setStart(t.parentNode,i.nodeIndex(t)+1);r.setEnd(e.parentNode,i.nodeIndex(e)+1);a=r.extractContents();s=e.parentNode;s.insertBefore(l(o),e);if(n){s.replaceChild(n,t)}else{s.insertBefore(t,e)}s.insertBefore(l(a),e);i.remove(e);return n||t}},bind:function(e,t,n,i){var r=this;if(l.isArray(e)){var o=e.length;while(o--){e[o]=r.bind(e[o],t,n,i)}return e}if(r.settings.collect&&(e===r.doc||e===r.win)){r.boundEvents.push([e,t,n,i])}return r.events.bind(e,t,n,i||r)},unbind:function(e,t,n){var i=this,r;if(l.isArray(e)){r=e.length;while(r--){e[r]=i.unbind(e[r],t,n)}return e}if(i.boundEvents&&(e===i.doc||e===i.win)){r=i.boundEvents.length;while(r--){var o=i.boundEvents[r];if(e==o[0]&&(!t||t==o[1])&&(!n||n==o[2])){this.events.unbind(o[0],o[1],o[2])}}}return this.events.unbind(e,t,n)},fire:function(e,t,n){
return this.events.fire(e,t,n)},getContentEditable:function(e){var t;if(!e||e.nodeType!=1){return null}t=e.getAttribute("data-mce-contenteditable");if(t&&t!=="inherit"){return t}return e.contentEditable!=="inherit"?e.contentEditable:null},getContentEditableParent:function(e){var t=this.getRoot(),n=null;for(;e&&e!==t;e=e.parentNode){n=this.getContentEditable(e);if(n!==null){break}}return n},destroy:function(){var t=this;if(t.boundEvents){var n=t.boundEvents.length;while(n--){var i=t.boundEvents[n];this.events.unbind(i[0],i[1],i[2])}t.boundEvents=null}if(e.setDocument){e.setDocument()}t.win=t.doc=t.root=t.events=t.frag=null},isChildOf:function(e,t){while(e){if(t===e){return true}e=e.parentNode}return false},dumpRng:function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},_findSib:function(e,t,n){var i=this,r=t;if(e){if(typeof r=="string"){r=function(e){return i.is(e,t)}}for(e=e[n];e;e=e[n]){if(r(e)){return e}}}return null}};C.DOM=new C(document);return C});r("tinymce/dom/ScriptLoader",["tinymce/dom/DOMUtils","tinymce/util/Tools"],function(e,t){var n=e.DOM;var i=t.each,r=t.grep;function o(){var e=0,t=1,o=2,a={},s=[],l={},u=[],c=0,f;function d(e,t){var i=n,r,o;function a(){i.remove(o);if(r){r.onreadystatechange=r.onload=r=null}t()}function s(){if(typeof console!=="undefined"&&console.log){console.log("Failed to load: "+e)}}o=i.uniqueId();r=document.createElement("script");r.id=o;r.type="text/javascript";r.src=e;if("onreadystatechange"in r){r.onreadystatechange=function(){if(/loaded|complete/.test(r.readyState)){a()}}}else{r.onload=a}r.onerror=s;(document.getElementsByTagName("head")[0]||document.body).appendChild(r)}this.isDone=function(e){return a[e]==o};this.markDone=function(e){a[e]=o};this.add=this.load=function(t,n,i){var r=a[t];if(r==f){s.push(t);a[t]=e}if(n){if(!l[t]){l[t]=[]}l[t].push({func:n,scope:i||this})}};this.loadQueue=function(e,t){this.loadScripts(s,e,t)};this.loadScripts=function(e,n,s){var m;function h(e){i(l[e],function(e){e.func.call(e.scope)});l[e]=f}u.push({func:n,scope:s||this});m=function(){var n=r(e);e.length=0;i(n,function(e){if(a[e]==o){h(e);return}if(a[e]!=t){a[e]=t;c++;d(e,function(){a[e]=o;c--;h(e);m()})}});if(!c){i(u,function(e){e.func.call(e.scope)});u.length=0}};m()}}o.ScriptLoader=new o;return o});r("tinymce/AddOnManager",["tinymce/dom/ScriptLoader","tinymce/util/Tools"],function(e,n){var i=n.each;function r(){var e=this;e.items=[];e.urls={};e.lookup={}}r.prototype={get:function(e){if(this.lookup[e]){return this.lookup[e].instance}else{return t}},dependencies:function(e){var t;if(this.lookup[e]){t=this.lookup[e].dependencies}return t||[]},requireLangPack:function(t,n){var i=r.language;if(i&&r.languageLoad!==false){if(n){n=","+n+",";if(n.indexOf(","+i.substr(0,2)+",")!=-1){i=i.substr(0,2)}else if(n.indexOf(","+i+",")==-1){return}}e.ScriptLoader.add(this.urls[t]+"/langs/"+i+".js")}},add:function(e,t,n){this.items.push(t);this.lookup[e]={instance:t,dependencies:n};return t},createUrl:function(e,t){if(typeof t==="object"){return t}else{return{prefix:e.prefix,resource:t,suffix:e.suffix}}},addComponents:function(t,n){var r=this.urls[t];i(n,function(t){e.ScriptLoader.add(r+"/"+t)})},load:function(n,o,a,s){var l=this,u=o;function c(){var r=l.dependencies(n);i(r,function(e){var n=l.createUrl(o,e);l.load(n.resource,n,t,t)});if(a){if(s){a.call(s)}else{a.call(e)}}}if(l.urls[n]){return}if(typeof o==="object"){u=o.prefix+o.resource+o.suffix}if(u.indexOf("/")!==0&&u.indexOf("://")==-1){u=r.baseURL+"/"+u}l.urls[n]=u.substring(0,u.lastIndexOf("/"));if(l.lookup[n]){c()}else{e.ScriptLoader.add(u,c,s)}}};r.PluginManager=new r;r.ThemeManager=new r;return r});r("tinymce/html/Node",[],function(){var e=/^[ \t\r\n]*$/,t={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};function n(e,t,n){var i,r,o=n?"lastChild":"firstChild",a=n?"prev":"next";if(e[o]){return e[o]}if(e!==t){i=e[a];if(i){return i}for(r=e.parent;r&&r!==t;r=r.parent){i=r[a];if(i){return i}}}}function i(e,t){this.name=e;this.type=t;if(t===1){this.attributes=[];this.attributes.map={}}}i.prototype={replace:function(e){var t=this;if(e.parent){e.remove()}t.insert(e,t);t.remove();return t},attr:function(e,t){var n=this,i,r,o;if(typeof e!=="string"){for(r in e){n.attr(r,e[r])}return n}if(i=n.attributes){if(t!==o){if(t===null){if(e in i.map){delete i.map[e];r=i.length;while(r--){if(i[r].name===e){i=i.splice(r,1);return n}}}return n}if(e in i.map){r=i.length;while(r--){if(i[r].name===e){i[r].value=t;break}}}else{i.push({name:e,value:t})}i.map[e]=t;return n}else{return i.map[e]}}},clone:function(){var e=this,t=new i(e.name,e.type),n,r,o,a,s;if(o=e.attributes){s=[];s.map={};for(n=0,r=o.length;n<r;n++){a=o[n];if(a.name!=="id"){s[s.length]={name:a.name,value:a.value};s.map[a.name]=a.value}}t.attributes=s}t.value=e.value;t.shortEnded=e.shortEnded;return t},wrap:function(e){var t=this;t.parent.insert(e,t);e.append(t);return t},unwrap:function(){var e=this,t,n;for(t=e.firstChild;t;){n=t.next;e.insert(t,e,true);t=n}e.remove()},remove:function(){var e=this,t=e.parent,n=e.next,i=e.prev;if(t){if(t.firstChild===e){t.firstChild=n;if(n){n.prev=null}}else{i.next=n}if(t.lastChild===e){t.lastChild=i;if(i){i.next=null}}else{n.prev=i}e.parent=e.next=e.prev=null}return e},append:function(e){var t=this,n;if(e.parent){e.remove()}n=t.lastChild;if(n){n.next=e;e.prev=n;t.lastChild=e}else{t.lastChild=t.firstChild=e}e.parent=t;return e},insert:function(e,t,n){var i;if(e.parent){e.remove()}i=t.parent||this;if(n){if(t===i.firstChild){i.firstChild=e}else{t.prev.next=e}e.prev=t.prev;e.next=t;t.prev=e}else{if(t===i.lastChild){i.lastChild=e}else{t.next.prev=e}e.next=t.next;e.prev=t;t.next=e}e.parent=i;return e},getAll:function(e){var t=this,i,r=[];for(i=t.firstChild;i;i=n(i,t)){if(i.name===e){r.push(i)}}return r},empty:function(){var e=this,t,i,r;if(e.firstChild){t=[];for(r=e.firstChild;r;r=n(r,e)){t.push(r)}i=t.length;while(i--){r=t[i];r.parent=r.firstChild=r.lastChild=r.next=r.prev=null}}e.firstChild=e.lastChild=null;return e},isEmpty:function(t){var i=this,r=i.firstChild,o,a;if(r){do{if(r.type===1){if(r.attributes.map["data-mce-bogus"]){continue}if(t[r.name]){return false}o=r.attributes.length;while(o--){a=r.attributes[o].name;if(a==="name"||a.indexOf("data-mce-")===0){return false}}}if(r.type===8){return false}if(r.type===3&&!e.test(r.value)){return false}}while(r=n(r,i))}return true},walk:function(e){return n(this,null,e)}};i.create=function(e,n){var r,o;r=new i(e,t[e]||1);if(n){for(o in n){r.attr(o,n[o])}}return r};return i});r("tinymce/html/Schema",["tinymce/util/Tools"],function(e){var t={};var n=e.makeMap,i=e.each,r=e.extend,o=e.explode,a=e.inArray;function s(e,t){return e?e.split(t||" "):[]}function l(e){var n={},r,o;var a,l,u,c;function f(e,t,i){var o,a,l,u=arguments;function c(e){var t={},n,i;for(n=0,i=e.length;n<i;n++){t[e[n]]={}}return t}i=i||[];t=t||"";if(typeof i==="string"){i=s(i)}for(a=3;a<u.length;a++){if(typeof u[a]==="string"){u[a]=s(u[a])}i.push.apply(i,u[a])}e=s(e);o=e.length;while(o--){l=[].concat(r,s(t));n[e[o]]={attributes:c(l),attributesOrder:l,children:c(i)}}}function d(e,t){var i,r,o,a;e=s(e);i=e.length;t=s(t);while(i--){r=n[e[i]];for(o=0,a=t.length;o<a;o++){r.attributes[t[o]]={};r.attributesOrder.push(t[o])}}}if(t[e]){return t[e]}r=s("id accesskey class dir lang style tabindex title");o=s("address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul");a=s("a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd "+"label map noscript object q s samp script select small span strong sub sup "+"textarea u var #text #comment");if(e!="html4"){r.push.apply(r,s("contenteditable contextmenu draggable dropzone "+"hidden spellcheck translate"));o.push.apply(o,s("article aside details dialog figure header footer hgroup section nav"));a.push.apply(a,s("audio canvas command datalist mark meter output progress time wbr "+"video ruby bdi keygen"))}if(e!="html5-strict"){r.push("xml:lang");c=s("acronym applet basefont big font strike tt");a.push.apply(a,c);i(c,function(e){f(e,"",a)});u=s("center dir isindex noframes");o.push.apply(o,u);l=[].concat(o,a);i(u,function(e){f(e,"",l)})}l=l||[].concat(o,a);f("html","manifest","head body");f("head","","base command link meta noscript script style title");f("title hr noscript br");f("base","href target");f("link","href rel media hreflang type sizes hreflang");f("meta","name http-equiv content charset");f("style","media type scoped");f("script","src async defer type charset");f("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus "+"onhashchange onload onmessage onoffline ononline onpagehide onpageshow "+"onpopstate onresize onscroll onstorage onunload",l);f("address dt dd div caption","",l);f("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",a);f("blockquote","cite",l);f("ol","reversed start type","li");f("ul","","li");f("li","value",l);f("dl","","dt dd");f("a","href target rel media hreflang type",a);f("q","cite",a);f("ins del","cite datetime",l);f("img","src alt usemap ismap width height");f("iframe","src name width height",l);f("embed","src type width height");f("object","data type typemustmatch name usemap form width height",l,"param");f("param","name value");f("map","name",l,"area");f("area","alt coords shape href target rel media hreflang type");f("table","border","caption colgroup thead tfoot tbody tr"+(e=="html4"?" col":""));f("colgroup","span","col");f("col","span");f("tbody thead tfoot","","tr");f("tr","","td th");f("td","colspan rowspan headers",l);f("th","colspan rowspan headers scope abbr",l);f("form","accept-charset action autocomplete enctype method name novalidate target",l);f("fieldset","disabled form name",l,"legend");f("label","form for",a);f("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate "+"formtarget height list max maxlength min multiple name pattern readonly required size src step type value width");f("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e=="html4"?l:a);f("select","disabled form multiple name required size","option optgroup");f("optgroup","disabled label","option");f("option","disabled label selected value");f("textarea","cols dirname disabled form maxlength name readonly required rows wrap");f("menu","type label",l,"li");f("noscript","",l);if(e!="html4"){f("wbr");f("ruby","",a,"rt rp");f("figcaption","",l);f("mark rt rp summary bdi","",a);f("canvas","width height",l);f("video","src crossorigin poster preload autoplay mediagroup loop "+"muted controls width height buffered",l,"track source");f("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",l,"track source");f("source","src type media");f("track","kind src srclang label default");f("datalist","",a,"option");f("article section nav aside header footer","",l);f("hgroup","","h1 h2 h3 h4 h5 h6");f("figure","",l,"figcaption");f("time","datetime",a);f("dialog","open",l);f("command","type label icon disabled checked radiogroup command");f("output","for form name",a);f("progress","value max",a);f("meter","value min max low high optimum",a);f("details","open",l,"summary");f("keygen","autofocus challenge disabled form keytype name")}if(e!="html5-strict"){d("script","language xml:space");d("style","xml:space");d("object","declare classid codebase codetype archive standby align border hspace vspace");d("param","valuetype type");d("a","charset name rev shape coords");d("br","clear");d("applet","codebase archive code object alt name width height align hspace vspace");d("img","name longdesc align border hspace vspace");d("iframe","longdesc frameborder marginwidth marginheight scrolling align");d("font basefont","size color face");d("input","usemap align");d("select","onchange");d("textarea");d("h1 h2 h3 h4 h5 h6 div p legend caption","align");d("ul","type compact");d("li","type");d("ol dl menu dir","compact");d("pre","width xml:space");d("hr","align noshade size width");d("isindex","prompt");d("table","summary width frame rules cellspacing cellpadding align bgcolor");d("col","width align char charoff valign");d("colgroup","width align char charoff valign");d("thead","align char charoff valign");d("tr","align char charoff valign bgcolor");d("th","axis align char charoff valign nowrap bgcolor width height");d("form","accept");d("td","abbr axis scope align char charoff valign nowrap bgcolor width height");d("tfoot","align char charoff valign");d("tbody","align char charoff valign");d("area","nohref");d("body","background bgcolor text link vlink alink")}if(e!="html4"){d("input button select textarea","autofocus");d("input textarea","placeholder");d("a","download");d("link script img","crossorigin");d("iframe","sandbox seamless allowfullscreen")}i(s("a form meter progress dfn"),function(e){if(n[e]){delete n[e].children[e]}});delete n.caption.children.table;t[e]=n;return n}return function(e){var u=this,c={},f={},d=[],m,h;var p,g,v,y;var b,C,w,x={},_={};function E(i,o,a){var s=e[i];if(!s){s=t[i];if(!s){s=n(o," ",n(o.toUpperCase()," "));s=r(s,a);t[i]=s}}else{s=n(s,/[, ]/,n(s.toUpperCase(),/[, ]/))}return s}e=e||{};h=l(e.schema);if(e.verify_html===false){e.valid_elements="*[*]"}if(e.valid_styles){m={};i(e.valid_styles,function(e,t){m[t]=o(e)})}p=E("whitespace_elements","pre script noscript style textarea video audio iframe object");g=E("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr");v=E("short_ended_elements","area base basefont br col frame hr img input isindex link "+"meta param embed source wbr track");y=E("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize "+"noshade nowrap readonly selected autoplay loop controls");C=E("non_empty_elements","td th iframe video audio object script",v);w=E("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form "+"blockquote center dir fieldset header footer article section hgroup aside nav figure");b=E("block_elements","hr table tbody thead tfoot "+"th tr td li ol ul caption dl dt dd noscript menu isindex option "+"datalist select optgroup",w);i((e.special||"script noscript style textarea").split(" "),function(e){_[e]=new RegExp("</"+e+"[^>]*>","gi")});function N(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")}function S(e){var t,i,r,o,l,u,f,m,h,p,g,v,y,b,C,w,x,_,E,S=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,k=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,T=/[*?+]/;if(e){e=s(e,",");if(c["@"]){w=c["@"].attributes;x=c["@"].attributesOrder}for(t=0,i=e.length;t<i;t++){l=S.exec(e[t]);if(l){b=l[1];h=l[2];C=l[3];m=l[5];v={};y=[];u={attributes:v,attributesOrder:y};if(b==="#"){u.paddEmpty=true}if(b==="-"){u.removeEmpty=true}if(l[4]==="!"){u.removeEmptyAttrs=true}if(w){for(_ in w){v[_]=w[_]}y.push.apply(y,x)}if(m){m=s(m,"|");for(r=0,o=m.length;r<o;r++){l=k.exec(m[r]);if(l){f={};g=l[1];p=l[2].replace(/::/g,":");b=l[3];E=l[4];if(g==="!"){u.attributesRequired=u.attributesRequired||[];u.attributesRequired.push(p);f.required=true}if(g==="-"){delete v[p];y.splice(a(y,p),1);continue}if(b){if(b==="="){u.attributesDefault=u.attributesDefault||[];u.attributesDefault.push({name:p,value:E});f.defaultValue=E}if(b===":"){u.attributesForced=u.attributesForced||[];u.attributesForced.push({name:p,value:E});f.forcedValue=E}if(b==="<"){f.validValues=n(E,"?")}}if(T.test(p)){u.attributePatterns=u.attributePatterns||[];f.pattern=N(p);u.attributePatterns.push(f)}else{if(!v[p]){y.push(p)}v[p]=f}}}}if(!w&&h=="@"){w=v;x=y}if(C){u.outputName=h;c[C]=u}if(T.test(h)){u.pattern=N(h);d.push(u)}else{c[h]=u}}}}}function k(e){c={};d=[];S(e);i(h,function(e,t){f[t]=e.children})}function T(e){var n=/^(~)?(.+)$/;if(e){t.text_block_elements=t.block_elements=null;i(s(e,","),function(e){var t=n.exec(e),o=t[1]==="~",a=o?"span":"div",s=t[2];f[s]=f[a];x[s]=a;if(!o){b[s.toUpperCase()]={};b[s]={}}if(!c[s]){var l=c[a];l=r({},l);delete l.removeEmptyAttrs;delete l.removeEmpty;c[s]=l}i(f,function(e,t){if(e[a]){f[t]=e=r({},f[t]);e[s]=e[a]}})})}}function R(e){var t=/^([+\-]?)(\w+)\[([^\]]+)\]$/;if(e){i(s(e,","),function(e){var n=t.exec(e),o,a;if(n){a=n[1];if(a){o=f[n[2]]}else{o=f[n[2]]={"#comment":{}}}o=f[n[2]];i(s(n[3],"|"),function(e){if(a==="-"){f[n[2]]=o=r({},f[n[2]]);delete o[e]}else{o[e]={}}})}})}}function A(e){var t=c[e],n;if(t){return t}n=d.length;while(n--){t=d[n];if(t.pattern.test(e)){return t}}}if(!e.valid_elements){i(h,function(e,t){c[t]={attributes:e.attributes,attributesOrder:e.attributesOrder};f[t]=e.children});if(e.schema!="html5"){i(s("strong/b em/i"),function(e){e=s(e,"/");c[e[1]].outputName=e[0]})}c.img.attributesDefault=[{name:"alt",value:""}];i(s("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(e){if(c[e]){c[e].removeEmpty=true}});i(s("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(e){c[e].paddEmpty=true});i(s("span"),function(e){c[e].removeEmptyAttrs=true})}else{k(e.valid_elements)}T(e.custom_elements);R(e.valid_children);S(e.extended_valid_elements);R("+ol[ul|ol],+ul[ul|ol]");if(e.invalid_elements){i(o(e.invalid_elements),function(e){if(c[e]){delete c[e]}})}if(!A("span")){S("span[!data-mce-type|*]")}u.children=f;u.styles=m;u.getBoolAttrs=function(){return y};u.getBlockElements=function(){return b};u.getTextBlockElements=function(){return w};u.getShortEndedElements=function(){return v};u.getSelfClosingElements=function(){return g};u.getNonEmptyElements=function(){return C};u.getWhiteSpaceElements=function(){return p};u.getSpecialElements=function(){return _};u.isValidChild=function(e,t){var n=f[e];return!!(n&&n[t])};u.isValid=function(e,t){var n,i,r=A(e);if(r){if(t){if(r.attributes[t]){return true}n=r.attributePatterns;if(n){i=n.length;while(i--){if(n[i].pattern.test(e)){return true}}}}else{return true}}return false};u.getElementRule=A;u.getCustomElements=function(){return x};u.addValidElements=S;u.setValidElements=k;u.addCustomElements=T;u.addValidChildren=R;u.elements=c}});r("tinymce/html/SaxParser",["tinymce/html/Schema","tinymce/html/Entities","tinymce/util/Tools"],function(e,t,n){var i=n.each;return function(r,o){var a=this;function s(){}r=r||{};a.schema=o=o||new e;if(r.fix_self_closing!==false){r.fix_self_closing=true}i("comment cdata text start end pi doctype".split(" "),function(e){if(e){a[e]=r[e]||s}});a.parse=function(e){var i=this,a,s=0,l,u,c=[],f,d,m,h;var p,g,v,y,b;var C,w,x,_,E,N,S;var k,T,R;var A,B,D,L,M,P,H=0;var O=t.decode,I,F=n.makeMap("src,href,data,background,formaction,poster");var z=/((java|vb)script|mhtml):/i,W=/^data:/i;function U(e){var t,n;t=c.length;while(t--){if(c[t].name===e){break}}if(t>=0){for(n=c.length-1;n>=t;n--){e=c[n];if(e.valid){i.end(e.name)}}c.length=t}}function V(e,t,n,i,o){var a,s,l=/[\s\u0000-\u001F]+/g;t=t.toLowerCase();n=t in y?t:O(n||i||o||"");if(C&&!p&&t.indexOf("data-")!==0){a=N[t];if(!a&&S){s=S.length;while(s--){a=S[s];if(a.pattern.test(t)){break}}if(s===-1){a=null}}if(!a){return}if(a.validValues&&!(n in a.validValues)){return}}if(F[t]&&!r.allow_script_urls){var u=n.replace(l,"");try{u=decodeURIComponent(u)}catch(e){u=unescape(u)}if(z.test(u)){return}if(!r.allow_html_data_urls&&W.test(u)&&!/^data:image\//i.test(u)){return}}f.map[t]=n;f.push({name:t,value:n})}D=new RegExp("<(?:"+"(?:!--([\\w\\W]*?)-->)|"+"(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|"+"(?:!DOCTYPE([\\w\\W]*?)>)|"+"(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|"+"(?:\\/([^>]+)>)|"+"(?:([A-Za-z0-9\\-\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>)"+")","g");L=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g;v=o.getShortEndedElements();B=r.self_closing_elements||o.getSelfClosingElements();y=o.getBoolAttrs();C=r.validate;g=r.remove_internals;I=r.fix_self_closing;M=o.getSpecialElements();while(a=D.exec(e)){if(s<a.index){i.text(O(e.substr(s,a.index-s)))}if(l=a[6]){l=l.toLowerCase();if(l.charAt(0)===":"){l=l.substr(1)}U(l)}else if(l=a[7]){l=l.toLowerCase();if(l.charAt(0)===":"){l=l.substr(1)}b=l in v;if(I&&B[l]&&c.length>0&&c[c.length-1].name===l){U(l)}if(!C||(w=o.getElementRule(l))){x=true;if(C){N=w.attributes;S=w.attributePatterns}if(E=a[8]){p=E.indexOf("data-mce-type")!==-1;if(p&&g){x=false}f=[];f.map={};E.replace(L,V)}else{f=[];f.map={}}if(C&&!p){k=w.attributesRequired;T=w.attributesDefault;R=w.attributesForced;A=w.removeEmptyAttrs;if(A&&!f.length){x=false}if(R){d=R.length;while(d--){_=R[d];h=_.name;P=_.value;if(P==="{$uid}"){P="mce_"+H++}f.map[h]=P;f.push({name:h,value:P})}}if(T){d=T.length;while(d--){_=T[d];h=_.name;if(!(h in f.map)){P=_.value;if(P==="{$uid}"){P="mce_"+H++}f.map[h]=P;f.push({name:h,value:P})}}}if(k){d=k.length;while(d--){if(k[d]in f.map){break}}if(d===-1){x=false}}if(f.map["data-mce-bogus"]){x=false}}if(x){i.start(l,f,b)}}else{x=false}if(u=M[l]){u.lastIndex=s=a.index+a[0].length;if(a=u.exec(e)){if(x){m=e.substr(s,a.index-s)}s=a.index+a[0].length}else{m=e.substr(s);s=e.length}if(x){if(m.length>0){i.text(m,true)}i.end(l)}D.lastIndex=s;continue}if(!b){if(!E||E.indexOf("/")!=E.length-1){c.push({name:l,valid:x})}else if(x){i.end(l)}}}else if(l=a[1]){if(l.charAt(0)===">"){l=" "+l}if(!r.allow_conditional_comments&&l.substr(0,3)==="[if"){l=" "+l}i.comment(l)}else if(l=a[2]){i.cdata(l)}else if(l=a[3]){i.doctype(l)}else if(l=a[4]){i.pi(l,a[5])}s=a.index+a[0].length}if(s<e.length){i.text(O(e.substr(s)))}for(d=c.length-1;d>=0;d--){l=c[d];if(l.valid){i.end(l.name)}}}}});r("tinymce/html/DomParser",["tinymce/html/Node","tinymce/html/Schema","tinymce/html/SaxParser","tinymce/util/Tools"],function(e,t,n,i){var r=i.makeMap,o=i.each,a=i.explode,s=i.extend;return function(i,l){var u=this,c={},f=[],d={},m={};i=i||{};i.validate="validate"in i?i.validate:true;i.root_name=i.root_name||"body";u.schema=l=l||new t;function h(t){var n,i,o,a,s,c,f,d,m;var h,p,g,v,y;p=r("tr,td,th,tbody,thead,tfoot,table");h=l.getNonEmptyElements();g=l.getTextBlockElements();for(n=0;n<t.length;n++){i=t[n];if(!i.parent||i.fixed){continue}if(g[i.name]&&i.parent.name=="li"){v=i.next;while(v){if(g[v.name]){v.name="li";v.fixed=true;i.parent.insert(v,i.parent)}else{break}v=v.next}i.unwrap(i);continue}a=[i];for(o=i.parent;o&&!l.isValidChild(o.name,i.name)&&!p[o.name];o=o.parent){a.push(o)}if(o&&a.length>1){a.reverse();s=c=u.filterNode(a[0].clone());for(m=0;m<a.length-1;m++){if(l.isValidChild(c.name,a[m].name)){f=u.filterNode(a[m].clone());c.append(f)}else{f=c}for(d=a[m].firstChild;d&&d!=a[m+1];){y=d.next;f.append(d);d=y}c=f}if(!s.isEmpty(h)){o.insert(s,a[0],true);o.insert(i,s)}else{o.insert(i,a[0],true)}o=a[0];if(o.isEmpty(h)||o.firstChild===o.lastChild&&o.firstChild.name==="br"){o.empty().remove()}}else if(i.parent){if(i.name==="li"){v=i.prev;if(v&&(v.name==="ul"||v.name==="ul")){v.append(i);continue}v=i.next;if(v&&(v.name==="ul"||v.name==="ul")){v.insert(i,v.firstChild,true);continue}i.wrap(u.filterNode(new e("ul",1)));continue}if(l.isValidChild(i.parent.name,"div")&&l.isValidChild("div",i.name)){i.wrap(u.filterNode(new e("div",1)))}else{if(i.name==="style"||i.name==="script"){i.empty().remove()}else{i.unwrap()}}}}}u.filterNode=function(e){var t,n,i;if(n in c){i=d[n];if(i){i.push(e)}else{d[n]=[e]}}t=f.length;while(t--){n=f[t].name;if(n in e.attributes.map){i=m[n];if(i){i.push(e)}else{m[n]=[e]}}}return e};u.addNodeFilter=function(e,t){o(a(e),function(e){var n=c[e];if(!n){c[e]=n=[]}n.push(t)})};u.addAttributeFilter=function(e,t){o(a(e),function(e){var n;for(n=0;n<f.length;n++){if(f[n].name===e){f[n].callbacks.push(t);return}}f.push({name:e,callbacks:[t]})})};u.parse=function(t,o){var a,u,p,g,v,y,b,C,w,x,_;var E,N,S=[],k;var T,R,A,B;var D,L,M;o=o||{};d={};m={};E=s(r("script,style,head,html,body,title,meta,param"),l.getBlockElements());L=l.getNonEmptyElements();D=l.children;_=i.validate;M="forced_root_block"in o?o.forced_root_block:i.forced_root_block;B=l.getWhiteSpaceElements();N=/^[ \t\r\n]+/;T=/[ \t\r\n]+$/;R=/[ \t\r\n]+/g;A=/^[ \t\r\n]+$/;function P(){var e=u.firstChild,t,n;function r(t){if(t){e=t.firstChild;if(e&&e.type==3){e.value=e.value.replace(N,"")}e=t.lastChild;if(e&&e.type==3){e.value=e.value.replace(T,"")}}}if(!l.isValidChild(u.name,M.toLowerCase())){return}while(e){t=e.next;if(e.type==3||e.type==1&&e.name!=="p"&&!E[e.name]&&!e.attr("data-mce-type")){if(!n){n=H(M,1);n.attr(i.forced_root_block_attrs);u.insert(n,e);n.append(e)}else{n.append(e)}}else{r(n);n=null}e=t}r(n)}function H(t,n){var i=new e(t,n),r;if(t in c){r=d[t];if(r){r.push(i)}else{d[t]=[i]}}return i}function O(e){var t,n,i;for(t=e.prev;t&&t.type===3;){n=t.value.replace(T,"");if(n.length>0){t.value=n;t=t.prev}else{i=t.prev;t.remove();t=i}}}function I(e){var t,n={};for(t in e){if(t!=="li"&&t!="p"){n[t]=e[t]}}return n}a=new n({validate:_,allow_script_urls:i.allow_script_urls,allow_conditional_comments:i.allow_conditional_comments,self_closing_elements:I(l.getSelfClosingElements()),cdata:function(e){p.append(H("#cdata",4)).value=e},text:function(e,t){var n;if(!k){e=e.replace(R," ");if(p.lastChild&&E[p.lastChild.name]){e=e.replace(N,"")}}if(e.length!==0){n=H("#text",3);n.raw=!!t;p.append(n).value=e}},comment:function(e){p.append(H("#comment",8)).value=e},pi:function(e,t){p.append(H(e,7)).value=t;O(p)},doctype:function(e){var t;t=p.append(H("#doctype",10));t.value=e;O(p)},start:function(e,t,n){var i,r,o,a,s;o=_?l.getElementRule(e):{};if(o){i=H(o.outputName||e,1);i.attributes=t;i.shortEnded=n;p.append(i);s=D[p.name];if(s&&D[i.name]&&!s[i.name]){S.push(i)}r=f.length;while(r--){a=f[r].name;if(a in t.map){w=m[a];if(w){w.push(i)}else{m[a]=[i]}}}if(E[e]){O(i)}if(!n){p=i}if(!k&&B[e]){k=true}}},end:function(t){var n,i,r,o,a;i=_?l.getElementRule(t):{};if(i){if(E[t]){if(!k){n=p.firstChild;if(n&&n.type===3){r=n.value.replace(N,"");if(r.length>0){n.value=r;n=n.next}else{o=n.next;n.remove();n=o;while(n&&n.type===3){r=n.value;o=n.next;if(r.length===0||A.test(r)){n.remove();n=o}n=o}}}n=p.lastChild;if(n&&n.type===3){r=n.value.replace(T,"");if(r.length>0){n.value=r;n=n.prev}else{o=n.prev;n.remove();n=o;while(n&&n.type===3){r=n.value;o=n.prev;if(r.length===0||A.test(r)){n.remove();n=o}n=o}}}}}if(k&&B[t]){k=false}if(i.removeEmpty||i.paddEmpty){if(p.isEmpty(L)){if(i.paddEmpty){p.empty().append(new e("#text","3")).value=" "}else{if(!p.attributes.map.name&&!p.attributes.map.id){a=p.parent;p.empty().remove();p=a;return}}}}p=p.parent}}},l);u=p=new e(o.context||i.root_name,11);a.parse(t);if(_&&S.length){if(!o.context){h(S)}else{o.invalid=true}}if(M&&(u.name=="body"||o.isRootContent)){P()}if(!o.invalid){for(x in d){w=c[x];g=d[x];b=g.length;while(b--){if(!g[b].parent){g.splice(b,1)}}for(v=0,y=w.length;v<y;v++){w[v](g,x,o)}}for(v=0,y=f.length;v<y;v++){w=f[v];if(w.name in m){g=m[w.name];b=g.length;while(b--){if(!g[b].parent){g.splice(b,1)}}for(b=0,C=w.callbacks.length;b<C;b++){w.callbacks[b](g,w.name,o)}}}}return u};if(i.remove_trailing_brs){u.addNodeFilter("br",function(t){var n,i=t.length,r,o=s({},l.getBlockElements());var a=l.getNonEmptyElements(),u,c,f,d;var m,h;o.body=1;for(n=0;n<i;n++){r=t[n];u=r.parent;if(o[r.parent.name]&&r===u.lastChild){f=r.prev;while(f){d=f.name;if(d!=="span"||f.attr("data-mce-type")!=="bookmark"){if(d!=="br"){break}if(d==="br"){r=null;break}}f=f.prev}if(r){r.remove();if(u.isEmpty(a)){m=l.getElementRule(u.name);if(m){if(m.removeEmpty){u.remove()}else if(m.paddEmpty){u.empty().append(new e("#text",3)).value=" "}}}}}else{c=r;while(u&&u.firstChild===c&&u.lastChild===c){c=u;if(o[u.name]){break}u=u.parent}if(c===u){h=new e("#text",3);h.value=" ";r.replace(h)}}}})}if(!i.allow_html_in_named_anchor){u.addAttributeFilter("id,name",function(e){var t=e.length,n,i,r,o;while(t--){o=e[t];if(o.name==="a"&&o.firstChild&&!o.attr("href")){r=o.parent;n=o.lastChild;do{i=n.prev;r.insert(n,o);n=i}while(n)}}})}}});r("tinymce/html/Writer",["tinymce/html/Entities","tinymce/util/Tools"],function(e,t){var n=t.makeMap;return function(t){var i=[],r,o,a,s,l;t=t||{};r=t.indent;o=n(t.indent_before||"");a=n(t.indent_after||"");s=e.getEncodeFunc(t.entity_encoding||"raw",t.entities);l=t.element_format=="html";return{start:function(e,t,n){var u,c,f,d;if(r&&o[e]&&i.length>0){d=i[i.length-1];if(d.length>0&&d!=="\n"){i.push("\n")}}i.push("<",e);if(t){for(u=0,c=t.length;u<c;u++){f=t[u];i.push(" ",f.name,'="',s(f.value,true),'"')}}if(!n||l){i[i.length]=">"}else{i[i.length]=" />"}if(n&&r&&a[e]&&i.length>0){d=i[i.length-1];if(d.length>0&&d!=="\n"){i.push("\n")}}},end:function(e){var t;i.push("</",e,">");if(r&&a[e]&&i.length>0){t=i[i.length-1];if(t.length>0&&t!=="\n"){i.push("\n")}}},text:function(e,t){if(e.length>0){i[i.length]=t?e:s(e)}},cdata:function(e){i.push("<![CDATA[",e,"]]>")},comment:function(e){i.push("<!--",e,"-->")},pi:function(e,t){if(t){i.push("<?",e," ",t,"?>")}else{i.push("<?",e,"?>")}if(r){i.push("\n")}},doctype:function(e){i.push("<!DOCTYPE",e,">",r?"\n":"")},reset:function(){i.length=0},getContent:function(){return i.join("").replace(/\n$/,"")}}}});r("tinymce/html/Serializer",["tinymce/html/Writer","tinymce/html/Schema"],function(e,t){return function(n,i){var r=this,o=new e(n);n=n||{};n.validate="validate"in n?n.validate:true;r.schema=i=i||new t;r.writer=o;r.serialize=function(e){var t,r;r=n.validate;t={3:function(e){o.text(e.value,e.raw)},8:function(e){o.comment(e.value)},7:function(e){o.pi(e.name,e.value)},10:function(e){o.doctype(e.value)},4:function(e){o.cdata(e.value)},11:function(e){if(e=e.firstChild){do{a(e)}while(e=e.next)}}};o.reset();function a(e){var n=t[e.type],s,l,u,c,f,d,m,h,p;if(!n){s=e.name;l=e.shortEnded;u=e.attributes;if(r&&u&&u.length>1){d=[];d.map={};p=i.getElementRule(e.name);for(m=0,h=p.attributesOrder.length;m<h;m++){c=p.attributesOrder[m];if(c in u.map){f=u.map[c];d.map[c]=f;d.push({name:c,value:f})}}for(m=0,h=u.length;m<h;m++){c=u[m].name;if(!(c in d.map)){f=u.map[c];d.map[c]=f;d.push({name:c,value:f})}}u=d}o.start(e.name,u,l);if(!l){if(e=e.firstChild){do{a(e)}while(e=e.next)}o.end(s)}}else{n(e)}}if(e.type==1&&!n.inner){a(e)}else{t[11](e)}return o.getContent()}}});r("tinymce/dom/Serializer",["tinymce/dom/DOMUtils","tinymce/html/DomParser","tinymce/html/Entities","tinymce/html/Serializer","tinymce/html/Node","tinymce/html/Schema","tinymce/Env","tinymce/util/Tools"],function(e,t,n,i,r,o,a,s){var l=s.each,u=s.trim;var c=e.DOM;return function(e,r){var s,f,d;if(r){s=r.dom;f=r.schema}s=s||c;f=f||new o(e);e.entity_encoding=e.entity_encoding||"named";e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:true;d=new t(e,f);d.addAttributeFilter("data-mce-tabindex",function(e,t){var n=e.length,i;while(n--){i=e[n];i.attr("tabindex",i.attributes.map["data-mce-tabindex"]);i.attr(t,null)}});d.addAttributeFilter("src,href,style",function(t,n){var i=t.length,r,o,a="data-mce-"+n;var l=e.url_converter,u=e.url_converter_scope,c;while(i--){r=t[i];o=r.attributes.map[a];if(o!==c){r.attr(n,o.length>0?o:null);r.attr(a,null)}else{o=r.attributes.map[n];if(n==="style"){o=s.serializeStyle(s.parseStyle(o),r.name)}else if(l){o=l.call(u,o,n,r.name)}r.attr(n,o.length>0?o:null)}}});d.addAttributeFilter("class",function(e){var t=e.length,n,i;while(t--){n=e[t];i=n.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,"");n.attr("class",i.length>0?i:null)}});d.addAttributeFilter("data-mce-type",function(e,t,n){var i=e.length,r;while(i--){r=e[i];if(r.attributes.map["data-mce-type"]==="bookmark"&&!n.cleanup){r.remove()}}});d.addAttributeFilter("data-mce-expando",function(e,t){var n=e.length;while(n--){e[n].attr(t,null)}});d.addNodeFilter("noscript",function(e){var t=e.length,i;while(t--){i=e[t].firstChild;if(i){i.value=n.decode(i.value)}}});d.addNodeFilter("script,style",function(e,t){var n=e.length,i,r;function o(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");
}while(n--){i=e[n];r=i.firstChild?i.firstChild.value:"";if(t==="script"){var a=(i.attr("type")||"text/javascript").replace(/^mce\-/,"");i.attr("type",a==="text/javascript"?null:a);if(r.length>0){i.firstChild.value="// <![CDATA[\n"+o(r)+"\n// ]]>"}}else{if(r.length>0){i.firstChild.value="<!--\n"+o(r)+"\n-->"}}}});d.addNodeFilter("#comment",function(e){var t=e.length,n;while(t--){n=e[t];if(n.value.indexOf("[CDATA[")===0){n.name="#cdata";n.type=4;n.value=n.value.replace(/^\[CDATA\[|\]\]$/g,"")}else if(n.value.indexOf("mce:protected ")===0){n.name="#text";n.type=3;n.raw=true;n.value=unescape(n.value).substr(14)}}});d.addNodeFilter("xml:namespace,input",function(e,t){var n=e.length,i;while(n--){i=e[n];if(i.type===7){i.remove()}else if(i.type===1){if(t==="input"&&!("type"in i.attributes.map)){i.attr("type","text")}}}});if(e.fix_list_elements){d.addNodeFilter("ul,ol",function(e){var t=e.length,n,i;while(t--){n=e[t];i=n.parent;if(i.name==="ul"||i.name==="ol"){if(n.prev&&n.prev.name==="li"){n.prev.append(n)}}}})}d.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected",function(e,t){var n=e.length;while(n--){e[n].attr(t,null)}});return{schema:f,addNodeFilter:d.addNodeFilter,addAttributeFilter:d.addAttributeFilter,serialize:function(t,n){var r=this,o,c,m,h,p;if(a.ie&&s.select("script,style,select,map").length>0){p=t.innerHTML;t=t.cloneNode(false);s.setHTML(t,p)}else{t=t.cloneNode(true)}o=t.ownerDocument.implementation;if(o.createHTMLDocument){c=o.createHTMLDocument("");l(t.nodeName=="BODY"?t.childNodes:[t],function(e){c.body.appendChild(c.importNode(e,true))});if(t.nodeName!="BODY"){t=c.body.firstChild}else{t=c.body}m=s.doc;s.doc=c}n=n||{};n.format=n.format||"html";if(n.selection){n.forced_root_block=""}if(!n.no_events){n.node=t;r.onPreProcess(n)}h=new i(e,f);n.content=h.serialize(d.parse(u(n.getInner?t.innerHTML:s.getOuterHTML(t)),n));if(!n.cleanup){n.content=n.content.replace(/\uFEFF/g,"")}if(!n.no_events){r.onPostProcess(n)}if(m){s.doc=m}n.node=null;return n.content},addRules:function(e){f.addValidElements(e)},setRules:function(e){f.setValidElements(e)},onPreProcess:function(e){if(r){r.fire("PreProcess",e)}},onPostProcess:function(e){if(r){r.fire("PostProcess",e)}}}}});r("tinymce/dom/TridentSelection",[],function(){function e(e){var t=this,n=e.dom,i=false;function r(t,n){var i,r=0,o,a,s,l,u,c,f=-1,d;i=t.duplicate();i.collapse(n);d=i.parentElement();if(d.ownerDocument!==e.dom.doc){return}while(d.contentEditable==="false"){d=d.parentNode}if(!d.hasChildNodes()){return{node:d,inside:1}}s=d.children;o=s.length-1;while(r<=o){c=Math.floor((r+o)/2);l=s[c];i.moveToElementText(l);f=i.compareEndPoints(n?"StartToStart":"EndToEnd",t);if(f>0){o=c-1}else if(f<0){r=c+1}else{return{node:l}}}if(f<0){if(!l){i.moveToElementText(d);i.collapse(true);l=d;a=true}else{i.collapse(false)}u=0;while(i.compareEndPoints(n?"StartToStart":"StartToEnd",t)!==0){if(i.move("character",1)===0||d!=i.parentElement()){break}u++}}else{i.collapse(true);u=0;while(i.compareEndPoints(n?"StartToStart":"StartToEnd",t)!==0){if(i.move("character",-1)===0||d!=i.parentElement()){break}u++}}return{node:l,position:f,offset:u,inside:a}}function o(){var i=e.getRng(),o=n.createRng(),a,s,l,u,c;a=i.item?i.item(0):i.parentElement();if(a.ownerDocument!=n.doc){return o}s=e.isCollapsed();if(i.item){o.setStart(a.parentNode,n.nodeIndex(a));o.setEnd(o.startContainer,o.startOffset+1);return o}function f(e){var t=r(i,e),n,a,s=0,l,u,c;n=t.node;a=t.offset;if(t.inside&&!n.hasChildNodes()){o[e?"setStart":"setEnd"](n,0);return}if(a===u){o[e?"setStartBefore":"setEndAfter"](n);return}if(t.position<0){l=t.inside?n.firstChild:n.nextSibling;if(!l){o[e?"setStartAfter":"setEndAfter"](n);return}if(!a){if(l.nodeType==3){o[e?"setStart":"setEnd"](l,0)}else{o[e?"setStartBefore":"setEndBefore"](l)}return}while(l){c=l.nodeValue;s+=c.length;if(s>=a){n=l;s-=a;s=c.length-s;break}l=l.nextSibling}}else{l=n.previousSibling;if(!l){return o[e?"setStartBefore":"setEndBefore"](n)}if(!a){if(n.nodeType==3){o[e?"setStart":"setEnd"](l,n.nodeValue.length)}else{o[e?"setStartAfter":"setEndAfter"](l)}return}while(l){s+=l.nodeValue.length;if(s>=a){n=l;s-=a;break}l=l.previousSibling}}o[e?"setStart":"setEnd"](n,s)}try{f(true);if(!s){f()}}catch(n){if(n.number==-2147024809){c=t.getBookmark(2);l=i.duplicate();l.collapse(true);a=l.parentElement();if(!s){l=i.duplicate();l.collapse(false);u=l.parentElement();u.innerHTML=u.innerHTML}a.innerHTML=a.innerHTML;t.moveToBookmark(c);i=e.getRng();f(true);if(!s){f()}}else{throw n}}return o}this.getBookmark=function(t){var i=e.getRng(),o={};function a(e){var t,i,r,o,a=[];t=e.parentNode;i=n.getRoot().parentNode;while(t!=i&&t.nodeType!==9){r=t.children;o=r.length;while(o--){if(e===r[o]){a.push(o);break}}e=t;t=t.parentNode}return a}function s(e){var t;t=r(i,e);if(t){return{position:t.position,offset:t.offset,indexes:a(t.node),inside:t.inside}}}if(t===2){if(!i.item){o.start=s(true);if(!e.isCollapsed()){o.end=s()}}else{o.start={ctrl:true,indexes:a(i.item(0))}}}return o};this.moveToBookmark=function(e){var t,i=n.doc.body;function r(e){var t,i,r,o;t=n.getRoot();for(i=e.length-1;i>=0;i--){o=t.children;r=e[i];if(r<=o.length-1){t=o[r]}}return t}function o(n){var o=e[n?"start":"end"],a,s,l,u;if(o){a=o.position>0;s=i.createTextRange();s.moveToElementText(r(o.indexes));u=o.offset;if(u!==l){s.collapse(o.inside||a);s.moveStart("character",a?-u:u)}else{s.collapse(n)}t.setEndPoint(n?"StartToStart":"EndToStart",s);if(n){t.collapse(true)}}}if(e.start){if(e.start.ctrl){t=i.createControlRange();t.addElement(r(e.start.indexes));t.select()}else{t=i.createTextRange();o(true);o();t.select()}}};this.addRange=function(t){var r,o,a,s,l,u,c,f=e.dom.doc,d=f.body,m,h;function p(e){var t,o,c,m,h;c=n.create("a");t=e?a:l;o=e?s:u;m=r.duplicate();if(t==f||t==f.documentElement){t=d;o=0}if(t.nodeType==3){t.parentNode.insertBefore(c,t);m.moveToElementText(c);m.moveStart("character",o);n.remove(c);r.setEndPoint(e?"StartToStart":"EndToEnd",m)}else{h=t.childNodes;if(h.length){if(o>=h.length){n.insertAfter(c,h[h.length-1])}else{t.insertBefore(c,h[o])}m.moveToElementText(c)}else if(t.canHaveHTML){t.innerHTML="<span>&#xFEFF;</span>";c=t.firstChild;m.moveToElementText(c);m.collapse(i)}r.setEndPoint(e?"StartToStart":"EndToEnd",m);n.remove(c)}}a=t.startContainer;s=t.startOffset;l=t.endContainer;u=t.endOffset;r=d.createTextRange();if(a==l&&a.nodeType==1){if(s==u&&!a.hasChildNodes()){if(a.canHaveHTML){c=a.previousSibling;if(c&&!c.hasChildNodes()&&n.isBlock(c)){c.innerHTML="&#xFEFF;"}else{c=null}a.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>";r.moveToElementText(a.lastChild);r.select();n.doc.selection.clear();a.innerHTML="";if(c){c.innerHTML=""}return}else{s=n.nodeIndex(a);a=a.parentNode}}if(s==u-1){try{h=a.childNodes[s];o=d.createControlRange();o.addElement(h);o.select();m=e.getRng();if(m.item&&h===m.item(0)){return}}catch(e){}}}p(true);p();r.select()};this.getRangeAt=o}return e});r("tinymce/util/VK",["tinymce/Env"],function(e){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey},metaKeyPressed:function(t){return(e.mac?t.metaKey:t.ctrlKey)&&!t.altKey}}});r("tinymce/dom/ControlSelection",["tinymce/util/VK","tinymce/util/Tools","tinymce/Env"],function(e,t,n){return function(i,r){var o=r.dom,a=t.each;var s,l,u,c,f;var d,m,h,p,g,v,y,b;var C,w,x=r.getDoc(),_=document,E=n.ie&&n.ie<11;u={n:[.5,0,0,-1],e:[1,.5,1,0],s:[.5,1,0,1],w:[0,.5,-1,0],nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var N=".mce-content-body";r.contentStyles.push(N+" div.mce-resizehandle {"+"position: absolute;"+"border: 1px solid black;"+"background: #FFF;"+"width: 5px;"+"height: 5px;"+"z-index: 10000"+"}"+N+" .mce-resizehandle:hover {"+"background: #000"+"}"+N+" img[data-mce-selected], hr[data-mce-selected] {"+"outline: 1px solid black;"+"resize: none"+"}"+N+" .mce-clonedresizable {"+"position: absolute;"+(n.gecko?"":"outline: 1px dashed black;")+"opacity: .5;"+"filter: alpha(opacity=50);"+"z-index: 10000"+"}");function S(e){var t=r.settings.object_resizing;if(t===false||n.iOS){return false}if(typeof t!="string"){t="table,img,div"}if(e.getAttribute("data-mce-resize")==="false"){return false}return r.dom.is(e,t)}function k(t){var n,i;n=t.screenX-d;i=t.screenY-m;C=n*c[2]+g;w=i*c[3]+v;C=C<5?5:C;w=w<5?5:w;if(e.modifierPressed(t)||s.nodeName=="IMG"&&c[2]*c[3]!==0){C=Math.round(w/y);w=Math.round(C*y)}o.setStyles(l,{width:C,height:w});if(c[2]<0&&l.clientWidth<=C){o.setStyle(l,"left",h+(g-C))}if(c[3]<0&&l.clientHeight<=w){o.setStyle(l,"top",p+(v-w))}if(!b){r.fire("ObjectResizeStart",{target:s,width:g,height:v});b=true}}function T(){b=false;function e(e,t){if(t){if(s.style[e]||!r.schema.isValid(s.nodeName.toLowerCase(),e)){o.setStyle(s,e,t)}else{o.setAttrib(s,e,t)}}}e("width",C);e("height",w);o.unbind(x,"mousemove",k);o.unbind(x,"mouseup",T);if(_!=x){o.unbind(_,"mousemove",k);o.unbind(_,"mouseup",T)}o.remove(l);if(!E||s.nodeName=="TABLE"){R(s)}r.fire("ObjectResized",{target:s,width:C,height:w});r.nodeChanged()}function R(e,t,i){var f,b,E,N,R,B=r.getBody();O();f=o.getPos(e,B);h=f.x;p=f.y;R=e.getBoundingClientRect();b=R.width||R.right-R.left;E=R.height||R.bottom-R.top;if(s!=e){H();s=e;C=w=0}N=r.fire("ObjectSelected",{target:e});if(S(e)&&!N.isDefaultPrevented()){a(u,function(e,a){var u,f;function C(t){d=t.screenX;m=t.screenY;g=s.clientWidth;v=s.clientHeight;y=v/g;c=e;l=s.cloneNode(true);o.addClass(l,"mce-clonedresizable");l.contentEditable=false;l.unSelectabe=true;o.setStyles(l,{left:h,top:p,margin:0});l.removeAttribute("data-mce-selected");r.getBody().appendChild(l);o.bind(x,"mousemove",k);o.bind(x,"mouseup",T);if(_!=x){o.bind(_,"mousemove",k);o.bind(_,"mouseup",T)}}if(t){if(a==t){C(i)}return}u=o.get("mceResizeHandle"+a);if(!u){f=r.getBody();u=o.add(f,"div",{id:"mceResizeHandle"+a,"data-mce-bogus":true,class:"mce-resizehandle",unselectable:true,style:"cursor:"+a+"-resize; margin:0; padding:0"});if(n.ie){u.contentEditable=false}}else{o.show(u)}if(!e.elm){o.bind(u,"mousedown",function(e){e.stopImmediatePropagation();e.preventDefault();C(e)});e.elm=u}o.setStyles(u,{left:b*e[0]+h-u.offsetWidth/2,top:E*e[1]+p-u.offsetHeight/2})})}else{A()}s.setAttribute("data-mce-selected","1")}function A(){var e,t;O();if(s){s.removeAttribute("data-mce-selected")}for(e in u){t=o.get("mceResizeHandle"+e);if(t){o.unbind(t);o.remove(t)}}}function B(e){var t;function n(e,t){if(e){do{if(e===t){return true}}while(e=e.parentNode)}}a(o.select("img[data-mce-selected],hr[data-mce-selected]"),function(e){e.removeAttribute("data-mce-selected")});t=e.type=="mousedown"?e.target:i.getNode();t=o.getParent(t,E?"table":"table,img,hr");if(n(t,r.getBody())){I();if(n(i.getStart(),t)&&n(i.getEnd(),t)){if(!E||t!=i.getStart()&&i.getStart().nodeName!=="IMG"){R(t);return}}}A()}function D(e,t,n){if(e&&e.attachEvent){e.attachEvent("on"+t,n)}}function L(e,t,n){if(e&&e.detachEvent){e.detachEvent("on"+t,n)}}function M(e){var t=e.srcElement,n,i,o,a,s,l,d;n=t.getBoundingClientRect();l=f.clientX-n.left;d=f.clientY-n.top;for(i in u){o=u[i];a=t.offsetWidth*o[0];s=t.offsetHeight*o[1];if(Math.abs(a-l)<8&&Math.abs(s-d)<8){c=o;break}}b=true;r.getDoc().selection.empty();R(t,i,f)}function P(e){var t=e.srcElement;if(t!=s){H();if(t.id.indexOf("mceResizeHandle")===0){e.returnValue=false;return}if(t.nodeName=="IMG"||t.nodeName=="TABLE"){A();s=t;D(t,"resizestart",M)}}}function H(){L(s,"resizestart",M)}function O(){for(var e in u){var t=u[e];if(t.elm){o.unbind(t.elm);delete t.elm}}}function I(){try{r.getDoc().execCommand("enableObjectResizing",false,false)}catch(e){}}function F(e){var t;if(!E){return}t=x.body.createControlRange();try{t.addElement(e);t.select();return true}catch(e){}}r.on("init",function(){if(E){r.on("ObjectResized",function(e){if(e.target.nodeName!="TABLE"){A();F(e.target)}});D(r.getBody(),"controlselect",P);r.on("mousedown",function(e){f=e})}else{I();if(n.ie>=11){r.on("mouseup",function(e){var t=e.target.nodeName;if(/^(TABLE|IMG|HR)$/.test(t)){r.selection.select(e.target,t=="TABLE");r.nodeChanged()}});r.dom.bind(r.getBody(),"mscontrolselect",function(e){if(/^(TABLE|IMG|HR)$/.test(e.target.nodeName)){e.preventDefault();if(e.target.tagName=="IMG"){window.setTimeout(function(){r.selection.select(e.target)},0)}}})}}r.on("nodechange mousedown mouseup ResizeEditor",B);r.on("keydown keyup",function(e){if(s&&s.nodeName=="TABLE"){B(e)}})});r.on("remove",O);function z(){s=l=null;if(E){H();L(r.getBody(),"controlselect",P)}}return{isResizable:S,showResizeRect:R,hideResizeRect:A,updateResizeRect:B,controlSelect:F,destroy:z}}});r("tinymce/dom/RangeUtils",["tinymce/util/Tools","tinymce/dom/TreeWalker"],function(e,t){var n=e.each;function i(e){this.walk=function(t,i){var r=t.startContainer,o=t.startOffset,a=t.endContainer,s=t.endOffset,l,u,c,f,d,m,h;h=e.select("td.mce-item-selected,th.mce-item-selected");if(h.length>0){n(h,function(e){i([e])});return}function p(e){var t;t=e[0];if(t.nodeType===3&&t===r&&o>=t.nodeValue.length){e.splice(0,1)}t=e[e.length-1];if(s===0&&e.length>0&&t===a&&t.nodeType===3){e.splice(e.length-1,1)}return e}function g(e,t,n){var i=[];for(;e&&e!=n;e=e[t]){i.push(e)}return i}function v(e,t){do{if(e.parentNode==t){return e}e=e.parentNode}while(e)}function y(e,t,n){var r=n?"nextSibling":"previousSibling";for(f=e,d=f.parentNode;f&&f!=t;f=d){d=f.parentNode;m=g(f==e?f:f[r],r);if(m.length){if(!n){m.reverse()}i(p(m))}}}if(r.nodeType==1&&r.hasChildNodes()){r=r.childNodes[o]}if(a.nodeType==1&&a.hasChildNodes()){a=a.childNodes[Math.min(s-1,a.childNodes.length-1)]}if(r==a){return i(p([r]))}l=e.findCommonAncestor(r,a);for(f=r;f;f=f.parentNode){if(f===a){return y(r,l,true)}if(f===l){break}}for(f=a;f;f=f.parentNode){if(f===r){return y(a,l)}if(f===l){break}}u=v(r,l)||r;c=v(a,l)||a;y(r,u,true);m=g(u==r?u:u.nextSibling,"nextSibling",c==a?c.nextSibling:c);if(m.length){i(p(m))}y(a,c)};this.split=function(e){var t=e.startContainer,n=e.startOffset,i=e.endContainer,r=e.endOffset;function o(e,t){return e.splitText(t)}if(t==i&&t.nodeType==3){if(n>0&&n<t.nodeValue.length){i=o(t,n);t=i.previousSibling;if(r>n){r=r-n;t=i=o(i,r).previousSibling;r=i.nodeValue.length;n=0}else{r=0}}}else{if(t.nodeType==3&&n>0&&n<t.nodeValue.length){t=o(t,n);n=0}if(i.nodeType==3&&r>0&&r<i.nodeValue.length){i=o(i,r).previousSibling;r=i.nodeValue.length}}return{startContainer:t,startOffset:n,endContainer:i,endOffset:r}};this.normalize=function(n){var i,r;function o(o){var a,s,l,u=e.getRoot(),c,f;var d,m;function h(n,i){var r=new t(n,e.getParent(n.parentNode,e.isBlock)||u);while(n=r[i?"prev":"next"]()){if(n.nodeName==="BR"){return true}}}function p(e,t){return e.previousSibling&&e.previousSibling.nodeName==t}function g(n,o){var l,d,h;o=o||a;h=e.getParent(o.parentNode,e.isBlock)||u;if(n&&o.nodeName=="BR"&&m&&e.isEmpty(h)){a=o.parentNode;s=e.nodeIndex(o);i=true;return}l=new t(o,h);while(c=l[n?"prev":"next"]()){if(e.getContentEditableParent(c)==="false"){return}if(c.nodeType===3&&c.nodeValue.length>0){a=c;s=n?c.nodeValue.length:0;i=true;return}if(e.isBlock(c)||f[c.nodeName.toLowerCase()]){return}d=c}if(r&&d){a=d;i=true;s=0}}a=n[(o?"start":"end")+"Container"];s=n[(o?"start":"end")+"Offset"];m=a.nodeType==1&&s===a.childNodes.length;f=e.schema.getNonEmptyElements();d=o;if(a.nodeType==1&&s>a.childNodes.length-1){d=false}if(a.nodeType===9){a=e.getRoot();s=0}if(a===u){if(d){c=a.childNodes[s>0?s-1:0];if(c){if(f[c.nodeName]||c.nodeName=="TABLE"){return}}}if(a.hasChildNodes()){s=Math.min(!d&&s>0?s-1:s,a.childNodes.length-1);a=a.childNodes[s];s=0;if(a.hasChildNodes()&&!/TABLE/.test(a.nodeName)){c=a;l=new t(a,u);do{if(c.nodeType===3&&c.nodeValue.length>0){s=d?0:c.nodeValue.length;a=c;i=true;break}if(f[c.nodeName.toLowerCase()]){s=e.nodeIndex(c);a=c.parentNode;if(c.nodeName=="IMG"&&!d){s++}i=true;break}}while(c=d?l.next():l.prev())}}}if(r){if(a.nodeType===3&&s===0){g(true)}if(a.nodeType===1){c=a.childNodes[s];if(!c){c=a.childNodes[s-1]}if(c&&c.nodeName==="BR"&&!p(c,"A")&&!h(c)&&!h(c,true)){g(true,c)}}}if(d&&!r&&a.nodeType===3&&s===a.nodeValue.length){g(false)}if(i){n["set"+(o?"Start":"End")](a,s)}}r=n.collapsed;o(true);if(!r){o()}if(i&&r){n.collapse(true)}return i}}i.compareRanges=function(e,t){if(e&&t){if(e.item||e.duplicate){if(e.item&&t.item&&e.item(0)===t.item(0)){return true}if(e.isEqual&&t.isEqual&&t.isEqual(e)){return true}}else{return e.startContainer==t.startContainer&&e.startOffset==t.startOffset}}return false};return i});r("tinymce/dom/Selection",["tinymce/dom/TreeWalker","tinymce/dom/TridentSelection","tinymce/dom/ControlSelection","tinymce/dom/RangeUtils","tinymce/Env","tinymce/util/Tools"],function(e,n,i,r,o,a){var s=a.each,l=a.grep,u=a.trim;var c=o.ie,f=o.opera;function d(e,t,r,o){var a=this;a.dom=e;a.win=t;a.serializer=r;a.editor=o;a.controlSelection=new i(a,o);if(!a.win.getSelection){a.tridentSel=new n(a)}}d.prototype={setCursorLocation:function(e,t){var n=this,i=n.dom.createRng();if(!e){n._moveEndPoint(i,n.editor.getBody(),true);n.setRng(i)}else{i.setStart(e,t);i.setEnd(e,t);n.setRng(i);n.collapse(false)}},getContent:function(e){var n=this,i=n.getRng(),r=n.dom.create("body");var o=n.getSel(),a,s,l;e=e||{};a=s="";e.get=true;e.format=e.format||"html";e.selection=true;n.editor.fire("BeforeGetContent",e);if(e.format=="text"){return n.isCollapsed()?"":i.text||(o.toString?o.toString():"")}if(i.cloneContents){l=i.cloneContents();if(l){r.appendChild(l)}}else if(i.item!==t||i.htmlText!==t){r.innerHTML="<br>"+(i.item?i.item(0).outerHTML:i.htmlText);r.removeChild(r.firstChild)}else{r.innerHTML=i.toString()}if(/^\s/.test(r.innerHTML)){a=" "}if(/\s+$/.test(r.innerHTML)){s=" "}e.getInner=true;e.content=n.isCollapsed()?"":a+n.serializer.serialize(r,e)+s;n.editor.fire("GetContent",e);return e.content},setContent:function(e,t){var n=this,i=n.getRng(),r,o=n.win.document,a,s;t=t||{format:"html"};t.set=true;t.selection=true;e=t.content=e;if(!t.no_events){n.editor.fire("BeforeSetContent",t)}e=t.content;if(i.insertNode){e+='<span id="__caret">_</span>';if(i.startContainer==o&&i.endContainer==o){o.body.innerHTML=e}else{i.deleteContents();if(o.body.childNodes.length===0){o.body.innerHTML=e}else{if(i.createContextualFragment){i.insertNode(i.createContextualFragment(e))}else{a=o.createDocumentFragment();s=o.createElement("div");a.appendChild(s);s.outerHTML=e;i.insertNode(a)}}}r=n.dom.get("__caret");i=o.createRange();i.setStartBefore(r);i.setEndBefore(r);n.setRng(i);n.dom.remove("__caret");try{n.setRng(i)}catch(e){}}else{if(i.item){o.execCommand("Delete",false,null);i=n.getRng()}if(/^\s+/.test(e)){i.pasteHTML('<span id="__mce_tmp">_</span>'+e);n.dom.remove("__mce_tmp")}else{i.pasteHTML(e)}}if(!t.no_events){n.editor.fire("SetContent",t)}},getStart:function(){var e=this,t=e.getRng(),n,i,r,o;if(t.duplicate||t.item){if(t.item){return t.item(0)}r=t.duplicate();r.collapse(1);n=r.parentElement();if(n.ownerDocument!==e.dom.doc){n=e.dom.getRoot()}i=o=t.parentElement();while(o=o.parentNode){if(o==n){n=i;break}}return n}else{n=t.startContainer;if(n.nodeType==1&&n.hasChildNodes()){n=n.childNodes[Math.min(n.childNodes.length-1,t.startOffset)]}if(n&&n.nodeType==3){return n.parentNode}return n}},getEnd:function(){var e=this,t=e.getRng(),n,i;if(t.duplicate||t.item){if(t.item){return t.item(0)}t=t.duplicate();t.collapse(0);n=t.parentElement();if(n.ownerDocument!==e.dom.doc){n=e.dom.getRoot()}if(n&&n.nodeName=="BODY"){return n.lastChild||n}return n}else{n=t.endContainer;i=t.endOffset;if(n.nodeType==1&&n.hasChildNodes()){n=n.childNodes[i>0?i-1:i]}if(n&&n.nodeType==3){return n.parentNode}return n}},getBookmark:function(e,t){var n=this,i=n.dom,r,o,a,l,u,c,f="&#xFEFF;",d;function m(e,t){var n=0;s(i.select(e),function(e,i){if(e==t){n=i}});return n}function h(e){function t(t){var n,i,r,o=t?"start":"end";n=e[o+"Container"];i=e[o+"Offset"];if(n.nodeType==1&&n.nodeName=="TR"){r=n.childNodes;n=r[Math.min(t?i:i-1,r.length-1)];if(n){i=t?0:n.childNodes.length;e["set"+(t?"Start":"End")](n,i)}}}t(true);t();return e}function p(){var e=n.getRng(true),r=i.getRoot(),o={};function a(e,i){var o=e[i?"startContainer":"endContainer"],a=e[i?"startOffset":"endOffset"],s=[],l,u,c=0;if(o.nodeType==3){if(t){for(l=o.previousSibling;l&&l.nodeType==3;l=l.previousSibling){a+=l.nodeValue.length}}s.push(a)}else{u=o.childNodes;if(a>=u.length&&u.length){c=1;a=Math.max(0,u.length-1)}s.push(n.dom.nodeIndex(u[a],t)+c)}for(;o&&o!=r;o=o.parentNode){s.push(n.dom.nodeIndex(o,t))}return s}o.start=a(e,true);if(!n.isCollapsed()){o.end=a(e)}return o}if(e==2){c=n.getNode();u=c?c.nodeName:null;if(u=="IMG"){return{name:u,index:m(u,c)}}if(n.tridentSel){return n.tridentSel.getBookmark(e)}return p()}if(e){return{rng:n.getRng()}}r=n.getRng();a=i.uniqueId();l=n.isCollapsed();d="overflow:hidden;line-height:0px";if(r.duplicate||r.item){if(!r.item){o=r.duplicate();try{r.collapse();r.pasteHTML('<span data-mce-type="bookmark" id="'+a+'_start" style="'+d+'">'+f+"</span>");if(!l){o.collapse(false);r.moveToElementText(o.parentElement());if(r.compareEndPoints("StartToEnd",o)===0){o.move("character",-1)}o.pasteHTML('<span data-mce-type="bookmark" id="'+a+'_end" style="'+d+'">'+f+"</span>")}}catch(e){return null}}else{c=r.item(0);u=c.nodeName;return{name:u,index:m(u,c)}}}else{c=n.getNode();u=c.nodeName;if(u=="IMG"){return{name:u,index:m(u,c)}}o=h(r.cloneRange());if(!l){o.collapse(false);o.insertNode(i.create("span",{"data-mce-type":"bookmark",id:a+"_end",style:d},f))}r=h(r);r.collapse(true);r.insertNode(i.create("span",{"data-mce-type":"bookmark",id:a+"_start",style:d},f))}n.moveToBookmark({id:a,keep:1});return{id:a}},moveToBookmark:function(e){var t=this,n=t.dom,i,r,o,a,u,d;function m(t){var n=e[t?"start":"end"],o,a,s,l;if(n){s=n[0];for(a=r,o=n.length-1;o>=1;o--){l=a.childNodes;if(n[o]>l.length-1){return}a=l[n[o]]}if(a.nodeType===3){s=Math.min(n[0],a.nodeValue.length)}if(a.nodeType===1){s=Math.min(n[0],a.childNodes.length)}if(t){i.setStart(a,s)}else{i.setEnd(a,s)}}return true}function h(t){var i=n.get(e.id+"_"+t),r,c,m,h,p=e.keep;if(i){r=i.parentNode;if(t=="start"){if(!p){c=n.nodeIndex(i)}else{r=i.firstChild;c=1}o=a=r;u=d=c}else{if(!p){c=n.nodeIndex(i)}else{r=i.firstChild;c=1}a=r;d=c}if(!p){h=i.previousSibling;m=i.nextSibling;s(l(i.childNodes),function(e){if(e.nodeType==3){e.nodeValue=e.nodeValue.replace(/\uFEFF/g,"")}});while(i=n.get(e.id+"_"+t)){n.remove(i,1)}if(h&&m&&h.nodeType==m.nodeType&&h.nodeType==3&&!f){c=h.nodeValue.length;h.appendData(m.nodeValue);n.remove(m);if(t=="start"){o=a=h;u=d=c}else{a=h;d=c}}}}}function p(e){if(n.isBlock(e)&&!e.innerHTML&&!c){e.innerHTML='<br data-mce-bogus="1" />'}return e}if(e){if(e.start){i=n.createRng();r=n.getRoot();if(t.tridentSel){return t.tridentSel.moveToBookmark(e)}if(m(true)&&m()){t.setRng(i)}}else if(e.id){h("start");h("end");if(o){i=n.createRng();i.setStart(p(o),u);i.setEnd(p(a),d);t.setRng(i)}}else if(e.name){t.select(n.select(e.name)[e.index])}else if(e.rng){t.setRng(e.rng)}}},select:function(e,t){var n=this,i=n.dom,r=i.createRng(),o;n.lastFocusBookmark=null;if(e){if(!t&&n.controlSelection.controlSelect(e)){return}o=i.nodeIndex(e);r.setStart(e.parentNode,o);r.setEnd(e.parentNode,o+1);if(t){n._moveEndPoint(r,e,true);n._moveEndPoint(r,e)}n.setRng(r)}return e},isCollapsed:function(){var e=this,t=e.getRng(),n=e.getSel();if(!t||t.item){return false}if(t.compareEndPoints){return t.compareEndPoints("StartToEnd",t)===0}return!n||t.collapsed},collapse:function(e){var t=this,n=t.getRng(),i;if(n.item){i=n.item(0);n=t.win.document.body.createTextRange();n.moveToElementText(i)}n.collapse(!!e);t.setRng(n)},getSel:function(){var e=this.win;return e.getSelection?e.getSelection():e.document.selection},getRng:function(e){var t=this,n,i,r,o=t.win.document,a;function s(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(e){return-1}}if(!e&&t.lastFocusBookmark){var l=t.lastFocusBookmark;if(l.startContainer){i=o.createRange();i.setStart(l.startContainer,l.startOffset);i.setEnd(l.endContainer,l.endOffset)}else{i=l}return i}if(e&&t.tridentSel){return t.tridentSel.getRangeAt(0)}try{if(n=t.getSel()){if(n.rangeCount>0){i=n.getRangeAt(0)}else{i=n.createRange?n.createRange():o.createRange()}}}catch(e){}if(c&&i&&i.setStart&&o.selection){try{a=o.selection.createRange()}catch(e){}if(a&&a.item){r=a.item(0);i=o.createRange();i.setStartBefore(r);i.setEndAfter(r)}}if(!i){i=o.createRange?o.createRange():o.body.createTextRange()}if(i.setStart&&i.startContainer.nodeType===9&&i.collapsed){r=t.dom.getRoot();i.setStart(r,0);i.setEnd(r,0)}if(t.selectedRange&&t.explicitRange){if(s(i.START_TO_START,i,t.selectedRange)===0&&s(i.END_TO_END,i,t.selectedRange)===0){i=t.explicitRange}else{t.selectedRange=null;t.explicitRange=null}}return i},setRng:function(e,t){var n=this,i;if(e.select){try{e.select()}catch(e){}return}if(!n.tridentSel){i=n.getSel();if(i){n.explicitRange=e;try{i.removeAllRanges();i.addRange(e)}catch(e){}if(t===false&&i.extend){i.collapse(e.endContainer,e.endOffset);i.extend(e.startContainer,e.startOffset)}n.selectedRange=i.rangeCount>0?i.getRangeAt(0):null}}else{if(e.cloneRange){try{n.tridentSel.addRange(e);return}catch(e){}}}},setNode:function(e){var t=this;t.setContent(t.dom.getOuterHTML(e));return e},getNode:function(){var e=this,t=e.getRng(),n;var i=t.startContainer,r=t.endContainer;var o=t.startOffset,a=t.endOffset,s=e.dom.getRoot();function l(e,t){var n=e;while(e&&e.nodeType===3&&e.length===0){e=t?e.nextSibling:e.previousSibling}return e||n}if(!t){return s}if(t.setStart){n=t.commonAncestorContainer;if(!t.collapsed){if(i==r){if(a-o<2){if(i.hasChildNodes()){n=i.childNodes[o]}}}if(i.nodeType===3&&r.nodeType===3){if(i.length===o){i=l(i.nextSibling,true)}else{i=i.parentNode}if(a===0){r=l(r.previousSibling,false)}else{r=r.parentNode}if(i&&i===r){return i}}}if(n&&n.nodeType==3){return n.parentNode}return n}n=t.item?t.item(0):t.parentElement();if(n.ownerDocument!==e.win.document){n=s}return n},getSelectedBlocks:function(t,n){var i=this,r=i.dom,o,a,s=[];a=r.getRoot();t=r.getParent(t||i.getStart(),r.isBlock);n=r.getParent(n||i.getEnd(),r.isBlock);if(t&&t!=a){s.push(t)}if(t&&n&&t!=n){o=t;var l=new e(t,a);while((o=l.next())&&o!=n){if(r.isBlock(o)){s.push(o)}}}if(n&&t!=n&&n!=a){s.push(n)}return s},isForward:function(){var e=this.dom,t=this.getSel(),n,i;if(!t||!t.anchorNode||!t.focusNode){return true}n=e.createRng();n.setStart(t.anchorNode,t.anchorOffset);n.collapse(true);i=e.createRng();i.setStart(t.focusNode,t.focusOffset);i.collapse(true);return n.compareBoundaryPoints(n.START_TO_START,i)<=0},normalize:function(){var e=this,t=e.getRng();if(!c&&new r(e.dom).normalize(t)){e.setRng(t,e.isForward())}return t},selectorChanged:function(e,t){var n=this,i;if(!n.selectorChangedData){n.selectorChangedData={};i={};n.editor.on("NodeChange",function(e){var t=e.element,r=n.dom,o=r.getParents(t,null,r.getRoot()),a={};s(n.selectorChangedData,function(e,t){s(o,function(n){if(r.is(n,t)){if(!i[t]){s(e,function(e){e(true,{node:n,selector:t,parents:o})});i[t]=e}a[t]=e;return false}})});s(i,function(e,n){if(!a[n]){delete i[n];s(e,function(e){e(false,{node:t,selector:n,parents:o})})}})})}if(!n.selectorChangedData[e]){n.selectorChangedData[e]=[]}n.selectorChangedData[e].push(t);return n},getScrollContainer:function(){var e,t=this.dom.getRoot();while(t&&t.nodeName!="BODY"){if(t.scrollHeight>t.clientHeight){e=t;break}t=t.parentNode}return e},scrollIntoView:function(e){var t,n,i=this,r=i.dom,o=r.getRoot(),a,s;function l(e){var t=0,n=0;var i=e;while(i&&i.nodeType){t+=i.offsetLeft||0;n+=i.offsetTop||0;i=i.offsetParent}return{x:t,y:n}}if(o.nodeName!="BODY"){var u=i.getScrollContainer();if(u){t=l(e).y-l(u).y;s=u.clientHeight;a=u.scrollTop;if(t<a||t+25>a+s){u.scrollTop=t<a?t:t-s+25}return}}n=r.getViewPort(i.editor.getWin());t=r.getPos(e).y;a=n.y;s=n.h;if(t<n.y||t+25>a+s){i.editor.getWin().scrollTo(0,t<a?t:t-s+25)}},_moveEndPoint:function(t,n,i){var r=n,a=new e(n,r);var s=this.dom.schema.getNonEmptyElements();do{if(n.nodeType==3&&u(n.nodeValue).length!==0){if(i){t.setStart(n,0)}else{t.setEnd(n,n.nodeValue.length)}return}if(s[n.nodeName]){if(i){t.setStartBefore(n)}else{if(n.nodeName=="BR"){t.setEndBefore(n)}else{t.setEndAfter(n)}}return}if(o.ie&&o.ie<11&&this.dom.isBlock(n)&&this.dom.isEmpty(n)){if(i){t.setStart(n,0)}else{t.setEnd(n,0)}return}}while(n=i?a.next():a.prev());if(r.nodeName=="BODY"){if(i){t.setStart(r,0)}else{t.setEnd(r,r.childNodes.length)}}},destroy:function(){this.win=null;this.controlSelection.destroy()}};return d});r("tinymce/fmt/Preview",["tinymce/util/Tools"],function(e){var t=e.each;function n(e,n){var i,r,o=e.dom;var a="",s,l;l=e.settings.preview_styles;if(l===false){return""}if(!l){l="font-family font-size font-weight font-style text-decoration "+"text-transform color background-color border border-radius outline text-shadow"}function u(e){return e.replace(/%(\w+)/g,"")}if(typeof n=="string"){n=e.formatter.get(n);if(!n){return}n=n[0]}i=n.block||n.inline||"span";r=o.create(i);t(n.styles,function(e,t){e=u(e);if(e){o.setStyle(r,t,e)}});t(n.attributes,function(e,t){e=u(e);if(e){o.setAttrib(r,t,e)}});t(n.classes,function(e){e=u(e);if(!o.hasClass(r,e)){o.addClass(r,e)}});e.fire("PreviewFormats");o.setStyles(r,{position:"absolute",left:-65535});e.getBody().appendChild(r);s=o.getStyle(e.getBody(),"fontSize",true);s=/px$/.test(s)?parseInt(s,10):0;t(l.split(" "),function(t){var n=o.getStyle(r,t,true);if(t=="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)){n=o.getStyle(e.getBody(),t,true);if(o.toHex(n).toLowerCase()=="#ffffff"){return}}if(t=="color"){if(o.toHex(n).toLowerCase()=="#000000"){return}}if(t=="font-size"){if(/em|%$/.test(n)){if(s===0){return}n=parseFloat(n,10)/(/%$/.test(n)?100:1);n=n*s+"px"}}if(t=="border"&&n){a+="padding:0 2px;"}a+=t+":"+n+";"});e.fire("AfterPreviewFormats");o.remove(r);return a}return{getCssText:n}});r("tinymce/Formatter",["tinymce/dom/TreeWalker","tinymce/dom/RangeUtils","tinymce/util/Tools","tinymce/fmt/Preview"],function(e,t,n,i){return function(r){var o={},a=r.dom,s=r.selection,l=new t(a),u=r.schema.isValidChild,c=a.isBlock,f=r.settings.forced_root_block,d=a.nodeIndex,m="\ufeff",h=/^(src|href|style)$/,p=false,g=true,v,y,b=a.getContentEditable,C,w;var x=n.each,_=n.grep,E=n.walk,N=n.extend;function S(e){if(e.nodeType){e=e.nodeName}return!!r.schema.getTextBlockElements()[e.toLowerCase()]}function k(e,t){return a.getParents(e,t,a.getRoot())}function T(e){return e.nodeType===1&&e.id==="_mce_caret"}function R(){D({valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},defaultBlock:"div"},{selector:"img,table",collapsed:false,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},defaultBlock:"div"},{selector:"img",collapsed:false,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:false,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},defaultBlock:"div"},{selector:"img,table",collapsed:false,styles:{float:"right"}}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},defaultBlock:"div"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:true},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:true},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},wrap_links:false},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},wrap_links:false},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{
class:"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:true,deep:true,onmatch:function(){return true},onformat:function(e,t,n){x(n,function(t,n){a.setAttrib(e,n,t)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q",remove:"all",split:true,expand:false,block_expand:true,deep:true},{selector:"span",attributes:["style","class"],remove:"empty",split:true,expand:false,deep:true},{selector:"*",attributes:["style","class"],split:false,expand:false,deep:true}]});x("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(e){D(e,{block:e,remove:"all"})});D(r.settings.formats)}function A(){r.addShortcut("ctrl+b","bold_desc","Bold");r.addShortcut("ctrl+i","italic_desc","Italic");r.addShortcut("ctrl+u","underline_desc","Underline");for(var e=1;e<=6;e++){r.addShortcut("ctrl+"+e,"",["FormatBlock",false,"h"+e])}r.addShortcut("ctrl+7","",["FormatBlock",false,"p"]);r.addShortcut("ctrl+8","",["FormatBlock",false,"div"]);r.addShortcut("ctrl+9","",["FormatBlock",false,"address"])}function B(e){return e?o[e]:o}function D(e,t){if(e){if(typeof e!=="string"){x(e,function(e,t){D(t,e)})}else{t=t.length?t:[t];x(t,function(e){if(e.deep===y){e.deep=!e.selector}if(e.split===y){e.split=!e.selector||e.inline}if(e.remove===y&&e.selector&&!e.inline){e.remove="none"}if(e.selector&&e.inline){e.mixed=true;e.block_expand=true}if(typeof e.classes==="string"){e.classes=e.classes.split(/\s+/)}});o[e]=t}}}function L(e){var t;r.dom.getParent(e,function(e){t=r.dom.getStyle(e,"text-decoration");return t&&t!=="none"});return t}function M(e){var t;if(e.nodeType===1&&e.parentNode&&e.parentNode.nodeType===1){t=L(e.parentNode);if(r.dom.getStyle(e,"color")&&t){r.dom.setStyle(e,"text-decoration",t)}else if(r.dom.getStyle(e,"textdecoration")===t){r.dom.setStyle(e,"text-decoration",null)}}}function P(t,n,i){var o=B(t),d=o[0],m,h,v=!i&&s.isCollapsed();function y(e,t){t=t||d;if(e){if(t.onformat){t.onformat(e,t,n,i)}x(t.styles,function(t,i){a.setStyle(e,i,G(t,n))});if(t.styles){var r=a.getAttrib(e,"style");if(r){e.setAttribute("data-mce-style",r)}}x(t.attributes,function(t,i){a.setAttrib(e,i,G(t,n))});x(t.classes,function(t){t=G(t,n);if(!a.hasClass(e,t)){a.addClass(e,t)}})}}function C(){function t(t,n){var r=new e(n);for(i=r.current();i;i=r.prev()){if(i.childNodes.length>1||i==t||i.tagName=="BR"){return i}}}var n=r.selection.getRng();var o=n.startContainer;var a=n.endContainer;if(o!=a&&n.endOffset===0){var s=t(o,a);var l=s.nodeType==3?s.length:s.childNodes.length;n.setEnd(s,l)}return n}function w(e,t,n,i,r){var o=[],s=-1,l,u=-1,c=-1,f;x(e.childNodes,function(e,t){if(e.nodeName==="UL"||e.nodeName==="OL"){s=t;l=e;return false}});x(e.childNodes,function(e,n){if(e.nodeName==="SPAN"&&a.getAttrib(e,"data-mce-type")=="bookmark"){if(e.id==t.id+"_start"){u=n}else if(e.id==t.id+"_end"){c=n}}});if(s<=0||u<s&&c>s){x(_(e.childNodes),r);return 0}else{f=a.clone(n,p);x(_(e.childNodes),function(e,t){if(u<s&&t<s||u>s&&t>s){o.push(e);e.parentNode.removeChild(e)}});if(u<s){e.insertBefore(f,l)}else if(u>s){e.insertBefore(f,l.nextSibling)}i.push(f);x(o,function(e){f.appendChild(e)});return f}}function N(e,i,r){var s=[],f,m,h=true;f=d.inline||d.block;m=a.create(f);y(m);l.walk(e,function(e){var l;function g(e){var C,E,N,k,R;R=h;C=e.nodeName.toLowerCase();E=e.parentNode.nodeName.toLowerCase();if(e.nodeType===1&&b(e)){R=h;h=b(e)==="true";k=true}if($(C,"br")){l=0;if(d.block){a.remove(e)}return}if(d.wrapper&&I(e,t,n)){l=0;return}if(h&&!k&&d.block&&!d.wrapper&&S(C)&&u(E,f)){e=a.rename(e,f);y(e);s.push(e);l=0;return}if(d.selector){x(o,function(t){if("collapsed"in t&&t.collapsed!==v){return}if(a.is(e,t.selector)&&!T(e)){y(e,t);N=true}});if(!d.inline||N){l=0;return}}if(h&&!k&&u(f,C)&&u(E,f)&&!(!r&&e.nodeType===3&&e.nodeValue.length===1&&e.nodeValue.charCodeAt(0)===65279)&&!T(e)&&(!d.inline||!c(e))){if(!l){l=a.clone(m,p);e.parentNode.insertBefore(l,e);s.push(l)}l.appendChild(e)}else if(C=="li"&&i){l=w(e,i,m,s,g)}else{l=0;x(_(e.childNodes),g);if(k){h=R}l=0}}x(e,g)});if(d.wrap_links===false){x(s,function(e){function t(e){var n,i,r;if(e.nodeName==="A"){i=a.clone(m,p);s.push(i);r=_(e.childNodes);for(n=0;n<r.length;n++){i.appendChild(r[n])}e.appendChild(i)}x(_(e.childNodes),t)}t(e)})}x(s,function(e){var i;function r(e){var t=0;x(e.childNodes,function(e){if(!Y(e)&&!te(e)){t++}});return t}function l(e){var t,n;x(e.childNodes,function(e){if(e.nodeType==1&&!te(e)&&!T(e)){t=e;return p}});if(t&&!te(t)&&q(t,d)){n=a.clone(t,p);y(n);a.replace(n,e,g);a.remove(t,1)}return n||e}i=r(e);if((s.length>1||!c(e))&&i===0){a.remove(e,1);return}if(d.inline||d.wrapper){if(!d.exact&&i===1){e=l(e)}x(o,function(t){x(a.select(t.inline,e),function(e){var i;if(te(e)){return}if(t.wrap_links===false){i=e.parentNode;do{if(i.nodeName==="A"){return}}while(i=i.parentNode)}Q(t,n,e,t.exact?e:null)})});if(I(e.parentNode,t,n)){a.remove(e,1);e=0;return g}if(d.merge_with_parents){a.getParent(e.parentNode,function(i){if(I(i,t,n)){a.remove(e,1);e=0;return g}})}if(e&&d.merge_siblings!==false){e=ne(ee(e),e);e=ne(e,ee(e,g))}}})}if(d){if(i){if(i.nodeType){h=a.createRng();h.setStartBefore(i);h.setEndAfter(i);N(J(h,o),null,true)}else{N(i,null,true)}}else{if(!v||!d.inline||a.select("td.mce-item-selected,th.mce-item-selected").length){var k=r.selection.getNode();if(!f&&o[0].defaultBlock&&!a.getParent(k,a.isBlock)){P(o[0].defaultBlock)}r.selection.setRng(C());m=s.getBookmark();N(J(s.getRng(g),o),m);if(d.styles&&(d.styles.color||d.styles.textDecoration)){E(k,M,"childNodes");M(k)}s.moveToBookmark(m);oe(s.getRng(g));r.nodeChanged()}else{re("apply",t,n)}}}}function H(e,t,n){var i=B(e),o=i[0],u,f,m=true;function h(e){var n,r,a,s,l;if(e.nodeType===1&&b(e)){s=m;m=b(e)==="true";l=true}n=_(e.childNodes);if(m&&!l){for(r=0,a=i.length;r<a;r++){if(Q(i[r],t,e,e)){break}}}if(o.deep){if(n.length){for(r=0,a=n.length;r<a;r++){h(n[r])}if(l){m=s}}}}function v(n){var i;x(k(n.parentNode).reverse(),function(n){var r;if(!i&&n.id!="_start"&&n.id!="_end"){r=I(n,e,t);if(r&&r.split!==false){i=n}}});return i}function y(e,n,r,s){var l,u,f,d,m,h;if(e){h=e.parentNode;for(l=n.parentNode;l&&l!=h;l=l.parentNode){u=a.clone(l,p);for(m=0;m<i.length;m++){if(Q(i[m],t,u,u)){u=0;break}}if(u){if(f){u.appendChild(f)}if(!d){d=u}f=u}}if(s&&(!o.mixed||!c(e))){n=a.split(e,n)}if(f){r.parentNode.insertBefore(f,r);d.appendChild(r)}}return n}function C(e){return y(v(e),e,e,true)}function w(e){var t=a.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];if(te(n)){n=n[e?"firstChild":"lastChild"]}a.remove(t,true);return n}function E(e){var t,n;var a=e.commonAncestorContainer;e=J(e,i,g);if(o.split){t=ie(e,g);n=ie(e);if(t!=n){if(/^(TR|TH|TD)$/.test(t.nodeName)&&t.firstChild){if(t.nodeName=="TR"){t=t.firstChild.firstChild||t}else{t=t.firstChild||t}}if(a&&/^T(HEAD|BODY|FOOT|R)$/.test(a.nodeName)&&/^(TH|TD)$/.test(n.nodeName)&&n.firstChild){n=n.firstChild||n}t=X(t,"span",{id:"_start","data-mce-type":"bookmark"});n=X(n,"span",{id:"_end","data-mce-type":"bookmark"});C(t);C(n);t=w(g);n=w()}else{t=n=C(t)}e.startContainer=t.parentNode;e.startOffset=d(t);e.endContainer=n.parentNode;e.endOffset=d(n)+1}l.walk(e,function(e){x(e,function(e){h(e);if(e.nodeType===1&&r.dom.getStyle(e,"text-decoration")==="underline"&&e.parentNode&&L(e.parentNode)==="underline"){Q({deep:false,exact:true,inline:"span",styles:{textDecoration:"underline"}},null,e)}})})}if(n){if(n.nodeType){f=a.createRng();f.setStartBefore(n);f.setEndAfter(n);E(f)}else{E(n)}return}if(!s.isCollapsed()||!o.inline||a.select("td.mce-item-selected,th.mce-item-selected").length){u=s.getBookmark();E(s.getRng(g));s.moveToBookmark(u);if(o.inline&&F(e,t,s.getStart())){oe(s.getRng(true))}r.nodeChanged()}else{re("remove",e,t)}}function O(e,t,n){var i=B(e);if(F(e,t,n)&&(!("toggle"in i[0])||i[0].toggle)){H(e,t,n)}else{P(e,t,n)}}function I(e,t,n,i){var r=B(t),o,s,l;function u(e,t,r){var o,s,l=t[r],u;if(t.onmatch){return t.onmatch(e,t,r)}if(l){if(l.length===y){for(o in l){if(l.hasOwnProperty(o)){if(r==="attributes"){s=a.getAttrib(e,o)}else{s=j(e,o)}if(i&&!s&&!t.exact){return}if((!i||t.exact)&&!$(s,K(G(l[o],n),o))){return}}}}else{for(u=0;u<l.length;u++){if(r==="attributes"?a.getAttrib(e,l[u]):j(e,l[u])){return t}}}}return t}if(r&&e){for(s=0;s<r.length;s++){o=r[s];if(q(e,o)&&u(e,o,"attributes")&&u(e,o,"styles")){if(l=o.classes){for(s=0;s<l.length;s++){if(!a.hasClass(e,l[s])){return}}}return o}}}}function F(e,t,n){var i;function r(n){var i=a.getRoot();if(n===i){return false}n=a.getParent(n,function(n){return n.parentNode===i||!!I(n,e,t,true)});return I(n,e,t)}if(n){return r(n)}n=s.getNode();if(r(n)){return g}i=s.getStart();if(i!=n){if(r(i)){return g}}return p}function z(e,t){var n,i=[],r={};n=s.getStart();a.getParent(n,function(n){var o,a;for(o=0;o<e.length;o++){a=e[o];if(!r[a]&&I(n,a,t)){r[a]=true;i.push(a)}}},a.getRoot());return i}function W(e){var t=B(e),n,i,r,o,l;if(t){n=s.getStart();i=k(n);for(o=t.length-1;o>=0;o--){l=t[o].selector;if(!l||t[o].defaultBlock){return g}for(r=i.length-1;r>=0;r--){if(a.is(i[r],l)){return g}}}}return p}function U(e,t,n){var i;if(!v){v={};i={};r.on("NodeChange",function(e){var t=k(e.element),n={};x(v,function(e,r){x(t,function(o){if(I(o,r,{},e.similar)){if(!i[r]){x(e,function(e){e(true,{node:o,format:r,parents:t})});i[r]=e}n[r]=e;return false}})});x(i,function(r,o){if(!n[o]){delete i[o];x(r,function(n){n(false,{node:e.element,format:o,parents:t})})}})})}x(e.split(","),function(e){if(!v[e]){v[e]=[];v[e].similar=n}v[e].push(t)});return this}function V(e){return i.getCssText(r,e)}N(this,{get:B,register:D,apply:P,remove:H,toggle:O,match:F,matchAll:z,matchNode:I,canApply:W,formatChanged:U,getCssText:V});R();A();r.on("BeforeGetContent",function(){if(w){w()}});r.on("mouseup keydown",function(e){if(C){C(e)}});function q(e,t){if($(e,t.inline)){return g}if($(e,t.block)){return g}if(t.selector){return e.nodeType==1&&a.is(e,t.selector)}}function $(e,t){e=e||"";t=t||"";e=""+(e.nodeName||e);t=""+(t.nodeName||t);return e.toLowerCase()==t.toLowerCase()}function j(e,t){return K(a.getStyle(e,t),t)}function K(e,t){if(t=="color"||t=="backgroundColor"){e=a.toHex(e)}if(t=="fontWeight"&&e==700){e="bold"}if(t=="fontFamily"){e=e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")}return""+e}function G(e,t){if(typeof e!="string"){e=e(t)}else if(t){e=e.replace(/%(\w+)/g,function(e,n){return t[n]||e})}return e}function Y(e){return e&&e.nodeType===3&&/^([\t \r\n]+|)$/.test(e.nodeValue)}function X(e,t,n){var i=a.create(t,n);e.parentNode.insertBefore(i,e);i.appendChild(e);return i}function J(t,n,i){var o,s,l,u=t.startContainer,f=t.startOffset,m=t.endContainer,h=t.endOffset;function g(e){var t,i,r,o,s;t=i=e?u:m;o=e?"previousSibling":"nextSibling";s=a.getRoot();function l(e){return e.nodeName=="BR"&&e.getAttribute("data-mce-bogus")&&!e.nextSibling}if(t.nodeType==3&&!Y(t)){if(e?f>0:h<t.nodeValue.length){return t}}while(true){if(!n[0].block_expand&&c(i)){return i}for(r=i[o];r;r=r[o]){if(!te(r)&&!Y(r)&&!l(r)){return i}}if(i.parentNode==s){t=i;break}i=i.parentNode}return t}function v(e,t){if(t===y){t=e.nodeType===3?e.length:e.childNodes.length}while(e&&e.hasChildNodes()){e=e.childNodes[t];if(e){t=e.nodeType===3?e.length:e.childNodes.length}}return{node:e,offset:t}}if(u.nodeType==1&&u.hasChildNodes()){o=u.childNodes.length-1;u=u.childNodes[f>o?o:f];if(u.nodeType==3){f=0}}if(m.nodeType==1&&m.hasChildNodes()){o=m.childNodes.length-1;m=m.childNodes[h>o?o:h-1];if(m.nodeType==3){h=m.nodeValue.length}}function C(e){var t=e;while(t){if(t.nodeType===1&&b(t)){return b(t)==="false"?t:e}t=t.parentNode}return e}function w(t,n,o){var s,l,u,f;function d(e,t){var n,r,a=e.nodeValue;if(typeof t=="undefined"){t=o?a.length:0}if(o){n=a.lastIndexOf(" ",t);r=a.lastIndexOf(" ",t);n=n>r?n:r;if(n!==-1&&!i){n++}}else{n=a.indexOf(" ",t);r=a.indexOf(" ",t);n=n!==-1&&(r===-1||n<r)?n:r}return n}if(t.nodeType===3){u=d(t,n);if(u!==-1){return{container:t,offset:u}}f=t}s=new e(t,a.getParent(t,c)||r.getBody());while(l=s[o?"prev":"next"]()){if(l.nodeType===3){f=l;u=d(l);if(u!==-1){return{container:l,offset:u}}}else if(c(l)){break}}if(f){if(o){n=0}else{n=f.length}return{container:f,offset:n}}}function x(e,i){var r,o,s,l;if(e.nodeType==3&&e.nodeValue.length===0&&e[i]){e=e[i]}r=k(e);for(o=0;o<r.length;o++){for(s=0;s<n.length;s++){l=n[s];if("collapsed"in l&&l.collapsed!==t.collapsed){continue}if(a.is(r[o],l.selector)){return r[o]}}}return e}function _(e,t){var i,r=a.getRoot();if(!n[0].wrapper){i=a.getParent(e,n[0].block,r)}if(!i){i=a.getParent(e.nodeType==3?e.parentNode:e,function(e){return e!=r&&S(e)})}if(i&&n[0].wrapper){i=k(i,"ul,ol").reverse()[0]||i}if(!i){i=e;while(i[t]&&!c(i[t])){i=i[t];if($(i,"br")){break}}}return i||e}u=C(u);m=C(m);if(te(u.parentNode)||te(u)){u=te(u)?u:u.parentNode;u=u.nextSibling||u;if(u.nodeType==3){f=0}}if(te(m.parentNode)||te(m)){m=te(m)?m:m.parentNode;m=m.previousSibling||m;if(m.nodeType==3){h=m.length}}if(n[0].inline){if(t.collapsed){l=w(u,f,true);if(l){u=l.container;f=l.offset}l=w(m,h);if(l){m=l.container;h=l.offset}}s=v(m,h);if(s.node){while(s.node&&s.offset===0&&s.node.previousSibling){s=v(s.node.previousSibling)}if(s.node&&s.offset>0&&s.node.nodeType===3&&s.node.nodeValue.charAt(s.offset-1)===" "){if(s.offset>1){m=s.node;m.splitText(s.offset-1)}}}}if(n[0].inline||n[0].block_expand){if(!n[0].inline||(u.nodeType!=3||f===0)){u=g(true)}if(!n[0].inline||(m.nodeType!=3||h===m.nodeValue.length)){m=g()}}if(n[0].selector&&n[0].expand!==p&&!n[0].inline){u=x(u,"previousSibling");m=x(m,"nextSibling")}if(n[0].block||n[0].selector){u=_(u,"previousSibling");m=_(m,"nextSibling");if(n[0].block){if(!c(u)){u=g(true)}if(!c(m)){m=g()}}}if(u.nodeType==1){f=d(u);u=u.parentNode}if(m.nodeType==1){h=d(m)+1;m=m.parentNode}return{startContainer:u,startOffset:f,endContainer:m,endOffset:h}}function Q(e,t,n,i){var r,o,s;if(!q(n,e)){return p}if(e.remove!="all"){x(e.styles,function(e,r){e=K(G(e,t),r);if(typeof r==="number"){r=e;i=0}if(!i||$(j(i,r),e)){a.setStyle(n,r,"")}s=1});if(s&&a.getAttrib(n,"style")===""){n.removeAttribute("style");n.removeAttribute("data-mce-style")}x(e.attributes,function(e,r){var o;e=G(e,t);if(typeof r==="number"){r=e;i=0}if(!i||$(a.getAttrib(i,r),e)){if(r=="class"){e=a.getAttrib(n,r);if(e){o="";x(e.split(/\s+/),function(e){if(/mce\w+/.test(e)){o+=(o?" ":"")+e}});if(o){a.setAttrib(n,r,o);return}}}if(r=="class"){n.removeAttribute("className")}if(h.test(r)){n.removeAttribute("data-mce-"+r)}n.removeAttribute(r)}});x(e.classes,function(e){e=G(e,t);if(!i||a.hasClass(i,e)){a.removeClass(n,e)}});o=a.getAttribs(n);for(r=0;r<o.length;r++){if(o[r].nodeName.indexOf("_")!==0){return p}}}if(e.remove!="none"){Z(n,e);return g}}function Z(e,t){var n=e.parentNode,i;function o(e,t,n){e=ee(e,t,n);return!e||(e.nodeName=="BR"||c(e))}if(t.block){if(!f){if(c(e)&&!c(n)){if(!o(e,p)&&!o(e.firstChild,g,1)){e.insertBefore(a.create("br"),e.firstChild)}if(!o(e,g)&&!o(e.lastChild,p,1)){e.appendChild(a.create("br"))}}}else{if(n==a.getRoot()){if(!t.list_block||!$(e,t.list_block)){x(_(e.childNodes),function(e){if(u(f,e.nodeName.toLowerCase())){if(!i){i=X(e,f);a.setAttribs(i,r.settings.forced_root_block_attrs)}else{i.appendChild(e)}}else{i=0}})}}}}if(t.selector&&t.inline&&!$(t.inline,e)){return}a.remove(e,1)}function ee(e,t,n){if(e){t=t?"nextSibling":"previousSibling";for(e=n?e:e[t];e;e=e[t]){if(e.nodeType==1||!Y(e)){return e}}}}function te(e){return e&&e.nodeType==1&&e.getAttribute("data-mce-type")=="bookmark"}function ne(e,t){var n,i;function r(e,t){if(e.nodeName!=t.nodeName){return p}function n(e){var t={};x(a.getAttribs(e),function(n){var i=n.nodeName.toLowerCase();if(i.indexOf("_")!==0&&i!=="style"&&i!=="data-mce-style"){t[i]=a.getAttrib(e,i)}});return t}function i(e,t){var n,i;for(i in e){if(e.hasOwnProperty(i)){n=t[i];if(n===y){return p}if(e[i]!=n){return p}delete t[i]}}for(i in t){if(t.hasOwnProperty(i)){return p}}return g}if(!i(n(e),n(t))){return p}if(!i(a.parseStyle(a.getAttrib(e,"style")),a.parseStyle(a.getAttrib(t,"style")))){return p}return!te(e)&&!te(t)}function o(e,t){for(n=e;n;n=n[t]){if(n.nodeType==3&&n.nodeValue.length!==0){return e}if(n.nodeType==1&&!te(n)){return n}}return e}if(e&&t){e=o(e,"previousSibling");t=o(t,"nextSibling");if(r(e,t)){for(n=e.nextSibling;n&&n!=t;){i=n;n=n.nextSibling;e.appendChild(i)}a.remove(t);x(_(t.childNodes),function(t){e.appendChild(t)});return e}}return t}function ie(t,n){var i,o,a;i=t[n?"startContainer":"endContainer"];o=t[n?"startOffset":"endOffset"];if(i.nodeType==1){a=i.childNodes.length-1;if(!n&&o){o--}i=i.childNodes[o>a?a:o]}if(i.nodeType===3&&n&&o>=i.nodeValue.length){i=new e(i,r.getBody()).next()||i}if(i.nodeType===3&&!n&&o===0){i=new e(i,r.getBody()).prev()||i}return i}function re(t,n,i){var o="_mce_caret",u=r.settings.caret_debug;function c(e){var t=a.create("span",{id:o,"data-mce-bogus":true,style:u?"color:red":""});if(e){t.appendChild(r.getDoc().createTextNode(m))}return t}function f(e,t){while(e){if(e.nodeType===3&&e.nodeValue!==m||e.childNodes.length>1){return false}if(t&&e.nodeType===1){t.push(e)}e=e.firstChild}return true}function d(e){while(e){if(e.id===o){return e}e=e.parentNode}}function h(t){var n;if(t){n=new e(t,t);for(t=n.current();t;t=n.next()){if(t.nodeType===3){return t}}}}function p(e,t){var n,i;if(!e){e=d(s.getStart());if(!e){while(e=a.get(o)){p(e,false)}}}else{i=s.getRng(true);if(f(e)){if(t!==false){i.setStartBefore(e);i.setEndBefore(e)}a.remove(e)}else{n=h(e);if(n.nodeValue.charAt(0)===m){n=n.deleteData(0,1)}a.remove(e,1)}s.setRng(i)}}function g(){var e,t,r,o,a,u,f;e=s.getRng(true);o=e.startOffset;u=e.startContainer;f=u.nodeValue;t=d(s.getStart());if(t){r=h(t)}if(f&&o>0&&o<f.length&&/\w/.test(f.charAt(o))&&/\w/.test(f.charAt(o-1))){a=s.getBookmark();e.collapse(true);e=J(e,B(n));e=l.split(e);P(n,i,e);s.moveToBookmark(a)}else{if(!t||r.nodeValue!==m){t=c(true);r=t.firstChild;e.insertNode(t);o=1;P(n,i,t)}else{P(n,i,t)}s.setCursorLocation(r,o)}}function v(){var e=s.getRng(true),t,r,o,u,f,d,h=[],p,g;t=e.startContainer;r=e.startOffset;f=t;if(t.nodeType==3){if(r!=t.nodeValue.length||t.nodeValue===m){u=true}f=f.parentNode}while(f){if(I(f,n,i)){d=f;break}if(f.nextSibling){u=true}h.push(f);f=f.parentNode}if(!d){return}if(u){o=s.getBookmark();e.collapse(true);e=J(e,B(n),true);e=l.split(e);H(n,i,e);s.moveToBookmark(o)}else{g=c();f=g;for(p=h.length-1;p>=0;p--){f.appendChild(a.clone(h[p],false));f=f.firstChild}f.appendChild(a.doc.createTextNode(m));f=f.firstChild;var v=a.getParent(d,S);if(v&&a.isEmpty(v)){d.parentNode.replaceChild(g,d)}else{a.insertAfter(g,d)}s.setCursorLocation(f,1);if(a.isEmpty(d)){a.remove(d)}}}function y(){var e;e=d(s.getStart());if(e&&!a.isEmpty(e)){E(e,function(e){if(e.nodeType==1&&e.id!==o&&!a.isEmpty(e)){a.setAttrib(e,"data-mce-bogus",null)}},"childNodes")}}if(!r._hasCaretEvents){w=function(){var e=[],t;if(f(d(s.getStart()),e)){t=e.length;while(t--){a.setAttrib(e[t],"data-mce-bogus","1")}}};C=function(e){var t=e.keyCode;p();if(t==8||t==37||t==39){p(d(s.getStart()))}y()};r.on("SetContent",function(e){if(e.selection){y()}});r._hasCaretEvents=true}if(t=="apply"){g()}else{v()}}function oe(t){var n=t.startContainer,i=t.startOffset,r,o,l,u,c;if(n.nodeType==3&&i>=n.nodeValue.length){i=d(n);n=n.parentNode;r=true}if(n.nodeType==1){u=n.childNodes;n=u[Math.min(i,u.length-1)];o=new e(n,a.getParent(n,a.isBlock));if(i>u.length-1||r){o.next()}for(l=o.current();l;l=o.next()){if(l.nodeType==3&&!Y(l)){c=a.create("a",null,m);l.parentNode.insertBefore(c,l);t.setStart(l,0);s.setRng(t);a.remove(c);return}}}}}});r("tinymce/UndoManager",["tinymce/Env","tinymce/util/Tools"],function(e,t){var n=t.trim,i;i=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[​\ufeff]+<\\/span>","<div[^>]+data-mce-bogus[^>]+><\\/div>",'\\s?data-mce-selected="[^"]+"'].join("|"),"gi");return function(t){var r=this,o=0,a=[],s,l,u=0;function c(){return n(t.getContent({format:"raw",no_events:1}).replace(i,""))}function f(e){r.typing=false;r.add({},e)}t.on("init",function(){r.add()});t.on("BeforeExecCommand",function(e){var t=e.command;if(t!="Undo"&&t!="Redo"&&t!="mceRepaint"){r.beforeChange()}});t.on("ExecCommand",function(e){var t=e.command;if(t!="Undo"&&t!="Redo"&&t!="mceRepaint"){f(e)}});t.on("ObjectResizeStart",function(){r.beforeChange()});t.on("SaveContent ObjectResized blur",f);t.dom.bind(t.dom.getRoot(),"dragend",f);t.on("KeyUp",function(n){var i=n.keyCode;if(i>=33&&i<=36||i>=37&&i<=40||i==45||i==13||n.ctrlKey){f();t.nodeChanged()}if(i==46||i==8||e.mac&&(i==91||i==93)){t.nodeChanged()}if(l&&r.typing){if(!t.isDirty()){t.isNotDirty=!a[0]||c()==a[0].content;if(!t.isNotDirty){t.fire("change",{level:a[0],lastLevel:null})}}t.fire("TypingUndo");l=false;t.nodeChanged()}});t.on("KeyDown",function(e){var t=e.keyCode;if(t>=33&&t<=36||t>=37&&t<=40||t==45){if(r.typing){f(e)}return}if((t<16||t>20)&&t!=224&&t!=91&&!r.typing){r.beforeChange();r.typing=true;r.add({},e);l=true}});t.on("MouseDown",function(e){if(r.typing){f(e)}});t.addShortcut("ctrl+z","","Undo");t.addShortcut("ctrl+y,ctrl+shift+z","","Redo");t.on("AddUndo Undo Redo ClearUndos MouseUp",function(e){if(!e.isDefaultPrevented()){t.nodeChanged()}});r={data:a,typing:false,beforeChange:function(){if(!u){s=t.selection.getBookmark(2,true)}},add:function(e,n){var i,r=t.settings,l;e=e||{};e.content=c();if(u||t.removed){return null}l=a[o];if(t.fire("BeforeAddUndo",{level:e,lastLevel:l,originalEvent:n}).isDefaultPrevented()){return null}if(l&&l.content==e.content){return null}if(a[o]){a[o].beforeBookmark=s}if(r.custom_undo_redo_levels){if(a.length>r.custom_undo_redo_levels){for(i=0;i<a.length-1;i++){a[i]=a[i+1]}a.length--;o=a.length}}e.bookmark=t.selection.getBookmark(2,true);if(o<a.length-1){a.length=o+1}a.push(e);o=a.length-1;var f={level:e,lastLevel:l,originalEvent:n};t.fire("AddUndo",f);if(o>0){t.isNotDirty=false;t.fire("change",f)}return e},undo:function(){var e;if(r.typing){r.add();r.typing=false}if(o>0){e=a[--o];if(o===0){t.isNotDirty=true}t.setContent(e.content,{format:"raw"});t.selection.moveToBookmark(e.beforeBookmark);t.fire("undo",{level:e})}return e},redo:function(){var e;if(o<a.length-1){e=a[++o];t.setContent(e.content,{format:"raw"});t.selection.moveToBookmark(e.bookmark);t.fire("redo",{level:e})}return e},clear:function(){a=[];o=0;r.typing=false;t.fire("ClearUndos")},hasUndo:function(){return o>0||r.typing&&a[0]&&c()!=a[0].content},hasRedo:function(){return o<a.length-1&&!this.typing},transact:function(e){r.beforeChange();try{u++;e()}finally{u--}r.add()}};return r}});r("tinymce/EnterKey",["tinymce/dom/TreeWalker","tinymce/dom/RangeUtils","tinymce/Env"],function(e,t,n){var i=n.ie&&n.ie<11;return function(r){var o=r.dom,a=r.selection,s=r.settings;var l=r.undoManager,u=r.schema,c=u.getNonEmptyElements();function f(f){var d,m,h,p,g,v,y,b,C,w,x,_,E,N,S;function k(e){return e&&o.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&o.getContentEditable(e)!=="true"}function T(e){var t;if(o.isBlock(e)){t=a.getRng();e.appendChild(o.create("span",null," "));a.select(e);e.lastChild.outerHTML="";a.setRng(t)}}function R(e){var t=e,n=[],i;while(t=t.firstChild){if(o.isBlock(t)){return}if(t.nodeType==1&&!c[t.nodeName.toLowerCase()]){n.push(t)}}i=n.length;while(i--){t=n[i];if(!t.hasChildNodes()||t.firstChild==t.lastChild&&t.firstChild.nodeValue===""){o.remove(t)}else{if(t.nodeName=="A"&&(t.innerText||t.textContent)===" "){o.remove(t)}}}}function A(t){var i,r,s,l=t,u;function f(e){while(e){if(e.nodeType==1||e.nodeType==3&&e.data&&/[\r\n\s]/.test(e.data)){return e}e=e.nextSibling}}if(n.ie&&n.ie<9&&v&&v.firstChild){if(v.firstChild==v.lastChild&&v.firstChild.tagName=="BR"){o.remove(v.firstChild)}}if(t.nodeName=="LI"){var d=f(t.firstChild);if(d&&/^(UL|OL)$/.test(d.nodeName)){t.insertBefore(o.doc.createTextNode(" "),t.firstChild)}}s=o.createRng();if(t.hasChildNodes()){i=new e(t,t);while(r=i.current()){if(r.nodeType==3){s.setStart(r,0);s.setEnd(r,0);break}if(c[r.nodeName.toLowerCase()]){s.setStartBefore(r);s.setEndBefore(r);break}l=r;r=i.next()}if(!r){s.setStart(l,0);s.setEnd(l,0)}}else{if(t.nodeName=="BR"){if(t.nextSibling&&o.isBlock(t.nextSibling)){if(!y||y<9){u=o.create("br");t.parentNode.insertBefore(u,t)}s.setStartBefore(t);s.setEndBefore(t)}else{s.setStartAfter(t);s.setEndAfter(t)}}else{s.setStart(t,0);s.setEnd(t,0)}}a.setRng(s);o.remove(u);a.scrollIntoView(t)}function B(e){var t=s.forced_root_block;if(t&&t.toLowerCase()===e.tagName.toLowerCase()){o.setAttribs(e,s.forced_root_block_attrs)}}function D(e){var t=p,n,r,a;if(e||_=="TABLE"){n=o.create(e||N);B(n)}else{n=v.cloneNode(false)}a=n;if(s.keep_styles!==false){do{if(/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U|VAR|CITE|DFN|CODE|MARK|Q|SUP|SUB|SAMP)$/.test(t.nodeName)){if(t.id=="_mce_caret"){continue}r=t.cloneNode(false);o.setAttrib(r,"id","");if(n.hasChildNodes()){r.appendChild(n.firstChild);n.appendChild(r)}else{a=r;n.appendChild(r)}}}while(t=t.parentNode)}if(!i){a.innerHTML='<br data-mce-bogus="1">'}return n}function L(t){var n,i,r;if(p.nodeType==3&&(t?g>0:g<p.nodeValue.length)){return false}if(p.parentNode==v&&S&&!t){return true}if(t&&p.nodeType==1&&p==v.firstChild){return true}if(p.nodeName==="TABLE"||p.previousSibling&&p.previousSibling.nodeName=="TABLE"){return S&&!t||!S&&t}n=new e(p,v);if(p.nodeType==3){if(t&&g===0){n.prev()}else if(!t&&g==p.nodeValue.length){n.next()}}while(i=n.current()){if(i.nodeType===1){if(!i.getAttribute("data-mce-bogus")){r=i.nodeName.toLowerCase();if(c[r]&&r!=="br"){return false}}}else if(i.nodeType===3&&!/^[ \t\r\n]*$/.test(i.nodeValue)){return false}if(t){n.prev()}else{n.next()}}return true}function M(e,t){var n,i,a,s,l,c,f=N||"P";i=o.getParent(e,o.isBlock);c=r.getBody().nodeName.toLowerCase();if(!i||!k(i)){i=i||h;if(!i.hasChildNodes()){n=o.create(f);B(n);i.appendChild(n);d.setStart(n,0);d.setEnd(n,0);return n}s=e;while(s.parentNode!=i){s=s.parentNode}while(s&&!o.isBlock(s)){a=s;s=s.previousSibling}if(a&&u.isValidChild(c,f.toLowerCase())){n=o.create(f);B(n);a.parentNode.insertBefore(n,a);s=a;while(s&&!o.isBlock(s)){l=s.nextSibling;n.appendChild(s);s=l}d.setStart(e,t);d.setEnd(e,t)}}return e}function P(){function e(e){var t=x[e?"firstChild":"lastChild"];while(t){if(t.nodeType==1){break}t=t[e?"nextSibling":"previousSibling"]}return t===v}function t(){var e=x.parentNode;if(e.nodeName=="LI"){return e}return x}var n=x.parentNode.nodeName;if(/^(OL|UL|LI)$/.test(n)){N="LI"}C=N?D(N):o.create("BR");if(e(true)&&e()){if(n=="LI"){o.insertAfter(C,t())}else{o.replace(C,x)}}else if(e(true)){if(n=="LI"){o.insertAfter(C,t());C.appendChild(o.doc.createTextNode(" "));C.appendChild(x)}else{x.parentNode.insertBefore(C,x)}}else if(e()){o.insertAfter(C,t());T(C)}else{x=t();m=d.cloneRange();m.setStartAfter(v);m.setEndAfter(x);w=m.extractContents();if(N=="LI"&&w.firstChild.nodeName=="LI"){C=w.firstChild;o.insertAfter(w,x)}else{o.insertAfter(w,x);o.insertAfter(C,x)}}o.remove(v);A(C);l.add()}function H(){var t=new e(p,v),n;while(n=t.next()){if(c[n.nodeName.toLowerCase()]||n.length>0){return true}}}function O(){var e,t,n;if(p&&p.nodeType==3&&g>=p.nodeValue.length){if(!i&&!H()){e=o.create("br");d.insertNode(e);d.setStartAfter(e);d.setEndAfter(e);t=true}}e=o.create("br");d.insertNode(e);if(i&&_=="PRE"&&(!y||y<8)){e.parentNode.insertBefore(o.doc.createTextNode("\r"),e)}n=o.create("span",{},"&nbsp;");e.parentNode.insertBefore(n,e);a.scrollIntoView(n);o.remove(n);if(!t){d.setStartAfter(e);d.setEndAfter(e)}else{d.setStartBefore(e);d.setEndBefore(e)}a.setRng(d);l.add()}function I(e){do{if(e.nodeType===3){e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")}e=e.firstChild}while(e)}function F(e){var t=o.getRoot(),n,i;n=e;while(n!==t&&o.getContentEditable(n)!=="false"){if(o.getContentEditable(n)==="true"){i=n}n=n.parentNode}return n!==t?i:t}function z(e){var t;if(!i){e.normalize();t=e.lastChild;if(!t||/^(left|right)$/gi.test(o.getStyle(t,"float",true))){o.add(e,"br")}}}d=a.getRng(true);if(f.isDefaultPrevented()){return}if(!d.collapsed){r.execCommand("Delete");return}new t(o).normalize(d);p=d.startContainer;g=d.startOffset;N=(s.force_p_newlines?"p":"")||s.forced_root_block;N=N?N.toUpperCase():"";y=o.doc.documentMode;b=f.shiftKey;if(p.nodeType==1&&p.hasChildNodes()){S=g>p.childNodes.length-1;p=p.childNodes[Math.min(g,p.childNodes.length-1)]||p;if(S&&p.nodeType==3){g=p.nodeValue.length}else{g=0}}h=F(p);if(!h){return}l.beforeChange();if(!o.isBlock(h)&&h!=o.getRoot()){if(!N||b){O()}return}if(N&&!b||!N&&b){p=M(p,g)}v=o.getParent(p,o.isBlock);x=v?o.getParent(v.parentNode,o.isBlock):null;_=v?v.nodeName.toUpperCase():"";E=x?x.nodeName.toUpperCase():"";if(E=="LI"&&!f.ctrlKey){v=x;_=E}if(_=="LI"){if(!N&&b){O();return}if(o.isEmpty(v)){P();return}}if(_=="PRE"&&s.br_in_pre!==false){if(!b){O();return}}else{if(!N&&!b&&_!="LI"||N&&b){O();return}}if(N&&v===r.getBody()){return}N=N||"P";if(L()){if(/^(H[1-6]|PRE|FIGURE)$/.test(_)&&E!="HGROUP"){C=D(N)}else{C=D()}if(s.end_container_on_empty_block&&k(x)&&o.isEmpty(v)){C=o.split(x,v)}else{o.insertAfter(C,v)}A(C)}else if(L(true)){C=v.parentNode.insertBefore(D(),v);T(C);A(v)}else{m=d.cloneRange();m.setEndAfter(v);w=m.extractContents();I(w);C=w.firstChild;o.insertAfter(w,v);R(C);z(v);A(C)}o.setAttrib(C,"id","");r.fire("NewBlock",{newBlock:C});l.add()}r.on("keydown",function(e){if(e.keyCode==13){if(f(e)!==false){e.preventDefault()}}})}});r("tinymce/ForceBlocks",[],function(){return function(e){var t=e.settings,n=e.dom,i=e.selection;var r=e.schema,o=r.getBlockElements();function a(){var a=i.getStart(),s=e.getBody(),l;var u,c,f,d,m;var h,p=-16777215,g,v;var y,b,C;C=t.forced_root_block;if(!a||a.nodeType!==1||!C){return}while(a&&a!=s){if(o[a.nodeName]){return}a=a.parentNode}l=i.getRng();if(l.setStart){u=l.startContainer;c=l.startOffset;f=l.endContainer;d=l.endOffset;try{v=e.getDoc().activeElement===s}catch(e){}}else{if(l.item){a=l.item(0);l=e.getDoc().body.createTextRange();l.moveToElementText(a)}v=l.parentElement().ownerDocument===e.getDoc();y=l.duplicate();y.collapse(true);c=y.move("character",p)*-1;if(!y.collapsed){y=l.duplicate();y.collapse(false);d=y.move("character",p)*-1-c}}a=s.firstChild;b=s.nodeName.toLowerCase();while(a){if((a.nodeType===3||a.nodeType==1&&!o[a.nodeName])&&r.isValidChild(b,C.toLowerCase())){if(a.nodeType===3&&a.nodeValue.length===0){h=a;a=a.nextSibling;n.remove(h);continue}if(!m){m=n.create(C,e.settings.forced_root_block_attrs);a.parentNode.insertBefore(m,a);g=true}h=a;a=a.nextSibling;m.appendChild(h)}else{m=null;a=a.nextSibling}}if(g&&v){if(l.setStart){l.setStart(u,c);l.setEnd(f,d);i.setRng(l)}else{try{l=e.getDoc().body.createTextRange();l.moveToElementText(s);l.collapse(true);l.moveStart("character",c);if(d>0){l.moveEnd("character",d)}l.select()}catch(e){}}e.nodeChanged()}}if(t.forced_root_block){e.on("NodeChange",a)}}});r("tinymce/EditorCommands",["tinymce/html/Serializer","tinymce/Env","tinymce/util/Tools"],function(e,n,i){var r=i.each,o=i.extend;var a=i.map,s=i.inArray,l=i.explode;var u=n.gecko,c=n.ie;var f=true,d=false;return function(i){var m=i.dom,h=i.selection,p={state:{},exec:{},value:{}},g=i.settings,v=i.formatter,y;function b(e,t,n){var i;e=e.toLowerCase();if(i=p.exec[e]){i(e,t,n);return f}return d}function C(e){var t;e=e.toLowerCase();if(t=p.state[e]){return t(e)}return-1}function w(e){var t;e=e.toLowerCase();if(t=p.value[e]){return t(e)}return d}function x(e,t){t=t||"exec";r(e,function(e,n){r(n.toLowerCase().split(","),function(n){p[t][n]=e})})}o(this,{execCommand:b,queryCommandState:C,queryCommandValue:w,addCommands:x});function _(e,n,r){if(n===t){n=d}if(r===t){r=null}return i.getDoc().execCommand(e,n,r)}function E(e){return v.match(e)}function N(e,n){v.toggle(e,n?{value:n}:t);i.nodeChanged()}function S(e){y=h.getBookmark(e)}function k(){h.moveToBookmark(y)}x({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){i.undoManager.add()},"Cut,Copy,Paste":function(e){var t=i.getDoc(),r;try{_(e)}catch(e){r=f}if(r||!t.queryCommandSupported(e)){var o=i.translate("Your browser doesn't support direct access to the clipboard. "+"Please use the Ctrl+X/C/V keyboard shortcuts instead.");
if(n.mac){o=o.replace(/Ctrl\+/g,"⌘+")}i.windowManager.alert(o)}},unlink:function(){if(h.isCollapsed()){var e=h.getNode();if(e.tagName=="A"){i.dom.remove(e,true)}return}v.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(e){var t=e.substring(7);if(t=="full"){t="justify"}r("left,center,right,justify".split(","),function(e){if(t!=e){v.remove("align"+e)}});N("align"+t);b("mceRepaint")},"InsertUnorderedList,InsertOrderedList":function(e){var t,n;_(e);t=m.getParent(h.getNode(),"ol,ul");if(t){n=t.parentNode;if(/^(H[1-6]|P|ADDRESS|PRE)$/.test(n.nodeName)){S();m.split(n,t);k()}}},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){N(e)},"ForeColor,HiliteColor,FontName":function(e,t,n){N(e,n)},FontSize:function(e,t,n){var i,r;if(n>=1&&n<=7){r=l(g.font_size_style_values);i=l(g.font_size_classes);if(i){n=i[n-1]||n}else{n=r[n-1]||n}}N(e,n)},RemoveFormat:function(e){v.remove(e)},mceBlockQuote:function(){N("blockquote")},FormatBlock:function(e,t,n){return N(n||"p")},mceCleanup:function(){var e=h.getBookmark();i.setContent(i.getContent({cleanup:f}),{cleanup:f});h.moveToBookmark(e)},mceRemoveNode:function(e,t,n){var r=n||h.getNode();if(r!=i.getBody()){S();i.dom.remove(r,f);k()}},mceSelectNodeDepth:function(e,t,n){var r=0;m.getParent(h.getNode(),function(e){if(e.nodeType==1&&r++==n){h.select(e);return d}},i.getBody())},mceSelectNode:function(e,t,n){h.select(n)},mceInsertContent:function(t,n,r){var o,a,s,l,u,f;var d,p,g,v,y;function b(e){var t,n,i;t=h.getRng(true);n=t.startContainer;i=t.startOffset;function r(e){return n[e]&&n[e].nodeType==3}if(n.nodeType==3){if(i>0){e=e.replace(/^&nbsp;/," ")}else if(!r("previousSibling")){e=e.replace(/^ /,"&nbsp;")}if(i<n.length){e=e.replace(/&nbsp;(<br>|)$/," ")}else if(!r("nextSibling")){e=e.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;")}}return e}if(/^ | $/.test(r)){r=b(r)}o=i.parser;a=new e({},i.schema);y='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#200B;</span>';f={content:r,format:"html",selection:true};i.fire("BeforeSetContent",f);r=f.content;if(r.indexOf("{$caret}")==-1){r+="{$caret}"}r=r.replace(/\{\$caret\}/,y);p=h.getRng();var C=p.startContainer||(p.parentElement?p.parentElement():null);var w=i.getBody();if(C===w&&h.isCollapsed()){if(m.isBlock(w.firstChild)&&m.isEmpty(w.firstChild)){p=m.createRng();p.setStart(w.firstChild,0);p.setEnd(w.firstChild,0);h.setRng(p)}}if(!h.isCollapsed()){i.getDoc().execCommand("Delete",false,null)}s=h.getNode();var x={context:s.nodeName.toLowerCase()};u=o.parse(r,x);g=u.lastChild;if(g.attr("id")=="mce_marker"){d=g;for(g=g.prev;g;g=g.walk(true)){if(g.type==3||!m.isBlock(g.name)){g.parent.insert(d,g,g.name==="br");break}}}if(!x.invalid){r=a.serialize(u);g=s.firstChild;v=s.lastChild;if(!g||g===v&&g.nodeName==="BR"){m.setHTML(s,r)}else{h.setContent(r)}}else{h.setContent(y);s=h.getNode();l=i.getBody();if(s.nodeType==9){s=g=l}else{g=s}while(g!==l){s=g;g=g.parentNode}r=s==l?l.innerHTML:m.getOuterHTML(s);r=a.serialize(o.parse(r.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return a.serialize(u)})));if(s==l){m.setHTML(l,r)}else{m.setOuterHTML(s,r)}}d=m.get("mce_marker");h.scrollIntoView(d);p=m.createRng();g=d.previousSibling;if(g&&g.nodeType==3){p.setStart(g,g.nodeValue.length);if(!c){v=d.nextSibling;if(v&&v.nodeType==3){g.appendData(v.data);v.parentNode.removeChild(v)}}}else{p.setStartBefore(d);p.setEndBefore(d)}m.remove(d);h.setRng(p);i.fire("SetContent",f);i.addVisual()},mceInsertRawHTML:function(e,t,n){h.setContent("tiny_mce_marker");i.setContent(i.getContent().replace(/tiny_mce_marker/g,function(){return n}))},mceToggleFormat:function(e,t,n){N(n)},mceSetContent:function(e,t,n){i.setContent(n)},"Indent,Outdent":function(e){var t,n,o;t=g.indentation;n=/[a-z%]+$/i.exec(t);t=parseInt(t,10);if(!C("InsertUnorderedList")&&!C("InsertOrderedList")){if(!g.forced_root_block&&!m.getParent(h.getNode(),m.isBlock)){v.apply("div")}r(h.getSelectedBlocks(),function(r){if(r.nodeName!="LI"){var a=i.getParam("indent_use_margin",false)?"margin":"padding";a+=m.getStyle(r,"direction",true)=="rtl"?"Right":"Left";if(e=="outdent"){o=Math.max(0,parseInt(r.style[a]||0,10)-t);m.setStyle(r,a,o?o+n:"")}else{o=parseInt(r.style[a]||0,10)+t+n;m.setStyle(r,a,o)}}})}else{_(e)}},mceRepaint:function(){if(u){try{S(f);if(h.getSel()){h.getSel().selectAllChildren(i.getBody())}h.collapse(f);k()}catch(e){}}},InsertHorizontalRule:function(){i.execCommand("mceInsertContent",false,"<hr />")},mceToggleVisualAid:function(){i.hasVisual=!i.hasVisual;i.addVisual()},mceReplaceContent:function(e,t,n){i.execCommand("mceInsertContent",false,n.replace(/\{\$selection\}/g,h.getContent({format:"text"})))},mceInsertLink:function(e,t,n){var i;if(typeof n=="string"){n={href:n}}i=m.getParent(h.getNode(),"a");n.href=n.href.replace(" ","%20");if(!i||!n.href){v.remove("link")}if(n.href){v.apply("link",n,i)}},selectAll:function(){var e=m.getRoot(),t;if(h.getRng().setStart){t=m.createRng();t.setStart(e,0);t.setEnd(e,e.childNodes.length);h.setRng(t)}else{t=h.getRng();if(!t.item){t.moveToElementText(e);t.select()}}},delete:function(){_("Delete");var e=i.getBody();if(m.isEmpty(e)){i.setContent("");if(e.firstChild&&m.isBlock(e.firstChild)){i.selection.setCursorLocation(e.firstChild,0)}else{i.selection.setCursorLocation(e,0)}}},mceNewDocument:function(){i.setContent("")}});x({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(e){var t="align"+e.substring(7);var n=h.isCollapsed()?[m.getParent(h.getNode(),m.isBlock)]:h.getSelectedBlocks();var i=a(n,function(e){return!!v.matchNode(e,t)});return s(i,f)!==-1},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return E(e)},mceBlockQuote:function(){return E("blockquote")},Outdent:function(){var e;if(g.inline_styles){if((e=m.getParent(h.getStart(),m.isBlock))&&parseInt(e.style.paddingLeft,10)>0){return f}if((e=m.getParent(h.getEnd(),m.isBlock))&&parseInt(e.style.paddingLeft,10)>0){return f}}return C("InsertUnorderedList")||C("InsertOrderedList")||!g.inline_styles&&!!m.getParent(h.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(e){var t=m.getParent(h.getNode(),"ul,ol");return t&&(e==="insertunorderedlist"&&t.tagName==="UL"||e==="insertorderedlist"&&t.tagName==="OL")}},"state");x({"FontSize,FontName":function(e){var t=0,n;if(n=m.getParent(h.getNode(),"span")){if(e=="fontsize"){t=n.style.fontSize}else{t=n.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()}}return t}},"value");x({Undo:function(){i.undoManager.undo()},Redo:function(){i.undoManager.redo()}})}});r("tinymce/util/URI",["tinymce/util/Tools"],function(e){var t=e.each,n=e.trim,i={ftp:21,http:80,https:443,mailto:25};function r(e,i){var o=this,a,s;e=n(e);i=o.settings=i||{};if(/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e)){o.source=e;return}var l=e.indexOf("//")===0;if(e.indexOf("/")===0&&!l){e=(i.base_uri?i.base_uri.protocol||"http":"http")+"://mce_host"+e}if(!/^[\w\-]*:?\/\//.test(e)){s=i.base_uri?i.base_uri.path:new r(location.href).directory;if(i.base_uri.protocol===""){e="//mce_host"+o.toAbsPath(s,e)}else{e=(i.base_uri&&i.base_uri.protocol||"http")+"://mce_host"+o.toAbsPath(s,e)}}e=e.replace(/@@/g,"(mce_at)");e=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);t(["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],function(t,n){var i=e[n];if(i){i=i.replace(/\(mce_at\)/g,"@@")}o[t]=i});a=i.base_uri;if(a){if(!o.protocol){o.protocol=a.protocol}if(!o.userInfo){o.userInfo=a.userInfo}if(!o.port&&o.host==="mce_host"){o.port=a.port}if(!o.host||o.host==="mce_host"){o.host=a.host}o.source=""}if(l){o.protocol=""}}r.prototype={setPath:function(e){var t=this;e=/^(.*?)\/?(\w+)?$/.exec(e);t.path=e[0];t.directory=e[1];t.file=e[2];t.source="";t.getURI()},toRelative:function(e){var t=this,n;if(e==="./"){return e}e=new r(e,{base_uri:t});if(e.host!="mce_host"&&t.host!=e.host&&e.host||t.port!=e.port||t.protocol!=e.protocol&&e.protocol!==""){return e.getURI()}var i=t.getURI(),o=e.getURI();if(i==o||i.charAt(i.length-1)=="/"&&i.substr(0,i.length-1)==o){return i}n=t.toRelPath(t.path,e.path);if(e.query){n+="?"+e.query}if(e.anchor){n+="#"+e.anchor}return n},toAbsolute:function(e,t){e=new r(e,{base_uri:this});return e.getURI(t&&this.isSameOrigin(e))},isSameOrigin:function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port){return true}var t=i[this.protocol];if(t&&(this.port||t)==(e.port||t)){return true}}return false},toRelPath:function(e,t){var n,i=0,r="",o,a;e=e.substring(0,e.lastIndexOf("/"));e=e.split("/");n=t.split("/");if(e.length>=n.length){for(o=0,a=e.length;o<a;o++){if(o>=n.length||e[o]!=n[o]){i=o+1;break}}}if(e.length<n.length){for(o=0,a=n.length;o<a;o++){if(o>=e.length||e[o]!=n[o]){i=o+1;break}}}if(i===1){return t}for(o=0,a=e.length-(i-1);o<a;o++){r+="../"}for(o=i-1,a=n.length;o<a;o++){if(o!=i-1){r+="/"+n[o]}else{r+=n[o]}}return r},toAbsPath:function(e,n){var i,r=0,o=[],a,s;a=/\/$/.test(n)?"/":"";e=e.split("/");n=n.split("/");t(e,function(e){if(e){o.push(e)}});e=o;for(i=n.length-1,o=[];i>=0;i--){if(n[i].length===0||n[i]==="."){continue}if(n[i]===".."){r++;continue}if(r>0){r--;continue}o.push(n[i])}i=e.length-r;if(i<=0){s=o.reverse().join("/")}else{s=e.slice(0,i).join("/")+"/"+o.reverse().join("/")}if(s.indexOf("/")!==0){s="/"+s}if(a&&s.lastIndexOf("/")!==s.length-1){s+=a}return s},getURI:function(e){var t,n=this;if(!n.source||e){t="";if(!e){if(n.protocol){t+=n.protocol+"://"}else{t+="//"}if(n.userInfo){t+=n.userInfo+"@"}if(n.host){t+=n.host}if(n.port){t+=":"+n.port}}if(n.path){t+=n.path}if(n.query){t+="?"+n.query}if(n.anchor){t+="#"+n.anchor}n.source=t}return n.source}};return r});r("tinymce/util/Class",["tinymce/util/Tools"],function(e){var t=e.each,n=e.extend;var i,r;function o(){}o.extend=i=function(e){var o=this,a=o.prototype,s,l,u;function c(){var e,t,n,i=this;if(!r){if(i.init){i.init.apply(i,arguments)}t=i.Mixins;if(t){e=t.length;while(e--){n=t[e];if(n.init){n.init.apply(i,arguments)}}}}}function f(){return this}function d(e,t){return function(){var n=this,i=n._super,r;n._super=a[e];r=t.apply(n,arguments);n._super=i;return r}}r=true;s=new o;r=false;if(e.Mixins){t(e.Mixins,function(t){t=t;for(var n in t){if(n!=="init"){e[n]=t[n]}}});if(a.Mixins){e.Mixins=a.Mixins.concat(e.Mixins)}}if(e.Methods){t(e.Methods.split(","),function(t){e[t]=f})}if(e.Properties){t(e.Properties.split(","),function(t){var n="_"+t;e[t]=function(e){var t=this,i;if(e!==i){t[n]=e;return t}return t[n]}})}if(e.Statics){t(e.Statics,function(e,t){c[t]=e})}if(e.Defaults&&a.Defaults){e.Defaults=n({},a.Defaults,e.Defaults)}for(l in e){u=e[l];if(typeof u=="function"&&a[l]){s[l]=d(l,u)}else{s[l]=u}}c.prototype=s;c.constructor=c;c.extend=i;return c};return o});r("tinymce/ui/Selector",["tinymce/util/Class"],function(e){"use strict";function t(e){var t=[],n=e.length,i;while(n--){i=e[n];if(!i.__checked){t.push(i);i.__checked=1}}n=t.length;while(n--){delete t[n].__checked}return t}var n=/^([\w\\*]+)?(?:#([\w\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i;var i=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,r=/^\s*|\s*$/g,o;var a=e.extend({init:function(e){var t=this.match;function o(e){if(e){e=e.toLowerCase();return function(t){return e==="*"||t.type===e}}}function a(e){if(e){return function(t){return t._name===e}}}function s(e){if(e){e=e.split(".");return function(t){var n=e.length;while(n--){if(!t.hasClass(e[n])){return false}}return true}}}function l(e,t,n){if(e){return function(i){var r=i[e]?i[e]():"";return!t?!!n:t==="="?r===n:t==="*="?r.indexOf(n)>=0:t==="~="?(" "+r+" ").indexOf(" "+n+" ")>=0:t==="!="?r!=n:t==="^="?r.indexOf(n)===0:t==="$="?r.substr(r.length-n.length)===n:false}}}function u(e){var n;if(e){e=/(?:not\((.+)\))|(.+)/i.exec(e);if(!e[1]){e=e[2];return function(t,n,i){return e==="first"?n===0:e==="last"?n===i-1:e==="even"?n%2===0:e==="odd"?n%2===1:t[e]?t[e]():false}}else{n=f(e[1],[]);return function(e){return!t(e,n)}}}}function c(e,t,i){var c;function f(e){if(e){t.push(e)}}c=n.exec(e.replace(r,""));f(o(c[1]));f(a(c[2]));f(s(c[3]));f(l(c[4],c[5],c[6]));f(u(c[7]));t.psuedo=!!c[7];t.direct=i;return t}function f(e,t){var n=[],r,o,a;do{i.exec("");o=i.exec(e);if(o){e=o[3];n.push(o[1]);if(o[2]){r=o[3];break}}}while(o);if(r){f(r,t)}e=[];for(a=0;a<n.length;a++){if(n[a]!=">"){e.push(c(n[a],[],n[a-1]===">"))}}t.push(e);return t}this._selectors=f(e,[])},match:function(e,t){var n,i,r,o,a,s,l,u,c,f,d,m,h;t=t||this._selectors;for(n=0,i=t.length;n<i;n++){a=t[n];o=a.length;h=e;m=0;for(r=o-1;r>=0;r--){u=a[r];while(h){if(u.psuedo){d=h.parent().items();c=f=d.length;while(c--){if(d[c]===h){break}}}for(s=0,l=u.length;s<l;s++){if(!u[s](h,c,f)){s=l+1;break}}if(s===l){m++;break}else{if(r===o-1){break}}h=h.parent()}}if(m===o){return true}}return false},find:function(e){var n=[],i,r,s=this._selectors;function l(e,t,i){var r,o,a,s,u,c=t[i];for(r=0,o=e.length;r<o;r++){u=e[r];for(a=0,s=c.length;a<s;a++){if(!c[a](u,r,o)){a=s+1;break}}if(a===s){if(i==t.length-1){n.push(u)}else{if(u.items){l(u.items(),t,i+1)}}}else if(c.direct){return}if(u.items){l(u.items(),t,i)}}}if(e.items){for(i=0,r=s.length;i<r;i++){l(e.items(),s[i],0)}if(r>1){n=t(n)}}if(!o){o=a.Collection}return new o(n)}});return a});r("tinymce/ui/Collection",["tinymce/util/Tools","tinymce/ui/Selector","tinymce/util/Class"],function(e,t,n){"use strict";var i,r,o=Array.prototype.push,a=Array.prototype.slice;r={length:0,init:function(e){if(e){this.add(e)}},add:function(t){var n=this;if(!e.isArray(t)){if(t instanceof i){n.add(t.toArray())}else{o.call(n,t)}}else{o.apply(n,t)}return n},set:function(e){var t=this,n=t.length,i;t.length=0;t.add(e);for(i=t.length;i<n;i++){delete t[i]}return t},filter:function(e){var n=this,r,o,a=[],s,l;if(typeof e==="string"){e=new t(e);l=function(t){return e.match(t)}}else{l=e}for(r=0,o=n.length;r<o;r++){s=n[r];if(l(s)){a.push(s)}}return new i(a)},slice:function(){return new i(a.apply(this,arguments))},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},each:function(t){e.each(this,t);return this},toArray:function(){return e.toArray(this)},indexOf:function(e){var t=this,n=t.length;while(n--){if(t[n]===e){break}}return n},reverse:function(){return new i(e.toArray(this).reverse())},hasClass:function(e){return this[0]?this[0].hasClass(e):false},prop:function(e,t){var n=this,i,r;if(t!==i){n.each(function(n){if(n[e]){n[e](t)}});return n}r=n[0];if(r&&r[e]){return r[e]()}},exec:function(t){var n=this,i=e.toArray(arguments).slice(1);n.each(function(e){if(e[t]){e[t].apply(e,i)}});return n},remove:function(){var e=this.length;while(e--){this[e].remove()}return this}};e.each("fire on off show hide addClass removeClass append prepend before after reflow".split(" "),function(t){r[t]=function(){var n=e.toArray(arguments);this.each(function(e){if(t in e){e[t].apply(e,n)}});return this}});e.each("text name disabled active selected checked visible parent value data".split(" "),function(e){r[e]=function(t){return this.prop(e,t)}});i=n.extend(r);t.Collection=i;return i});r("tinymce/ui/DomUtils",["tinymce/util/Tools","tinymce/dom/DOMUtils"],function(e,t){"use strict";return{id:function(){return t.DOM.uniqueId()},createFragment:function(e){return t.DOM.createFragment(e)},getWindowSize:function(){return t.DOM.getViewPort()},getSize:function(e){var t,n;if(e.getBoundingClientRect){var i=e.getBoundingClientRect();t=Math.max(i.width||i.right-i.left,e.offsetWidth);n=Math.max(i.height||i.bottom-i.bottom,e.offsetHeight)}else{t=e.offsetWidth;n=e.offsetHeight}return{width:t,height:n}},getPos:function(e,n){return t.DOM.getPos(e,n)},getViewPort:function(e){return t.DOM.getViewPort(e)},get:function(e){return document.getElementById(e)},addClass:function(e,n){return t.DOM.addClass(e,n)},removeClass:function(e,n){return t.DOM.removeClass(e,n)},hasClass:function(e,n){return t.DOM.hasClass(e,n)},toggleClass:function(e,n,i){return t.DOM.toggleClass(e,n,i)},css:function(e,n,i){return t.DOM.setStyle(e,n,i)},on:function(e,n,i,r){return t.DOM.bind(e,n,i,r)},off:function(e,n,i){return t.DOM.unbind(e,n,i)},fire:function(e,n,i){return t.DOM.fire(e,n,i)},innerHtml:function(e,n){t.DOM.setHTML(e,n)}}});r("tinymce/ui/Control",["tinymce/util/Class","tinymce/util/Tools","tinymce/ui/Collection","tinymce/ui/DomUtils"],function(e,t,n,i){"use strict";var r=t.makeMap("focusin focusout scroll click dblclick mousedown mouseup mousemove mouseover"+" mouseout mouseenter mouseleave wheel keydown keypress input keyup contextmenu"," ");var o={};var a="onmousewheel"in document;var s=false;var l="mce-";var u=e.extend({Statics:{elementIdCache:o,classPrefix:l},isRtl:function(){return u.rtl},classPrefix:l,init:function(e){var n=this,r,o;n.settings=e=t.extend({},n.Defaults,e);n._id=e.id||i.id();n._text=n._name="";n._width=n._height=0;n._aria={role:e.role};r=e.classes;if(r){r=r.split(" ");r.map={};o=r.length;while(o--){r.map[r[o]]=true}}n._classes=r||[];n.visible(true);t.each("title text width height name classes visible disabled active value".split(" "),function(t){var i=e[t],r;if(i!==r){n[t](i)}else if(n["_"+t]===r){n["_"+t]=false}});n.on("click",function(){if(n.disabled()){return false}});if(e.classes){t.each(e.classes.split(" "),function(e){n.addClass(e)})}n.settings=e;n._borderBox=n.parseBox(e.border);n._paddingBox=n.parseBox(e.padding);n._marginBox=n.parseBox(e.margin);if(e.hidden){n.hide()}},Properties:"parent,title,text,width,height,disabled,active,name,value",Methods:"renderHtml",getContainerElm:function(){return document.body},getParentCtrl:function(e){var t,n=this.getRoot().controlIdLookup;while(e&&n){t=n[e.id];if(t){break}e=e.parentNode}return t},parseBox:function(e){var t,n=10;if(!e){return}if(typeof e==="number"){e=e||0;return{top:e,left:e,bottom:e,right:e}}e=e.split(" ");t=e.length;if(t===1){e[1]=e[2]=e[3]=e[0]}else if(t===2){e[2]=e[0];e[3]=e[1]}else if(t===3){e[3]=e[1]}return{top:parseInt(e[0],n)||0,right:parseInt(e[1],n)||0,bottom:parseInt(e[2],n)||0,left:parseInt(e[3],n)||0}},borderBox:function(){return this._borderBox},paddingBox:function(){return this._paddingBox},marginBox:function(){return this._marginBox},measureBox:function(e,t){function n(t){var n=document.defaultView;if(n){t=t.replace(/[A-Z]/g,function(e){return"-"+e});return n.getComputedStyle(e,null).getPropertyValue(t)}return e.currentStyle[t]}function i(e){var t=parseFloat(n(e),10);return isNaN(t)?0:t}return{top:i(t+"TopWidth"),right:i(t+"RightWidth"),bottom:i(t+"BottomWidth"),left:i(t+"LeftWidth")}},initLayoutRect:function(){var e=this,t=e.settings,n,r;var o=e.getEl(),a,s,l,u,c;var f,d,m;n=e._borderBox=e._borderBox||e.measureBox(o,"border");e._paddingBox=e._paddingBox||e.measureBox(o,"padding");e._marginBox=e._marginBox||e.measureBox(o,"margin");m=i.getSize(o);f=t.minWidth;d=t.minHeight;l=f||m.width;u=d||m.height;a=t.width;s=t.height;c=t.autoResize;c=typeof c!="undefined"?c:!a&&!s;a=a||l;s=s||u;var h=n.left+n.right;var p=n.top+n.bottom;var g=t.maxWidth||65535;var v=t.maxHeight||65535;e._layoutRect=r={x:t.x||0,y:t.y||0,w:a,h:s,deltaW:h,deltaH:p,contentW:a-h,contentH:s-p,innerW:a-h,innerH:s-p,startMinWidth:f||0,startMinHeight:d||0,minW:Math.min(l,g),minH:Math.min(u,v),maxW:g,maxH:v,autoResize:c,scrollW:0};e._lastLayoutRect={};return r},layoutRect:function(e){var t=this,n=t._layoutRect,i,r,o,a,s,l;if(!n){n=t.initLayoutRect()}if(e){o=n.deltaW;a=n.deltaH;if(e.x!==s){n.x=e.x}if(e.y!==s){n.y=e.y}if(e.minW!==s){n.minW=e.minW}if(e.minH!==s){n.minH=e.minH}r=e.w;if(r!==s){r=r<n.minW?n.minW:r;r=r>n.maxW?n.maxW:r;n.w=r;n.innerW=r-o}r=e.h;if(r!==s){r=r<n.minH?n.minH:r;r=r>n.maxH?n.maxH:r;n.h=r;n.innerH=r-a}r=e.innerW;if(r!==s){r=r<n.minW-o?n.minW-o:r;r=r>n.maxW-o?n.maxW-o:r;n.innerW=r;n.w=r+o}r=e.innerH;if(r!==s){r=r<n.minH-a?n.minH-a:r;r=r>n.maxH-a?n.maxH-a:r;n.innerH=r;n.h=r+a}if(e.contentW!==s){n.contentW=e.contentW}if(e.contentH!==s){n.contentH=e.contentH}i=t._lastLayoutRect;if(i.x!==n.x||i.y!==n.y||i.w!==n.w||i.h!==n.h){l=u.repaintControls;if(l){if(l.map&&!l.map[t._id]){l.push(t);l.map[t._id]=true}}i.x=n.x;i.y=n.y;i.w=n.w;i.h=n.h}return t}return n},repaint:function(){var e=this,t,n,i,r,o=0,a=0,s,l;l=!document.createRange?Math.round:function(e){return e};t=e.getEl().style;i=e._layoutRect;s=e._lastRepaintRect||{};r=e._borderBox;o=r.left+r.right;a=r.top+r.bottom;if(i.x!==s.x){t.left=l(i.x)+"px";s.x=i.x}if(i.y!==s.y){t.top=l(i.y)+"px";s.y=i.y}if(i.w!==s.w){t.width=l(i.w-o)+"px";s.w=i.w}if(i.h!==s.h){t.height=l(i.h-a)+"px";s.h=i.h}if(e._hasBody&&i.innerW!==s.innerW){n=e.getEl("body").style;n.width=l(i.innerW)+"px";s.innerW=i.innerW}if(e._hasBody&&i.innerH!==s.innerH){n=n||e.getEl("body").style;n.height=l(i.innerH)+"px";s.innerH=i.innerH}e._lastRepaintRect=s;e.fire("repaint",{},false)},on:function(e,t){var n=this,i,o,a,s;function l(e){var t,i;return function(r){if(!t){n.parentsAndSelf().each(function(n){var r=n.settings.callbacks;if(r&&(t=r[e])){i=n;return false}})}return t.call(i,r)}}if(t){if(typeof t=="string"){t=l(t)}a=e.toLowerCase().split(" ");s=a.length;while(s--){e=a[s];i=n._bindings;if(!i){i=n._bindings={}}o=i[e];if(!o){o=i[e]=[]}o.push(t);if(r[e]){if(!n._nativeEvents){n._nativeEvents={}}n._nativeEvents[e]=true;if(n._rendered){n.bindPendingEvents()}}}}return n},off:function(e,t){var n=this,i,r=n._bindings,o,a,s,l;if(r){if(e){s=e.toLowerCase().split(" ");i=s.length;while(i--){e=s[i];o=r[e];if(!e){for(a in r){r[a].length=0}return n}if(o){if(!t){o.length=0}else{l=o.length;while(l--){if(o[l]===t){o.splice(l,1)}}}}}}else{n._bindings=[]}}return n},fire:function(e,t,n){var i=this,r,o,a,s;e=e.toLowerCase();function l(){return false}function u(){return true}t=t||{};if(!t.type){t.type=e}if(!t.control){t.control=i}if(!t.preventDefault){t.preventDefault=function(){t.isDefaultPrevented=u};t.stopPropagation=function(){t.isPropagationStopped=u};t.stopImmediatePropagation=function(){t.isImmediatePropagationStopped=u};t.isDefaultPrevented=l;t.isPropagationStopped=l;t.isImmediatePropagationStopped=l}if(i._bindings){a=i._bindings[e];if(a){for(r=0,o=a.length;r<o;r++){if(!t.isImmediatePropagationStopped()&&a[r].call(i,t)===false){break}}}}if(n!==false){s=i.parent();while(s&&!t.isPropagationStopped()){s.fire(e,t,false);s=s.parent()}}return t},hasEventListeners:function(e){return e in this._bindings},parents:function(e){var t=this,i,r=new n;for(i=t.parent();i;i=i.parent()){r.add(i)}if(e){r=r.filter(e)}return r},parentsAndSelf:function(e){return new n(this).add(this.parents(e))},next:function(){var e=this.parent().items();return e[e.indexOf(this)+1]},prev:function(){var e=this.parent().items();return e[e.indexOf(this)-1]},findCommonAncestor:function(e,t){var n;while(e){n=t;while(n&&e!=n){n=n.parent()}if(e==n){break}e=e.parent()}return e},hasClass:function(e,t){var n=this._classes[t||"control"];e=this.classPrefix+e;return n&&!!n.map[e]},addClass:function(e,t){var n=this,i,r;e=this.classPrefix+e;i=n._classes[t||"control"];if(!i){i=[];i.map={};n._classes[t||"control"]=i}if(!i.map[e]){i.map[e]=e;i.push(e);if(n._rendered){r=n.getEl(t);if(r){r.className=i.join(" ")}}}return n},removeClass:function(e,t){var n=this,i,r,o;e=this.classPrefix+e;i=n._classes[t||"control"];if(i&&i.map[e]){delete i.map[e];r=i.length;while(r--){if(i[r]===e){i.splice(r,1)}}}if(n._rendered){o=n.getEl(t);if(o){o.className=i.join(" ")}}return n},toggleClass:function(e,t,n){var i=this;if(t){i.addClass(e,n)}else{i.removeClass(e,n)}return i},classes:function(e){var t=this._classes[e||"control"];return t?t.join(" "):""},innerHtml:function(e){i.innerHtml(this.getEl(),e);return this},getEl:function(e,t){var n,r=e?this._id+"-"+e:this._id;n=o[r]=(t===true?null:o[r])||i.get(r);return n},visible:function(e){var t=this,n;if(typeof e!=="undefined"){if(t._visible!==e){if(t._rendered){t.getEl().style.display=e?"":"none"}t._visible=e;n=t.parent();if(n){n._lastRect=null}t.fire(e?"show":"hide")}return t}return t._visible},show:function(){return this.visible(true)},hide:function(){return this.visible(false)},focus:function(){try{this.getEl().focus()}catch(e){}return this},blur:function(){this.getEl().blur();return this},aria:function(e,t){var n=this,i=n.getEl(n.ariaTarget);if(typeof t==="undefined"){return n._aria[e]}else{n._aria[e]=t}if(n._rendered){i.setAttribute(e=="role"?e:"aria-"+e,t)}return n},encode:function(e,t){if(t!==false){e=this.translate(e)}return(e||"").replace(/[&<>"]/g,function(e){return"&#"+e.charCodeAt(0)+";"})},translate:function(e){return u.translate?u.translate(e):e},before:function(e){var t=this,n=t.parent();if(n){n.insert(e,n.items().indexOf(t),true)}return t},after:function(e){var t=this,n=t.parent();if(n){n.insert(e,n.items().indexOf(t))}return t},remove:function(){var e=this,t=e.getEl(),n=e.parent(),r,a;if(e.items){var s=e.items().toArray();a=s.length;while(a--){s[a].remove()}}if(n&&n.items){r=[];n.items().each(function(t){if(t!==e){r.push(t)}});n.items().set(r);n._lastRect=null}if(e._eventsRoot&&e._eventsRoot==e){i.off(t)}var l=e.getRoot().controlIdLookup;if(l){delete l[e._id]}delete o[e._id];if(t&&t.parentNode){var u=t.getElementsByTagName("*");a=u.length;while(a--){delete o[u[a].id]}t.parentNode.removeChild(t)}e._rendered=false;return e},renderBefore:function(e){var t=this;e.parentNode.insertBefore(i.createFragment(t.renderHtml()),e);t.postRender();return t},renderTo:function(e){var t=this;e=e||t.getContainerElm();e.appendChild(i.createFragment(t.renderHtml()));t.postRender();return t},postRender:function(){var e=this,t=e.settings,n,r,o,a,s;for(a in t){if(a.indexOf("on")===0){e.on(a.substr(2),t[a])}}if(e._eventsRoot){for(o=e.parent();!s&&o;o=o.parent()){s=o._eventsRoot}if(s){for(a in s._nativeEvents){e._nativeEvents[a]=true}}}e.bindPendingEvents();if(t.style){n=e.getEl();if(n){n.setAttribute("style",t.style);n.style.cssText=t.style}}if(!e._visible){i.css(e.getEl(),"display","none")}if(e.settings.border){r=e.borderBox();i.css(e.getEl(),{"border-top-width":r.top,"border-right-width":r.right,"border-bottom-width":r.bottom,"border-left-width":r.left})}var l=e.getRoot();if(!l.controlIdLookup){l.controlIdLookup={}}l.controlIdLookup[e._id]=e;for(var u in e._aria){e.aria(u,e._aria[u])}e.fire("postrender",{},false)},scrollIntoView:function(e){function t(e,t){var n,i,r=e;n=i=0;while(r&&r!=t&&r.nodeType){n+=r.offsetLeft||0;i+=r.offsetTop||0;r=r.offsetParent}return{x:n,y:i}}var n=this.getEl(),i=n.parentNode;var r,o,a,s,l,u;var c=t(n,i);r=c.x;o=c.y;a=n.offsetWidth;s=n.offsetHeight;l=i.clientWidth;u=i.clientHeight;if(e=="end"){r-=l-a;o-=u-s}else if(e=="center"){r-=l/2-a/2;o-=u/2-s/2}i.scrollLeft=r;i.scrollTop=o;return this},bindPendingEvents:function(){var e=this,t,n,r,o,l,u;function c(t){var n=e.getParentCtrl(t.target);if(n){n.fire(t.type,t)}}function f(){var e=o._lastHoverCtrl;if(e){e.fire("mouseleave",{target:e.getEl()});e.parents().each(function(e){e.fire("mouseleave",{target:e.getEl()})});o._lastHoverCtrl=null}}function d(t){var n=e.getParentCtrl(t.target),i=o._lastHoverCtrl,r=0,a,s,l;if(n!==i){o._lastHoverCtrl=n;s=n.parents().toArray().reverse();s.push(n);if(i){l=i.parents().toArray().reverse();l.push(i);for(r=0;r<l.length;r++){if(s[r]!==l[r]){break}}for(a=l.length-1;a>=r;a--){i=l[a];i.fire("mouseleave",{target:i.getEl()})}}for(a=r;a<s.length;a++){n=s[a];n.fire("mouseenter",{target:n.getEl()})}}}function m(t){t.preventDefault();if(t.type=="mousewheel"){t.deltaY=-1/40*t.wheelDelta;if(t.wheelDeltaX){t.deltaX=-1/40*t.wheelDeltaX}}else{t.deltaX=0;t.deltaY=t.detail}t=e.fire("wheel",t)}e._rendered=true;l=e._nativeEvents;if(l){r=e.parents().toArray();r.unshift(e);for(t=0,n=r.length;!o&&t<n;t++){o=r[t]._eventsRoot}if(!o){o=r[r.length-1]||e}e._eventsRoot=o;for(n=t,t=0;t<n;t++){r[t]._eventsRoot=o}var h=o._delegates;if(!h){h=o._delegates={}}for(u in l){if(!l){return false}if(u==="wheel"&&!s){if(a){i.on(e.getEl(),"mousewheel",m)}else{i.on(e.getEl(),"DOMMouseScroll",m)}continue}if(u==="mouseenter"||u==="mouseleave"){if(!o._hasMouseEnter){i.on(o.getEl(),"mouseleave",f);i.on(o.getEl(),"mouseover",d);o._hasMouseEnter=1}}else if(!h[u]){i.on(o.getEl(),u,c);h[u]=true}l[u]=false}}},getRoot:function(){var e=this,t,n=[];while(e){if(e.rootControl){t=e.rootControl;break}n.push(e);t=e;e=e.parent()}if(!t){t=this}var i=n.length;while(i--){n[i].rootControl=t}return t},reflow:function(){this.repaint();return this}});return u});r("tinymce/ui/Factory",[],function(){"use strict";var e={},t;return{add:function(t,n){e[t.toLowerCase()]=n},has:function(t){return!!e[t.toLowerCase()]},create:function(n,i){var r,o,a;if(!t){a=tinymce.ui;for(o in a){e[o.toLowerCase()]=a[o]}t=true}if(typeof n=="string"){i=i||{};i.type=n}else{i=n;n=i.type}n=n.toLowerCase();r=e[n];if(!r){throw new Error("Could not find control by type: "+n)}r=new r(i);r.type=n;return r}}});r("tinymce/ui/KeyboardNavigation",[],function(){"use strict";return function(e){var t=e.root,n,i;n=document.activeElement;i=t.getParentCtrl(n);function r(e){e=e||n;return e&&e.getAttribute("role")}function o(e){var t,i=e||n;while(i=i.parentNode){if(t=r(i)){return t}}}function a(e){var t=n;if(t){return t.getAttribute("aria-"+e)}}function s(e){var t=e.tagName.toUpperCase();return t=="INPUT"||t=="TEXTAREA"}function l(e){if(s(e)&&!e.hidden){return true}if(/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell)$/.test(r(e))){return true}return false}function u(e){var n=[];function i(e){if(e.nodeType!=1||e.style.display=="none"){return}if(l(e)){n.push(e)}for(var t=0;t<e.childNodes.length;t++){i(e.childNodes[t])}}i(e||t.getEl());return n}function c(e){var t,n;e=e||i;n=e.parents().toArray();n.unshift(e);for(var r=0;r<n.length;r++){t=n[r];if(t.settings.ariaRoot){break}}return t}function f(e){var t=c(e);var n=u(t.getEl());if(t.settings.ariaRemember&&"lastAriaIndex"in t){d(t.lastAriaIndex,n)}else{d(0,n)}}function d(e,t){if(e<0){e=t.length-1}else if(e>=t.length){e=0}if(t[e]){t[e].focus()}return e}function m(e,t){var i=-1,r=c();t=t||u(r.getEl());for(var o=0;o<t.length;o++){if(t[o]===n){i=o}}i+=e;r.lastAriaIndex=d(i,t)}function h(){var e=o();if(e=="tablist"){m(-1,u(n.parentNode))}else if(i.parent().submenu){b()}else{m(-1)}}function p(){var e=r(),t=o();if(t=="tablist"){m(1,u(n.parentNode))}else if(e=="menuitem"&&t=="menu"&&a("haspopup")){C()}else{m(1)}}function g(){m(-1)}function v(){var e=r(),t=o();if(e=="menuitem"&&t=="menubar"){C()}else if(e=="button"&&a("haspopup")){C({key:"down"})}else{m(1)}}function y(e){var t=o();if(t=="tablist"){var n=u(i.getEl("body"))[0];if(n){n.focus()}}else{m(e.shiftKey?-1:1)}}function b(){i.fire("cancel")}function C(e){e=e||{};i.fire("click",{target:n,aria:e})}t.on("keydown",function(e){function t(e,t){if(s(n)){return}if(t(e)!==false){e.preventDefault()}}if(e.isDefaultPrevented()){return}switch(e.keyCode){case 37:t(e,h);break;case 39:t(e,p);break;case 38:t(e,g);break;case 40:t(e,v);break;case 27:b();break;case 14:case 13:case 32:t(e,C);break;case 9:if(y(e)!==false){e.preventDefault()}break}});t.on("focusin",function(e){n=e.target;i=e.control});return{focusFirst:f}}});r("tinymce/ui/Container",["tinymce/ui/Control","tinymce/ui/Collection","tinymce/ui/Selector","tinymce/ui/Factory","tinymce/ui/KeyboardNavigation","tinymce/util/Tools","tinymce/ui/DomUtils"],function(e,t,n,i,r,o,a){"use strict";var s={};return e.extend({layout:"",innerClass:"container-inner",init:function(e){var n=this;n._super(e);e=n.settings;n._fixed=e.fixed;n._items=new t;if(n.isRtl()){n.addClass("rtl")}n.addClass("container");n.addClass("container-body","body");if(e.containerCls){n.addClass(e.containerCls)}n._layout=i.create((e.layout||n.layout)+"layout");if(n.settings.items){n.add(n.settings.items)}n._hasBody=true},items:function(){return this._items},find:function(e){e=s[e]=s[e]||new n(e);return e.find(this)},add:function(e){var t=this;t.items().add(t.create(e)).parent(t);return t},focus:function(e){var t=this,n,i,r;if(e){i=t.keyboardNav||t.parents().eq(-1)[0].keyboardNav;if(i){i.focusFirst(t);return}}r=t.find("*");
if(t.statusbar){r.add(t.statusbar.items())}r.each(function(e){if(e.settings.autofocus){n=null;return false}if(e.canFocus){n=n||e}});if(n){n.focus()}return t},replace:function(e,t){var n,i=this.items(),r=i.length;while(r--){if(i[r]===e){i[r]=t;break}}if(r>=0){n=t.getEl();if(n){n.parentNode.removeChild(n)}n=e.getEl();if(n){n.parentNode.removeChild(n)}}t.parent(this)},create:function(t){var n=this,r,a=[];if(!o.isArray(t)){t=[t]}o.each(t,function(t){if(t){if(!(t instanceof e)){if(typeof t=="string"){t={type:t}}r=o.extend({},n.settings.defaults,t);t.type=r.type=r.type||t.type||n.settings.defaultType||(r.defaults?r.defaults.type:null);t=i.create(r)}a.push(t)}});return a},renderNew:function(){var e=this;e.items().each(function(t,n){var i,r;t.parent(e);if(!t._rendered){i=e.getEl("body");r=a.createFragment(t.renderHtml());if(i.hasChildNodes()&&n<=i.childNodes.length-1){i.insertBefore(r,i.childNodes[n])}else{i.appendChild(r)}t.postRender()}});e._layout.applyClasses(e);e._lastRect=null;return e},append:function(e){return this.add(e).renderNew()},prepend:function(e){var t=this;t.items().set(t.create(e).concat(t.items().toArray()));return t.renderNew()},insert:function(e,t,n){var i=this,r,o,a;e=i.create(e);r=i.items();if(!n&&t<r.length-1){t+=1}if(t>=0&&t<r.length){o=r.slice(0,t).toArray();a=r.slice(t).toArray();r.set(o.concat(e,a))}return i.renderNew()},fromJSON:function(e){var t=this;for(var n in e){t.find("#"+n).value(e[n])}return t},toJSON:function(){var e=this,t={};e.find("*").each(function(e){var n=e.name(),i=e.value();if(n&&typeof i!="undefined"){t[n]=i}});return t},preRender:function(){},renderHtml:function(){var e=this,t=e._layout,n=this.settings.role;e.preRender();t.preRender(e);return'<div id="'+e._id+'" class="'+e.classes()+'"'+(n?' role="'+this.settings.role+'"':"")+">"+'<div id="'+e._id+'-body" class="'+e.classes("body")+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div>"+"</div>"},postRender:function(){var e=this,t;e.items().exec("postRender");e._super();e._layout.postRender(e);e._rendered=true;if(e.settings.style){a.css(e.getEl(),e.settings.style)}if(e.settings.border){t=e.borderBox();a.css(e.getEl(),{"border-top-width":t.top,"border-right-width":t.right,"border-bottom-width":t.bottom,"border-left-width":t.left})}if(!e.parent()){e.keyboardNav=new r({root:e})}return e},initLayoutRect:function(){var e=this,t=e._super();e._layout.recalc(e);return t},recalc:function(){var e=this,t=e._layoutRect,n=e._lastRect;if(!n||n.w!=t.w||n.h!=t.h){e._layout.recalc(e);t=e.layoutRect();e._lastRect={x:t.x,y:t.y,w:t.w,h:t.h};return true}},reflow:function(){var t;if(this.visible()){e.repaintControls=[];e.repaintControls.map={};this.recalc();t=e.repaintControls.length;while(t--){e.repaintControls[t].repaint()}if(this.settings.layout!=="flow"&&this.settings.layout!=="stack"){this.repaint()}e.repaintControls=[]}return this}})});r("tinymce/ui/DragHelper",["tinymce/ui/DomUtils"],function(e){"use strict";function t(){var e=document,t,n,i,r;var o,a,s,l,u=Math.max;t=e.documentElement;n=e.body;i=u(t.scrollWidth,n.scrollWidth);r=u(t.clientWidth,n.clientWidth);o=u(t.offsetWidth,n.offsetWidth);a=u(t.scrollHeight,n.scrollHeight);s=u(t.clientHeight,n.clientHeight);l=u(t.offsetHeight,n.offsetHeight);return{width:i<o?r:i,height:a<l?s:a}}return function(n,i){var r,o=document,a,s,l,u,c,f;i=i||{};function d(){return o.getElementById(i.handle||n)}s=function(n){var s=t(),m,h;n.preventDefault();a=n.button;m=d();c=n.screenX;f=n.screenY;if(window.getComputedStyle){h=window.getComputedStyle(m,null).getPropertyValue("cursor")}else{h=m.runtimeStyle.cursor}r=o.createElement("div");e.css(r,{position:"absolute",top:0,left:0,width:s.width,height:s.height,zIndex:2147483647,opacity:1e-4,background:"red",cursor:h});o.body.appendChild(r);e.on(o,"mousemove",u);e.on(o,"mouseup",l);i.start(n)};u=function(e){if(e.button!==a){return l(e)}e.deltaX=e.screenX-c;e.deltaY=e.screenY-f;e.preventDefault();i.drag(e)};l=function(t){e.off(o,"mousemove",u);e.off(o,"mouseup",l);r.parentNode.removeChild(r);if(i.stop){i.stop(t)}};this.destroy=function(){e.off(d())};e.on(d(),"mousedown",s)}});r("tinymce/ui/Scrollable",["tinymce/ui/DomUtils","tinymce/ui/DragHelper"],function(e,t){"use strict";return{init:function(){var e=this;e.on("repaint",e.renderScroll)},renderScroll:function(){var n=this,i=2;function r(){var t,r,o;function a(o,a,s,l,u,c){var f,d,m;var h,p,g,v;var y,b;d=n.getEl("scroll"+o);if(d){y=a.toLowerCase();b=s.toLowerCase();if(n.getEl("absend")){e.css(n.getEl("absend"),y,n.layoutRect()[l]-1)}if(!u){e.css(d,"display","none");return}e.css(d,"display","block");f=n.getEl("body");m=n.getEl("scroll"+o+"t");h=f["client"+s]-i*2;h-=t&&r?d["client"+c]:0;p=f["scroll"+s];g=h/p;v={};v[y]=f["offset"+a]+i;v[b]=h;e.css(d,v);v={};v[y]=f["scroll"+a]*g;v[b]=h*g;e.css(m,v)}}o=n.getEl("body");t=o.scrollWidth>o.clientWidth;r=o.scrollHeight>o.clientHeight;a("h","Left","Width","contentW",t,"Height");a("v","Top","Height","contentH",r,"Width")}function o(){function r(r,o,a,s,l){var u,c=n._id+"-scroll"+r,f=n.classPrefix;n.getEl().appendChild(e.createFragment('<div id="'+c+'" class="'+f+"scrollbar "+f+"scrollbar-"+r+'">'+'<div id="'+c+'t" class="'+f+'scrollbar-thumb"></div>'+"</div>"));n.draghelper=new t(c+"t",{start:function(){u=n.getEl("body")["scroll"+o];e.addClass(e.get(c),f+"active")},drag:function(e){var t,c,f,d,m=n.layoutRect();c=m.contentW>m.innerW;f=m.contentH>m.innerH;d=n.getEl("body")["client"+a]-i*2;d-=c&&f?n.getEl("scroll"+r)["client"+l]:0;t=d/n.getEl("body")["scroll"+a];n.getEl("body")["scroll"+o]=u+e["delta"+s]/t},stop:function(){e.removeClass(e.get(c),f+"active")}})}n.addClass("scroll");r("v","Top","Height","Y","Width");r("h","Left","Width","X","Height")}if(n.settings.autoScroll){if(!n._hasScroll){n._hasScroll=true;o();n.on("wheel",function(e){var t=n.getEl("body");t.scrollLeft+=(e.deltaX||0)*10;t.scrollTop+=e.deltaY*10;r()});e.on(n.getEl("body"),"scroll",r)}r()}}}});r("tinymce/ui/Panel",["tinymce/ui/Container","tinymce/ui/Scrollable"],function(e,t){"use strict";return e.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[t],renderHtml:function(){var e=this,t=e._layout,n=e.settings.html;e.preRender();t.preRender(e);if(typeof n=="undefined"){n='<div id="'+e._id+'-body" class="'+e.classes("body")+'">'+t.renderHtml(e)+"</div>"}else{if(typeof n=="function"){n=n.call(e)}e._hasBody=false}return'<div id="'+e._id+'" class="'+e.classes()+'" hidefocus="1" tabindex="-1" role="group">'+(e._preBodyHtml||"")+n+"</div>"}})});r("tinymce/ui/Movable",["tinymce/ui/DomUtils"],function(e){"use strict";function t(t,n,i){var r,o,a,s,l,u,c,f,d,m;d=e.getViewPort();o=e.getPos(n);a=o.x;s=o.y;if(t._fixed){a-=d.x;s-=d.y}r=t.getEl();m=e.getSize(r);l=m.width;u=m.height;m=e.getSize(n);c=m.width;f=m.height;i=(i||"").split("");if(i[0]==="b"){s+=f}if(i[1]==="r"){a+=c}if(i[0]==="c"){s+=Math.round(f/2)}if(i[1]==="c"){a+=Math.round(c/2)}if(i[3]==="b"){s-=u}if(i[4]==="r"){a-=l}if(i[3]==="c"){s-=Math.round(u/2)}if(i[4]==="c"){a-=Math.round(l/2)}return{x:a,y:s,w:l,h:u}}return{testMoveRel:function(n,i){var r=e.getViewPort();for(var o=0;o<i.length;o++){var a=t(this,n,i[o]);if(this._fixed){if(a.x>0&&a.x+a.w<r.w&&a.y>0&&a.y+a.h<r.h){return i[o]}}else{if(a.x>r.x&&a.x+a.w<r.w+r.x&&a.y>r.y&&a.y+a.h<r.h+r.y){return i[o]}}}return i[0]},moveRel:function(e,n){if(typeof n!="string"){n=this.testMoveRel(e,n)}var i=t(this,e,n);return this.moveTo(i.x,i.y)},moveBy:function(e,t){var n=this,i=n.layoutRect();n.moveTo(i.x+e,i.y+t);return n},moveTo:function(t,n){var i=this;function r(e,t,n){if(e<0){return 0}if(e+n>t){e=t-n;return e<0?0:e}return e}if(i.settings.constrainToViewport){var o=e.getViewPort(window);var a=i.layoutRect();t=r(t,o.w+o.x,a.w);n=r(n,o.h+o.y,a.h)}if(i._rendered){i.layoutRect({x:t,y:n}).repaint()}else{i.settings.x=t;i.settings.y=n}i.fire("move",{x:t,y:n});return i}}});r("tinymce/ui/Resizable",["tinymce/ui/DomUtils"],function(e){"use strict";return{resizeToContent:function(){this._layoutRect.autoResize=true;this._lastRect=null;this.reflow()},resizeTo:function(t,n){if(t<=1||n<=1){var i=e.getWindowSize();t=t<=1?t*i.w:t;n=n<=1?n*i.h:n}this._layoutRect.autoResize=false;return this.layoutRect({minW:t,minH:n,w:t,h:n}).reflow()},resizeBy:function(e,t){var n=this,i=n.layoutRect();return n.resizeTo(i.w+e,i.h+t)}}});r("tinymce/ui/FloatPanel",["tinymce/ui/Panel","tinymce/ui/Movable","tinymce/ui/Resizable","tinymce/ui/DomUtils"],function(e,t,n,i){"use strict";var r,o,a=[];var s=[],l;var u=e.extend({Mixins:[t,n],init:function(e){var t=this;function n(){var e,n=u.zIndex||65535,r;if(s.length){for(e=0;e<s.length;e++){if(s[e].modal){n++;r=s[e]}s[e].getEl().style.zIndex=n;s[e].zIndex=n;n++}}var o=document.getElementById(t.classPrefix+"modal-block");if(r){i.css(o,"z-index",r.zIndex-1)}else if(o){o.parentNode.removeChild(o);l=false}u.currentZIndex=n}function c(e,t){while(e){if(e==t){return true}e=e.parent()}}function f(e){var t=i.getViewPort().y;function n(t,n){var i;for(var r=0;r<a.length;r++){if(a[r]!=e){i=a[r].parent();while(i&&(i=i.parent())){if(i==e){a[r].fixed(t).moveBy(0,n).repaint()}}}}}if(e.settings.autofix){if(!e._fixed){e._autoFixY=e.layoutRect().y;if(e._autoFixY<t){e.fixed(true).layoutRect({y:0}).repaint();n(true,t-e._autoFixY)}}else{if(e._autoFixY>t){e.fixed(false).layoutRect({y:e._autoFixY}).repaint();n(false,e._autoFixY-t)}}}}t._super(e);t._eventsRoot=t;t.addClass("floatpanel");if(e.autohide){if(!r){r=function(e){var t=a.length;while(t--){var n=a[t],i=n.getParentCtrl(e.target);if(n.settings.autohide){if(i){if(c(i,n)||n.parent()===i){continue}}e=n.fire("autohide",{target:e.target});if(!e.isDefaultPrevented()){n.hide()}}}};i.on(document,"click",r)}a.push(t)}if(e.autofix){if(!o){o=function(){var e;e=a.length;while(e--){f(a[e])}};i.on(window,"scroll",o)}t.on("move",function(){f(this)})}t.on("postrender show",function(e){if(e.control==t){var r,o=t.classPrefix;if(t.modal&&!l){r=i.createFragment('<div id="'+o+'modal-block" class="'+o+"reset "+o+'fade"></div>');r=r.firstChild;t.getContainerElm().appendChild(r);setTimeout(function(){i.addClass(r,o+"in");i.addClass(t.getEl(),o+"in")},0);l=true}s.push(t);n()}});t.on("close hide",function(e){if(e.control==t){var i=s.length;while(i--){if(s[i]===t){s.splice(i,1)}}n()}});t.on("show",function(){t.parents().each(function(e){if(e._fixed){t.fixed(true);return false}})});if(e.popover){t._preBodyHtml='<div class="'+t.classPrefix+'arrow"></div>';t.addClass("popover").addClass("bottom").addClass(t.isRtl()?"end":"start")}},fixed:function(e){var t=this;if(t._fixed!=e){if(t._rendered){var n=i.getViewPort();if(e){t.layoutRect().y-=n.y}else{t.layoutRect().y+=n.y}}t.toggleClass("fixed",e);t._fixed=e}return t},show:function(){var e=this,t,n=e._super();t=a.length;while(t--){if(a[t]===e){break}}if(t===-1){a.push(e)}return n},hide:function(){c(this);return this._super()},hideAll:function(){u.hideAll()},close:function(){var e=this;e.fire("close");return e.remove()},remove:function(){c(this);this._super()},postRender:function(){var e=this;if(e.settings.bodyRole){this.getEl("body").setAttribute("role",e.settings.bodyRole)}return e._super()}});u.hideAll=function(){var e=a.length;while(e--){var t=a[e];if(t&&t.settings.autohide){t.hide();a.splice(e,1)}}};function c(e){var t;t=a.length;while(t--){if(a[t]===e){a.splice(t,1)}}t=s.length;while(t--){if(s[t]===e){s.splice(t,1)}}}return u});r("tinymce/ui/Window",["tinymce/ui/FloatPanel","tinymce/ui/Panel","tinymce/ui/DomUtils","tinymce/ui/DragHelper"],function(e,t,n,i){"use strict";var r=e.extend({modal:true,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(e){var n=this;n._super(e);if(n.isRtl()){n.addClass("rtl")}n.addClass("window");n._fixed=true;if(e.buttons){n.statusbar=new t({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:n.isRtl()?"start":"end",defaults:{type:"button"},items:e.buttons});n.statusbar.addClass("foot");n.statusbar.parent(n)}n.on("click",function(e){if(e.target.className.indexOf(n.classPrefix+"close")!=-1){n.close()}});n.on("cancel",function(){n.close()});n.aria("describedby",n.describedBy||n._id+"-none");n.aria("label",e.title);n._fullscreen=false},recalc:function(){var e=this,t=e.statusbar,i,r,o,a;if(e._fullscreen){e.layoutRect(n.getWindowSize());e.layoutRect().contentH=e.layoutRect().innerH}e._super();i=e.layoutRect();if(e.settings.title&&!e._fullscreen){r=i.headerW;if(r>i.w){o=i.x-Math.max(0,r/2);e.layoutRect({w:r,x:o});a=true}}if(t){t.layoutRect({w:e.layoutRect().innerW}).recalc();r=t.layoutRect().minW+i.deltaW;if(r>i.w){o=i.x-Math.max(0,r-i.w);e.layoutRect({w:r,x:o});a=true}}if(a){e.recalc()}},initLayoutRect:function(){var e=this,t=e._super(),i=0,r;if(e.settings.title&&!e._fullscreen){r=e.getEl("head");var o=n.getSize(r);t.headerW=o.width;t.headerH=o.height;i+=t.headerH}if(e.statusbar){i+=e.statusbar.layoutRect().h}t.deltaH+=i;t.minH+=i;t.h+=i;var a=n.getWindowSize();t.x=Math.max(0,a.w/2-t.w/2);t.y=Math.max(0,a.h/2-t.h/2);return t},renderHtml:function(){var e=this,t=e._layout,n=e._id,i=e.classPrefix;var r=e.settings,o="",a="",s=r.html;e.preRender();t.preRender(e);if(r.title){o='<div id="'+n+'-head" class="'+i+'window-head">'+'<div id="'+n+'-title" class="'+i+'title">'+e.encode(r.title)+"</div>"+'<button type="button" class="'+i+'close" aria-hidden="true">×</button>'+'<div id="'+n+'-dragh" class="'+i+'dragh"></div>'+"</div>"}if(r.url){s='<iframe src="'+r.url+'" tabindex="-1"></iframe>'}if(typeof s=="undefined"){s=t.renderHtml(e)}if(e.statusbar){a=e.statusbar.renderHtml()}return'<div id="'+n+'" class="'+e.classes()+'" hidefocus="1">'+'<div class="'+e.classPrefix+'reset" role="application">'+o+'<div id="'+n+'-body" class="'+e.classes("body")+'">'+s+"</div>"+a+"</div>"+"</div>"},fullscreen:function(e){var t=this,i=document.documentElement,r,o=t.classPrefix,a;if(e!=t._fullscreen){n.on(window,"resize",function(){var e;if(t._fullscreen){if(!r){e=(new Date).getTime();var i=n.getWindowSize();t.moveTo(0,0).resizeTo(i.w,i.h);if((new Date).getTime()-e>50){r=true}}else{if(!t._timer){t._timer=setTimeout(function(){var e=n.getWindowSize();t.moveTo(0,0).resizeTo(e.w,e.h);t._timer=0},50)}}}});a=t.layoutRect();t._fullscreen=e;if(!e){t._borderBox=t.parseBox(t.settings.border);t.getEl("head").style.display="";a.deltaH+=a.headerH;n.removeClass(i,o+"fullscreen");n.removeClass(document.body,o+"fullscreen");t.removeClass("fullscreen");t.moveTo(t._initial.x,t._initial.y).resizeTo(t._initial.w,t._initial.h)}else{t._initial={x:a.x,y:a.y,w:a.w,h:a.h};t._borderBox=t.parseBox("0");t.getEl("head").style.display="none";a.deltaH-=a.headerH+2;n.addClass(i,o+"fullscreen");n.addClass(document.body,o+"fullscreen");t.addClass("fullscreen");var s=n.getWindowSize();t.moveTo(0,0).resizeTo(s.w,s.h)}}return t.reflow()},postRender:function(){var e=this,t;setTimeout(function(){e.addClass("in")},0);e._super();if(e.statusbar){e.statusbar.postRender()}e.focus();this.dragHelper=new i(e._id+"-dragh",{start:function(){t={x:e.layoutRect().x,y:e.layoutRect().y}},drag:function(n){e.moveTo(t.x+n.deltaX,t.y+n.deltaY)}});e.on("submit",function(t){if(!t.isDefaultPrevented()){e.close()}})},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var e=this,t=e.classPrefix;e.dragHelper.destroy();e._super();if(e.statusbar){this.statusbar.remove()}if(e._fullscreen){n.removeClass(document.documentElement,t+"fullscreen");n.removeClass(document.body,t+"fullscreen")}},getContentWindow:function(){var e=this.getEl().getElementsByTagName("iframe")[0];return e?e.contentWindow:null}});return r});r("tinymce/ui/MessageBox",["tinymce/ui/Window"],function(e){"use strict";var t=e.extend({init:function(e){e={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:true,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:true,maxWidth:500,maxHeight:200}};this._super(e)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(n){var i,r=n.callback||function(){};switch(n.buttons){case t.OK_CANCEL:i=[{type:"button",text:"Ok",subtype:"primary",onClick:function(e){e.control.parents()[1].close();r(true)}},{type:"button",text:"Cancel",onClick:function(e){e.control.parents()[1].close();r(false)}}];break;case t.YES_NO:i=[{type:"button",text:"Ok",subtype:"primary",onClick:function(e){e.control.parents()[1].close();r(true)}}];break;case t.YES_NO_CANCEL:i=[{type:"button",text:"Ok",subtype:"primary",onClick:function(e){e.control.parents()[1].close()}}];break;default:i=[{type:"button",text:"Ok",subtype:"primary",onClick:function(e){e.control.parents()[1].close();r(true)}}];break}return new e({padding:20,x:n.x,y:n.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:i,title:n.title,role:"alertdialog",items:{type:"label",multiline:true,maxWidth:500,maxHeight:200,text:n.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:n.onClose,onCancel:function(){r(false)}}).renderTo(document.body).reflow()},alert:function(e,n){if(typeof e=="string"){e={text:e}}e.callback=n;return t.msgBox(e)},confirm:function(e,n){if(typeof e=="string"){e={text:e}}e.callback=n;e.buttons=t.OK_CANCEL;return t.msgBox(e)}}});return t});r("tinymce/WindowManager",["tinymce/ui/Window","tinymce/ui/MessageBox"],function(e,t){return function(n){var i=this,r=[];function o(){if(r.length){return r[r.length-1]}}i.windows=r;i.open=function(t,i){var o;n.editorManager.activeEditor=n;t.title=t.title||" ";t.url=t.url||t.file;if(t.url){t.width=parseInt(t.width||320,10);t.height=parseInt(t.height||240,10)}if(t.body){t.items={defaults:t.defaults,type:t.bodyType||"form",items:t.body}}if(!t.url&&!t.buttons){t.buttons=[{text:"Ok",subtype:"primary",onclick:function(){o.find("form")[0].submit()}},{text:"Cancel",onclick:function(){o.close()}}]}o=new e(t);r.push(o);o.on("close",function(){var e=r.length;while(e--){if(r[e]===o){r.splice(e,1)}}n.focus()});if(t.data){o.on("postRender",function(){this.find("*").each(function(e){var n=e.name();if(n in t.data){e.value(t.data[n])}})})}o.features=t||{};o.params=i||{};n.nodeChanged();return o.renderTo().reflow()};i.alert=function(e,i,r){t.alert(e,function(){if(i){i.call(r||this)}else{n.focus()}})};i.confirm=function(e,n,i){t.confirm(e,function(e){n.call(i||this,e)})};i.close=function(){if(o()){o().close()}};i.getParams=function(){return o()?o().params:null};i.setParams=function(e){if(o()){o().params=e}};i.getWindows=function(){return r}}});r("tinymce/util/Quirks",["tinymce/util/VK","tinymce/dom/RangeUtils","tinymce/html/Node","tinymce/html/Entities","tinymce/Env","tinymce/util/Tools"],function(e,t,n,i,r,o){return function(a){var s=o.each;var l=e.BACKSPACE,u=e.DELETE,c=a.dom,f=a.selection,d=a.settings,m=a.parser,h=a.serializer;var p=r.gecko,g=r.ie,v=r.webkit;function y(e,t){try{a.getDoc().execCommand(e,false,t)}catch(e){}}function b(){var e=a.getDoc().documentMode;return e?e:6}function C(e){return e.isDefaultPrevented()}function w(){var t=a.getDoc(),n="data:text/mce-internal,";var i=window.MutationObserver,r,s;if(!i){r=true;i=function(){var e=[],t;function n(t){var n=t.relatedNode||t.target;e.push({target:n,addedNodes:[n]})}function i(t){var n=t.relatedNode||t.target;e.push({target:n,attributeName:t.attrName})}this.observe=function(e){t=e;t.addEventListener("DOMSubtreeModified",n,false);t.addEventListener("DOMNodeInsertedIntoDocument",n,false);t.addEventListener("DOMNodeInserted",n,false);t.addEventListener("DOMAttrModified",i,false)};this.disconnect=function(){t.removeEventListener("DOMNodeInserted",n);t.removeEventListener("DOMAttrModified",i);t.removeEventListener("DOMSubtreeModified",n,false)};this.takeRecords=function(){return e}}}function d(e){var t=new i(function(){});o.each(a.getBody().getElementsByTagName("*"),function(e){if(e.tagName=="SPAN"){e.setAttribute("mce-data-marked",1)}if(!e.hasAttribute("data-mce-style")&&e.hasAttribute("style")){a.dom.setAttrib(e,"style",e.getAttribute("style"))}});t.observe(a.getDoc(),{childList:true,attributes:true,subtree:true,attributeFilter:["style"]});a.getDoc().execCommand(e?"ForwardDelete":"Delete",false,null);var n=a.selection.getRng();var r=n.startContainer.parentNode;o.each(t.takeRecords(),function(e){if(e.attributeName=="style"){var t=e.target.getAttribute("data-mce-style");if(t){e.target.setAttribute("style",t)}else{e.target.removeAttribute("style")}}o.each(e.addedNodes,function(e){if(e.nodeName=="SPAN"&&!e.getAttribute("mce-data-marked")){var t,i;if(e==r){t=n.startOffset;i=e.firstChild}c.remove(e,true);if(i){n.setStart(i,t);n.setEnd(i,t);a.selection.setRng(n)}}})});t.disconnect();o.each(a.dom.select("span[mce-data-marked]"),function(e){e.removeAttribute("mce-data-marked")})}a.on("keydown",function(t){var n=t.keyCode==u,i=e.metaKeyPressed(t);if(!C(t)&&(n||t.keyCode==l)){var r=a.selection.getRng(),o=r.startContainer,s=r.startOffset;if(!i&&r.collapsed&&o.nodeType==3){if(n?s<o.data.length:s>0){return}}t.preventDefault();if(i){a.selection.getSel().modify("extend",n?"forward":"backward","word")}d(n)}});a.on("keypress",function(t){if(!C(t)&&!f.isCollapsed()&&t.charCode&&!e.metaKeyPressed(t)){t.preventDefault();d(true);a.selection.setContent(String.fromCharCode(t.charCode))}});a.addCommand("Delete",function(){d()});a.addCommand("ForwardDelete",function(){d(true)});if(r){return}a.on("dragstart",function(e){var t;if(a.selection.isCollapsed()&&e.target.tagName=="IMG"){f.select(e.target)}s=f.getRng();t=a.selection.getContent();if(t.length>0){e.dataTransfer.setData("URL","data:text/mce-internal,"+escape(t))}});a.on("drop",function(e){if(!C(e)){var i=e.dataTransfer.getData("URL");if(!i||i.indexOf(n)==-1||!t.caretRangeFromPoint){return}i=unescape(i.substr(n.length));if(t.caretRangeFromPoint){e.preventDefault();window.setTimeout(function(){var n=t.caretRangeFromPoint(e.x,e.y);if(s){f.setRng(s);s=null}d();f.setRng(n);a.insertContent(i)},0)}}});a.on("cut",function(e){if(!C(e)&&e.clipboardData){e.preventDefault();e.clipboardData.clearData();e.clipboardData.setData("text/html",a.selection.getContent());e.clipboardData.setData("text/plain",a.selection.getContent({format:"text"}));d(true)}})}function x(){function e(e){var t=c.create("body");var n=e.cloneContents();t.appendChild(n);return f.serializer.serialize(t,{format:"html"})}function n(n){if(!n.setStart){if(n.item){return false}var i=n.duplicate();i.moveToElementText(a.getBody());return t.compareRanges(n,i)}var r=e(n);var o=c.createRng();o.selectNode(a.getBody());var s=e(o);return r===s}a.on("keydown",function(e){var t=e.keyCode,i,r;if(!C(e)&&(t==u||t==l)){i=a.selection.isCollapsed();r=a.getBody();if(i&&!c.isEmpty(r)){return}if(!i&&!n(a.selection.getRng())){return}e.preventDefault();a.setContent("");if(r.firstChild&&c.isBlock(r.firstChild)){a.selection.setCursorLocation(r.firstChild,0)}else{a.selection.setCursorLocation(r,0)}a.nodeChanged()}})}function _(){a.on("keydown",function(t){if(!C(t)&&t.keyCode==65&&e.metaKeyPressed(t)){t.preventDefault();a.execCommand("SelectAll")}})}function E(){if(!a.settings.content_editable){c.bind(a.getDoc(),"focusin",function(){f.setRng(f.getRng())});c.bind(a.getDoc(),"mousedown",function(e){if(e.target==a.getDoc().documentElement){a.getBody().focus();f.setRng(f.getRng())}})}}function N(){a.on("keydown",function(e){if(!C(e)&&e.keyCode===l){if(f.isCollapsed()&&f.getRng(true).startOffset===0){var t=f.getNode();var n=t.previousSibling;if(t.nodeName=="HR"){c.remove(t);e.preventDefault();return}if(n&&n.nodeName&&n.nodeName.toLowerCase()==="hr"){c.remove(n);e.preventDefault()}}}})}function S(){if(!window.Range.prototype.getClientRects){a.on("mousedown",function(e){if(!C(e)&&e.target.nodeName==="HTML"){var t=a.getBody();t.blur();setTimeout(function(){t.focus()},0)}})}}function k(){a.on("click",function(e){e=e.target;if(/^(IMG|HR)$/.test(e.nodeName)){f.getSel().setBaseAndExtent(e,0,e,1)}if(e.nodeName=="A"&&c.hasClass(e,"mce-item-anchor")){f.select(e)}a.nodeChanged()})}function T(){function e(){var e=c.getAttribs(f.getStart().cloneNode(false));return function(){var t=f.getStart();if(t!==a.getBody()){c.setAttrib(t,"style",null);s(e,function(e){t.setAttributeNode(e.cloneNode(true))})}}}function t(){return!f.isCollapsed()&&c.getParent(f.getStart(),c.isBlock)!=c.getParent(f.getEnd(),c.isBlock)}a.on("keypress",function(n){var i;if(!C(n)&&(n.keyCode==8||n.keyCode==46)&&t()){i=e();a.getDoc().execCommand("delete",false,null);i();n.preventDefault();return false}});c.bind(a.getDoc(),"cut",function(n){var i;if(!C(n)&&t()){i=e();setTimeout(function(){i()},0)}})}function R(){var e,n;a.on("selectionchange",function(){if(n){clearTimeout(n);n=0}n=window.setTimeout(function(){if(a.removed){return}var n=f.getRng();if(!e||!t.compareRanges(n,e)){a.nodeChanged();e=n}},50)})}function A(){document.body.setAttribute("role","application")}function B(){a.on("keydown",function(e){if(!C(e)&&e.keyCode===l){if(f.isCollapsed()&&f.getRng(true).startOffset===0){var t=f.getNode().previousSibling;if(t&&t.nodeName&&t.nodeName.toLowerCase()==="table"){e.preventDefault();return false}}}})}function D(){if(b()>7){return}y("RespectVisibilityInDesign",true);a.contentStyles.push(".mceHideBrInPre pre br {display: none}");c.addClass(a.getBody(),"mceHideBrInPre");m.addNodeFilter("pre",function(e){var t=e.length,i,r,o,a;while(t--){i=e[t].getAll("br");r=i.length;while(r--){o=i[r];a=o.prev;if(a&&a.type===3&&a.value.charAt(a.value-1)!="\n"){a.value+="\n"}else{o.parent.insert(new n("#text",3),o,true).value="\n"}}}});h.addNodeFilter("pre",function(e){var t=e.length,n,i,r,o;while(t--){n=e[t].getAll("br");i=n.length;while(i--){r=n[i];o=r.prev;if(o&&o.type==3){o.value=o.value.replace(/\r?\n$/,"")}}}})}function L(){c.bind(a.getBody(),"mouseup",function(){var e,t=f.getNode();if(t.nodeName=="IMG"){if(e=c.getStyle(t,"width")){c.setAttrib(t,"width",e.replace(/[^0-9%]+/g,""));c.setStyle(t,"width","")}if(e=c.getStyle(t,"height")){c.setAttrib(t,"height",e.replace(/[^0-9%]+/g,""));c.setStyle(t,"height","")}}})}function M(){a.on("keydown",function(t){var n,i,r,o,s;if(C(t)||t.keyCode!=e.BACKSPACE){return}n=f.getRng();i=n.startContainer;r=n.startOffset;o=c.getRoot();s=i;if(!n.collapsed||r!==0){return}while(s&&s.parentNode&&s.parentNode.firstChild==s&&s.parentNode!=o){s=s.parentNode}if(s.tagName==="BLOCKQUOTE"){a.formatter.toggle("blockquote",null,s);n=c.createRng();n.setStart(i,0);n.setEnd(i,0);f.setRng(n)}})}function P(){function e(){a._refreshContentEditable();y("StyleWithCSS",false);y("enableInlineTableEditing",false);if(!d.object_resizing){y("enableObjectResizing",false)}}if(!d.readonly){a.on("BeforeExecCommand MouseDown",e)}}function H(){function e(){s(c.select("a"),function(e){var t=e.parentNode,n=c.getRoot();if(t.lastChild===e){while(t&&!c.isBlock(t)){if(t.parentNode.lastChild!==t||t===n){return}t=t.parentNode}c.add(t,"br",{"data-mce-bogus":1})}})}a.on("SetContent ExecCommand",function(t){if(t.type=="setcontent"||t.command==="mceInsertLink"){e()}})}function O(){if(d.forced_root_block){a.on("init",function(){y("DefaultParagraphSeparator",d.forced_root_block)})}}function I(){a.on("Undo Redo SetContent",function(e){if(!e.initial){a.execCommand("mceRepaint")}})}function F(){a.on("keydown",function(e){var t;if(!C(e)&&e.keyCode==l){t=a.getDoc().selection.createRange();if(t&&t.item){e.preventDefault();a.undoManager.beforeChange();c.remove(t.item(0));a.undoManager.add()}}})}function z(){var e;if(b()>=10){e="";s("p div h1 h2 h3 h4 h5 h6".split(" "),function(t,n){e+=(n>0?",":"")+t+":empty"});a.contentStyles.push(e+"{padding-right: 1px !important}")}}function W(){if(b()<9){m.addNodeFilter("noscript",function(e){var t=e.length,n,i;while(t--){n=e[t];i=n.firstChild;if(i){n.attr("data-mce-innertext",i.value)}}});h.addNodeFilter("noscript",function(e){var t=e.length,r,o,a;while(t--){r=e[t];o=e[t].firstChild;if(o){o.value=i.decode(o.value)}else{a=r.attributes.map["data-mce-innertext"];if(a){r.attr("data-mce-innertext",null);o=new n("#text",3);o.value=a;o.raw=true;r.append(o)}}}})}}function U(){var e=c.doc,t=e.body,n,i,r;function o(e,n){var i=t.createTextRange();try{i.moveToPoint(e,n)}catch(e){i=null}return i}function a(e){var t;if(e.button){t=o(e.x,e.y);if(t){if(t.compareEndPoints("StartToStart",i)>0){t.setEndPoint("StartToStart",i)}else{t.setEndPoint("EndToEnd",i)}t.select()}}else{s()}}function s(){var t=e.selection.createRange();if(i&&!t.item&&t.compareEndPoints("StartToEnd",t)===0){i.select()}c.unbind(e,"mouseup",s);c.unbind(e,"mousemove",a);i=n=0}e.documentElement.unselectable=true;c.bind(e,"mousedown contextmenu",function(t){if(t.target.nodeName==="HTML"){if(n){s()}r=e.documentElement;if(r.scrollHeight>r.clientHeight){return}n=1;i=o(t.x,t.y);if(i){c.bind(e,"mouseup",s);c.bind(e,"mousemove",a);c.getRoot().focus();i.select()}}})}function V(){a.on("keyup focusin mouseup",function(t){if(t.keyCode!=65||!e.metaKeyPressed(t)){f.normalize()}},true)}function q(){a.contentStyles.push("img:-moz-broken {"+"-moz-force-broken-image-icon:1;"+"min-width:24px;"+"min-height:24px"+"}")}function $(){if(!a.inline){a.on("keydown",function(){if(document.activeElement==document.body){a.getWin().focus()}})}}function j(){if(!a.inline){a.contentStyles.push("body {min-height: 150px}");a.on("click",function(e){if(e.target.nodeName=="HTML"){a.getBody().focus();a.selection.normalize();a.nodeChanged()}})}}function K(){if(r.mac){a.on("keydown",function(t){if(e.metaKeyPressed(t)&&(t.keyCode==37||t.keyCode==39)){t.preventDefault();a.selection.getSel().modify("move",t.keyCode==37?"backward":"forward","word")}})}}function G(){y("AutoUrlDetect",false)}function Y(){if(!a.inline){a.on("focus blur beforegetcontent",function(){var e=a.dom.create("br");a.getBody().appendChild(e);e.parentNode.removeChild(e)},true)}}function X(){a.on("click",function(e){var t=e.target;do{if(t.tagName==="A"){e.preventDefault();return}}while(t=t.parentNode)});a.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}function J(){a.on("init",function(){a.dom.bind(a.getBody(),"submit",function(e){e.preventDefault()})})}B();M();x();V();if(v){w();E();k();O();J();if(r.iOS){R();$();j();X()}else{_()}}if(g&&r.ie<11){N();A();D();L();F();z();W();U()}if(r.ie>=11){j();Y()}if(r.ie){_();G()}if(p){N();S();T();P();H();I();q();K()}}});r("tinymce/util/Observable",["tinymce/util/Tools"],function(e){var t="__bindings";var n=e.makeMap("focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange"+" mouseout mouseenter mouseleave keydown keypress keyup contextmenu dragstart dragend dragover draggesture dragdrop drop drag"," ");function i(){return false}function r(){return true}return{fire:function(e,n,o){var a=this,s,l,u,c,f;e=e.toLowerCase();n=n||{};n.type=e;if(a.removed&&e!=="remove"){return}if(!n.target){n.target=a}if(!n.preventDefault){n.preventDefault=function(){n.isDefaultPrevented=r};n.stopPropagation=function(){n.isPropagationStopped=r};n.stopImmediatePropagation=function(){n.isImmediatePropagationStopped=r};n.isDefaultPrevented=i;n.isPropagationStopped=i;n.isImmediatePropagationStopped=i}if(a[t]){s=a[t][e];if(s){for(l=0,u=s.length;l<u;l++){s[l]=c=s[l];if(n.isImmediatePropagationStopped()){break}if(c.call(a,n)===false){n.preventDefault();return n}}}}if(o!==false&&a.parent){f=a.parent();while(f&&!n.isPropagationStopped()){f.fire(e,n,false);f=f.parent()}}return n},on:function(e,i,r){var o=this,a,s,l,u;if(i===false){i=function(){return false}}if(i){l=e.toLowerCase().split(" ");u=l.length;while(u--){e=l[u];a=o[t];if(!a){a=o[t]={}}s=a[e];if(!s){s=a[e]=[];if(o.bindNative&&n[e]){o.bindNative(e)}}if(r){s.unshift(i)}else{s.push(i)}}}return o},off:function(e,i){var r=this,o,a=r[t],s,l,u,c;if(a){if(e){u=e.toLowerCase().split(" ");o=u.length;while(o--){e=u[o];s=a[e];if(!e){for(l in a){a[e].length=0}return r}if(s){if(!i){s.length=0}else{c=s.length;while(c--){if(s[c]===i){s.splice(c,1)}}}if(!s.length&&r.unbindNative&&n[e]){r.unbindNative(e);delete a[e]}}}}else{if(r.unbindNative){for(e in a){r.unbindNative(e)}}r[t]=[]}}return r},hasEventListeners:function(e){var n=this[t];e=e.toLowerCase();return!(!n||!n[e]||n[e].length===0);
}}});r("tinymce/Shortcuts",["tinymce/util/Tools","tinymce/Env"],function(e,t){var n=e.each,i=e.explode;var r={f9:120,f10:121,f11:122};return function(o){var a=this,s={};o.on("keyup keypress keydown",function(e){if(e.altKey||e.ctrlKey||e.metaKey){n(s,function(n){var i=t.mac?e.metaKey:e.ctrlKey;if(n.ctrl!=i||n.alt!=e.altKey||n.shift!=e.shiftKey){return}if(e.keyCode==n.keyCode||e.charCode&&e.charCode==n.charCode){e.preventDefault();if(e.type=="keydown"){n.func.call(n.scope)}return true}})}});a.add=function(t,a,l,u){var c;c=l;if(typeof l==="string"){l=function(){o.execCommand(c,false,null)}}else if(e.isArray(c)){l=function(){o.execCommand(c[0],c[1],c[2])}}n(i(t.toLowerCase()),function(e){var t={func:l,scope:u||o,desc:o.translate(a),alt:false,ctrl:false,shift:false};n(i(e,"+"),function(e){switch(e){case"alt":case"ctrl":case"shift":t[e]=true;break;default:t.charCode=e.charCodeAt(0);t.keyCode=r[e]||e.toUpperCase().charCodeAt(0)}});s[(t.ctrl?"ctrl":"")+","+(t.alt?"alt":"")+","+(t.shift?"shift":"")+","+t.keyCode]=t});return true}}});r("tinymce/Editor",["tinymce/dom/DOMUtils","tinymce/AddOnManager","tinymce/html/Node","tinymce/dom/Serializer","tinymce/html/Serializer","tinymce/dom/Selection","tinymce/Formatter","tinymce/UndoManager","tinymce/EnterKey","tinymce/ForceBlocks","tinymce/EditorCommands","tinymce/util/URI","tinymce/dom/ScriptLoader","tinymce/dom/EventUtils","tinymce/WindowManager","tinymce/html/Schema","tinymce/html/DomParser","tinymce/util/Quirks","tinymce/Env","tinymce/util/Tools","tinymce/util/Observable","tinymce/Shortcuts"],function(e,n,i,r,o,a,s,l,u,c,f,d,m,h,p,g,v,y,b,C,w,x){var _=e.DOM,E=n.ThemeManager,N=n.PluginManager;var S=C.extend,k=C.each,T=C.explode;var R=C.inArray,A=C.trim,B=C.resolve;var D=h.Event;var L=b.gecko,M=b.ie;function P(e,t){if(t=="selectionchange"){return e.getDoc()}if(!e.inline&&/^mouse|click|contextmenu|drop/.test(t)){return e.getDoc()}return e.getBody()}function H(e,t,i){var r=this,o,a;o=r.documentBaseUrl=i.documentBaseURL;a=i.baseURI;r.settings=t=S({id:e,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:o,add_form_submit_trigger:true,submit_patch:true,add_unload_trigger:true,convert_urls:true,relative_urls:true,remove_script_host:true,object_resizing:true,doctype:"<!DOCTYPE html>",visual:true,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:true,padd_empty_editor:true,render_ui:true,indentation:"30px",inline_styles:true,convert_fonts_to_spans:true,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,"+"tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,"+"tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",validate:true,entity_encoding:"named",url_converter:r.convertURL,url_converter_scope:r,ie7_compat:true},t);n.language=t.language||"en";n.languageLoad=t.language_load;n.baseURL=i.baseURL;r.id=t.id=e;r.isNotDirty=true;r.plugins={};r.documentBaseURI=new d(t.document_base_url||o,{base_uri:a});r.baseURI=a;r.contentCSS=[];r.contentStyles=[];r.shortcuts=new x(r);r.execCommands={};r.queryStateCommands={};r.queryValueCommands={};r.loadedCSS={};r.suffix=i.suffix;r.editorManager=i;r.inline=t.inline;i.fire("SetupEditor",r);r.execCallback("setup",r)}H.prototype={render:function(){var e=this,t=e.settings,n=e.id,i=e.suffix;function r(){_.unbind(window,"ready",r);e.render()}if(!D.domLoaded){_.bind(window,"ready",r);return}if(!e.getElement()){return}if(!b.contentEditable){return}if(!t.inline){e.orgVisibility=e.getElement().style.visibility;e.getElement().style.visibility="hidden"}else{e.inline=true}var o=e.getElement().form||_.getParent(n,"form");if(o){e.formElement=o;if(t.hidden_input&&!/TEXTAREA|INPUT/i.test(e.getElement().nodeName)){_.insertAfter(_.create("input",{type:"hidden",name:n}),n);e.hasHiddenInput=true}e.formEventDelegate=function(t){e.fire(t.type,t)};_.bind(o,"submit reset",e.formEventDelegate);e.on("reset",function(){e.setContent(e.startContent,{format:"raw"})});if(t.submit_patch&&!o.submit.nodeType&&!o.submit.length&&!o._mceOldSubmit){o._mceOldSubmit=o.submit;o.submit=function(){e.editorManager.triggerSave();e.isNotDirty=true;return o._mceOldSubmit(o)}}}e.windowManager=new p(e);if(t.encoding=="xml"){e.on("GetContent",function(e){if(e.save){e.content=_.encode(e.content)}})}if(t.add_form_submit_trigger){e.on("submit",function(){if(e.initialized){e.save()}})}if(t.add_unload_trigger){e._beforeUnload=function(){if(e.initialized&&!e.destroyed&&!e.isHidden()){e.save({format:"raw",no_events:true,set_dirty:false})}};e.editorManager.on("BeforeUnload",e._beforeUnload)}function a(){var n=m.ScriptLoader;if(t.language&&t.language!="en"&&!t.language_url){t.language_url=e.editorManager.baseURL+"/langs/"+t.language+".js"}if(t.language_url){n.add(t.language_url)}if(t.theme&&typeof t.theme!="function"&&t.theme.charAt(0)!="-"&&!E.urls[t.theme]){var r=t.theme_url;if(r){r=e.documentBaseURI.toAbsolute(r)}else{r="themes/"+t.theme+"/theme"+i+".js"}E.load(t.theme,r)}if(C.isArray(t.plugins)){t.plugins=t.plugins.join(" ")}k(t.external_plugins,function(e,n){N.load(n,e);t.plugins+=" "+n});k(t.plugins.split(/[ ,]/),function(e){e=A(e);if(e&&!N.urls[e]){if(e.charAt(0)=="-"){e=e.substr(1,e.length);var t=N.dependencies(e);k(t,function(e){var t={prefix:"plugins/",resource:e,suffix:"/plugin"+i+".js"};e=N.createUrl(t,e);N.load(e.resource,e)})}else{N.load(e,{prefix:"plugins/",resource:e,suffix:"/plugin"+i+".js"})}}});n.loadQueue(function(){if(!e.removed){e.init()}})}a()},init:function(){var e=this,t=e.settings,n=e.getElement();var i,r,o,a,s,l,u,c,f,d,m,h=[];e.rtl=this.editorManager.i18n.rtl;e.editorManager.add(e);t.aria_label=t.aria_label||_.getAttrib(n,"aria-label",e.getLang("aria.rich_text_area"));if(t.theme){if(typeof t.theme!="function"){t.theme=t.theme.replace(/-/,"");l=E.get(t.theme);e.theme=new l(e,E.urls[t.theme]);if(e.theme.init){e.theme.init(e,E.urls[t.theme]||e.documentBaseUrl.replace(/\/$/,""))}}else{e.theme=t.theme}}function p(t){var n=N.get(t),i,r;i=N.urls[t]||e.documentBaseUrl.replace(/\/$/,"");t=A(t);if(n&&R(h,t)===-1){k(N.dependencies(t),function(e){p(e)});r=new n(e,i);e.plugins[t]=r;if(r.init){r.init(e,i);h.push(t)}}}k(t.plugins.replace(/\-/g,"").split(/[ ,]/),p);if(t.render_ui&&e.theme){e.orgDisplay=n.style.display;if(typeof t.theme!="function"){i=t.width||n.style.width||n.offsetWidth;r=t.height||n.style.height||n.offsetHeight;o=t.min_height||100;d=/^[0-9\.]+(|px)$/i;if(d.test(""+i)){i=Math.max(parseInt(i,10),100)}if(d.test(""+r)){r=Math.max(parseInt(r,10),o)}s=e.theme.renderUI({targetNode:n,width:i,height:r,deltaWidth:t.delta_width,deltaHeight:t.delta_height});if(!t.content_editable){_.setStyles(s.sizeContainer||s.editorContainer,{wi2dth:i,h2eight:r});r=(s.iframeHeight||r)+(typeof r=="number"?s.deltaHeight||0:"");if(r<o){r=o}}}else{s=t.theme(e,n);if(s.editorContainer.nodeType){s.editorContainer=s.editorContainer.id=s.editorContainer.id||e.id+"_parent"}if(s.iframeContainer.nodeType){s.iframeContainer=s.iframeContainer.id=s.iframeContainer.id||e.id+"_iframecontainer"}r=s.iframeHeight||n.offsetHeight}e.editorContainer=s.editorContainer}if(t.content_css){k(T(t.content_css),function(t){e.contentCSS.push(e.documentBaseURI.toAbsolute(t))})}if(t.content_style){e.contentStyles.push(t.content_style)}if(t.content_editable){n=a=s=null;return e.initContentBody()}e.iframeHTML=t.doctype+"<html><head>";if(t.document_base_url!=e.documentBaseUrl){e.iframeHTML+='<base href="'+e.documentBaseURI.getURI()+'" />'}if(!b.caretAfter&&t.ie7_compat){e.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'}e.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';for(m=0;m<e.contentCSS.length;m++){var g=e.contentCSS[m];e.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+g+'" />';e.loadedCSS[g]=true}c=t.body_id||"tinymce";if(c.indexOf("=")!=-1){c=e.getParam("body_id","","hash");c=c[e.id]||c}f=t.body_class||"";if(f.indexOf("=")!=-1){f=e.getParam("body_class","","hash");f=f[e.id]||""}e.iframeHTML+='</head><body id="'+c+'" class="mce-content-body '+f+'" '+"onload=\"window.parent.tinymce.get('"+e.id+"').fire('load');\"><br></body></html>";var v="javascript:(function(){"+'document.open();document.domain="'+document.domain+'";'+'var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);'+"document.close();ed.initContentBody(true);})()";if(document.domain!=location.hostname){u=v}a=_.add(s.iframeContainer,"iframe",{id:e.id+"_ifr",src:u||'javascript:""',frameBorder:"0",allowTransparency:"true",title:e.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. "+"Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:r,display:"block"}});if(M){try{e.getDoc()}catch(e){a.src=u=v}}e.contentAreaContainer=s.iframeContainer;if(s.editorContainer){_.get(s.editorContainer).style.display=e.orgDisplay}_.get(e.id).style.display="none";_.setAttrib(e.id,"aria-hidden",true);if(!u){e.initContentBody()}n=a=s=null},initContentBody:function(t){var n=this,o=n.settings,d=_.get(n.id),m=n.getDoc(),h,p;if(!o.inline){n.getElement().style.visibility=n.orgVisibility}if(!t&&!o.content_editable){m.open();m.write(n.iframeHTML);m.close()}if(o.content_editable){n.on("remove",function(){var e=this.getBody();_.removeClass(e,"mce-content-body");_.removeClass(e,"mce-edit-focus");_.setAttrib(e,"contentEditable",null)});_.addClass(d,"mce-content-body");n.contentDocument=m=o.content_document||document;n.contentWindow=o.content_window||window;n.bodyElement=d;o.content_document=o.content_window=null;o.root_name=d.nodeName.toLowerCase()}h=n.getBody();h.disabled=true;if(!o.readonly){if(n.inline&&_.getStyle(h,"position",true)=="static"){h.style.position="relative"}h.contentEditable=n.getParam("content_editable_state",true)}h.disabled=false;n.schema=new g(o);n.dom=new e(m,{keep_values:true,url_converter:n.convertURL,url_converter_scope:n,hex_colors:o.force_hex_style_colors,class_filter:o.class_filter,update_styles:true,root_element:o.content_editable?n.id:null,collect:o.content_editable,schema:n.schema,onSetAttrib:function(e){n.fire("SetAttrib",e)}});n.parser=new v(o,n.schema);n.parser.addAttributeFilter("src,href,style,tabindex",function(e,t){var i=e.length,r,o=n.dom,a,s;while(i--){r=e[i];a=r.attr(t);s="data-mce-"+t;if(!r.attributes.map[s]){if(t==="style"){r.attr(s,o.serializeStyle(o.parseStyle(a),r.name))}else if(t==="tabindex"){r.attr(s,a);r.attr(t,null)}else{r.attr(s,n.convertURL(a,t,r.name))}}}});n.parser.addNodeFilter("script",function(e){var t=e.length,n;while(t--){n=e[t];n.attr("type","mce-"+(n.attr("type")||"text/javascript"))}});n.parser.addNodeFilter("#cdata",function(e){var t=e.length,n;while(t--){n=e[t];n.type=8;n.name="#comment";n.value="[CDATA["+n.value+"]]"}});n.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(e){var t=e.length,r,o=n.schema.getNonEmptyElements();while(t--){r=e[t];if(r.isEmpty(o)){r.empty().append(new i("br",1)).shortEnded=true}}});n.serializer=new r(o,n);n.selection=new a(n.dom,n.getWin(),n.serializer,n);n.formatter=new s(n);n.undoManager=new l(n);n.forceBlocks=new c(n);n.enterKey=new u(n);n.editorCommands=new f(n);n.fire("PreInit");if(!o.browser_spellcheck&&!o.gecko_spellcheck){m.body.spellcheck=false;_.setAttrib(h,"spellcheck","false")}n.fire("PostRender");n.quirks=y(n);if(o.directionality){h.dir=o.directionality}if(o.nowrap){h.style.whiteSpace="nowrap"}if(o.protect){n.on("BeforeSetContent",function(e){k(o.protect,function(t){e.content=e.content.replace(t,function(e){return"<!--mce:protected "+escape(e)+"-->"})})})}n.on("SetContent",function(){n.addVisual(n.getBody())});if(o.padd_empty_editor){n.on("PostProcess",function(e){e.content=e.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")})}n.load({initial:true,format:"html"});n.startContent=n.getContent({format:"raw"});n.initialized=true;k(n._pendingNativeEvents,function(e){n.dom.bind(P(n,e),e,function(e){n.fire(e.type,e)})});n.fire("init");n.focus(true);n.nodeChanged({initial:true});n.execCallback("init_instance_callback",n);if(n.contentStyles.length>0){p="";k(n.contentStyles,function(e){p+=e+"\r\n"});n.dom.addStyle(p)}k(n.contentCSS,function(e){if(!n.loadedCSS[e]){n.dom.loadCSS(e);n.loadedCSS[e]=true}});if(o.auto_focus){setTimeout(function(){var e=n.editorManager.get(o.auto_focus);e.selection.select(e.getBody(),1);e.selection.collapse(1);e.getBody().focus();e.getWin().focus()},100)}d=m=h=null},focus:function(e){var t,n=this,i=n.selection,r=n.settings.content_editable,o;var a,s=n.getDoc(),l;if(!e){o=i.getRng();if(o.item){a=o.item(0)}n._refreshContentEditable();if(!r){if(!b.opera){n.getBody().focus()}n.getWin().focus()}if(L||r){l=n.getBody();if(l.setActive){try{l.setActive()}catch(e){l.focus()}}else{l.focus()}if(r){i.normalize()}}if(a&&a.ownerDocument==s){o=s.body.createControlRange();o.addElement(a);o.select()}}if(n.editorManager.activeEditor!=n){if(t=n.editorManager.activeEditor){t.fire("deactivate",{relatedTarget:n})}n.fire("activate",{relatedTarget:t})}n.editorManager.activeEditor=n},execCallback:function(e){var t=this,n=t.settings[e],i;if(!n){return}if(t.callbackLookup&&(i=t.callbackLookup[e])){n=i.func;i=i.scope}if(typeof n==="string"){i=n.replace(/\.\w+$/,"");i=i?B(i):0;n=B(n);t.callbackLookup=t.callbackLookup||{};t.callbackLookup[e]={func:n,scope:i}}return n.apply(i||t,Array.prototype.slice.call(arguments,1))},translate:function(e){var t=this.settings.language||"en",n=this.editorManager.i18n;if(!e){return""}return n.data[t+"."+e]||e.replace(/\{\#([^\}]+)\}/g,function(e,i){return n.data[t+"."+i]||"{#"+i+"}"})},getLang:function(e,n){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+e]||(n!==t?n:"{#"+e+"}")},getParam:function(e,t,n){var i=e in this.settings?this.settings[e]:t,r;if(n==="hash"){r={};if(typeof i==="string"){k(i.indexOf("=")>0?i.split(/[;,](?![^=;,]*(?:[;,]|$))/):i.split(","),function(e){e=e.split("=");if(e.length>1){r[A(e[0])]=A(e[1])}else{r[A(e[0])]=A(e)}})}else{r=i}return r}return i},nodeChanged:function(){var e=this,t=e.selection,n,i,r;if(e.initialized&&!e.settings.disable_nodechange&&!e.settings.readonly){r=e.getBody();n=t.getStart()||r;n=M&&n.ownerDocument!=e.getDoc()?e.getBody():n;if(n.nodeName=="IMG"&&t.isCollapsed()){n=n.parentNode}i=[];e.dom.getParent(n,function(e){if(e===r){return true}i.push(e)});e.fire("NodeChange",{element:n,parents:i})}},addButton:function(e,t){var n=this;if(t.cmd){t.onclick=function(){n.execCommand(t.cmd)}}if(!t.text&&!t.icon){t.icon=e}n.buttons=n.buttons||{};t.tooltip=t.tooltip||t.title;n.buttons[e]=t},addMenuItem:function(e,t){var n=this;if(t.cmd){t.onclick=function(){n.execCommand(t.cmd)}}n.menuItems=n.menuItems||{};n.menuItems[e]=t},addCommand:function(e,t,n){this.execCommands[e]={func:t,scope:n||this}},addQueryStateHandler:function(e,t,n){this.queryStateCommands[e]={func:t,scope:n||this}},addQueryValueHandler:function(e,t,n){this.queryValueCommands[e]={func:t,scope:n||this}},addShortcut:function(e,t,n,i){this.shortcuts.add(e,t,n,i)},execCommand:function(e,t,n,i){var r=this,o=0,a;if(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)&&(!i||!i.skip_focus)){r.focus()}i=S({},i);i=r.fire("BeforeExecCommand",{command:e,ui:t,value:n});if(i.isDefaultPrevented()){return false}if(a=r.execCommands[e]){if(a.func.call(a.scope,t,n)!==true){r.fire("ExecCommand",{command:e,ui:t,value:n});return true}}k(r.plugins,function(i){if(i.execCommand&&i.execCommand(e,t,n)){r.fire("ExecCommand",{command:e,ui:t,value:n});o=true;return false}});if(o){return o}if(r.theme&&r.theme.execCommand&&r.theme.execCommand(e,t,n)){r.fire("ExecCommand",{command:e,ui:t,value:n});return true}if(r.editorCommands.execCommand(e,t,n)){r.fire("ExecCommand",{command:e,ui:t,value:n});return true}r.getDoc().execCommand(e,t,n);r.fire("ExecCommand",{command:e,ui:t,value:n})},queryCommandState:function(e){var t=this,n,i;if(t._isHidden()){return}if(n=t.queryStateCommands[e]){i=n.func.call(n.scope);if(i!==true){return i}}i=t.editorCommands.queryCommandState(e);if(i!==-1){return i}try{return t.getDoc().queryCommandState(e)}catch(e){}},queryCommandValue:function(e){var n=this,i,r;if(n._isHidden()){return}if(i=n.queryValueCommands[e]){r=i.func.call(i.scope);if(r!==true){return r}}r=n.editorCommands.queryCommandValue(e);if(r!==t){return r}try{return n.getDoc().queryCommandValue(e)}catch(e){}},show:function(){var e=this;_.show(e.getContainer());_.hide(e.id);e.load();e.fire("show")},hide:function(){var e=this,t=e.getDoc();if(M&&t&&!e.inline){t.execCommand("SelectAll")}e.save();_.hide(e.getContainer());_.setStyle(e.id,"display",e.orgDisplay);e.fire("hide")},isHidden:function(){return!_.isHidden(this.id)},setProgressState:function(e,t){this.fire("ProgressState",{state:e,time:t})},load:function(e){var n=this,i=n.getElement(),r;if(i){e=e||{};e.load=true;r=n.setContent(i.value!==t?i.value:i.innerHTML,e);e.element=i;if(!e.no_events){n.fire("LoadContent",e)}e.element=i=null;return r}},save:function(e){var t=this,n=t.getElement(),i,r;if(!n||!t.initialized){return}e=e||{};e.save=true;e.element=n;i=e.content=t.getContent(e);if(!e.no_events){t.fire("SaveContent",e)}i=e.content;if(!/TEXTAREA|INPUT/i.test(n.nodeName)){if(!t.inline){n.innerHTML=i}if(r=_.getParent(t.id,"form")){k(r.elements,function(e){if(e.name==t.id){e.value=i;return false}})}}else{n.value=i}e.element=n=null;if(e.set_dirty!==false){t.isNotDirty=true}return i},setContent:function(e,t){var n=this,i=n.getBody(),r;t=t||{};t.format=t.format||"html";t.set=true;t.content=e;if(!t.no_events){n.fire("BeforeSetContent",t)}e=t.content;if(e.length===0||/^\s+$/.test(e)){r=n.settings.forced_root_block;if(r&&n.schema.isValidChild(i.nodeName.toLowerCase(),r.toLowerCase())){e=M&&M<11?"":'<br data-mce-bogus="1">';e=n.dom.createHTML(r,n.settings.forced_root_block_attrs,e)}else if(!M){e='<br data-mce-bogus="1">'}i.innerHTML=e;n.fire("SetContent",t)}else{if(t.format!=="raw"){e=new o({},n.schema).serialize(n.parser.parse(e,{isRootContent:true}))}t.content=A(e);n.dom.setHTML(i,t.content);if(!t.no_events){n.fire("SetContent",t)}}return t.content},getContent:function(e){var t=this,n,i=t.getBody();e=e||{};e.format=e.format||"html";e.get=true;e.getInner=true;if(!e.no_events){t.fire("BeforeGetContent",e)}if(e.format=="raw"){n=i.innerHTML}else if(e.format=="text"){n=i.innerText||i.textContent}else{n=t.serializer.serialize(i,e)}if(e.format!="text"){e.content=A(n)}else{e.content=n}if(!e.no_events){t.fire("GetContent",e)}return e.content},insertContent:function(e){this.execCommand("mceInsertContent",false,e)},isDirty:function(){return!this.isNotDirty},getContainer:function(){var e=this;if(!e.container){e.container=_.get(e.editorContainer||e.id+"_parent")}return e.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return _.get(this.settings.content_element||this.id)},getWin:function(){var e=this,t;if(!e.contentWindow){t=_.get(e.id+"_ifr");if(t){e.contentWindow=t.contentWindow}}return e.contentWindow},getDoc:function(){var e=this,t;if(!e.contentDocument){t=e.getWin();if(t){e.contentDocument=t.document}}return e.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(e,t,n){var i=this,r=i.settings;if(r.urlconverter_callback){return i.execCallback("urlconverter_callback",e,n,true,t)}if(!r.convert_urls||n&&n.nodeName=="LINK"||e.indexOf("file:")===0||e.length===0){return e}if(r.relative_urls){return i.documentBaseURI.toRelative(e)}e=i.documentBaseURI.toAbsolute(e,r.remove_script_host);return e},addVisual:function(e){var n=this,i=n.settings,r=n.dom,o;e=e||n.getBody();if(n.hasVisual===t){n.hasVisual=i.visual}k(r.select("table,a",e),function(e){var t;switch(e.nodeName){case"TABLE":o=i.visual_table_class||"mce-item-table";t=r.getAttrib(e,"border");if(!t||t=="0"){if(n.hasVisual){r.addClass(e,o)}else{r.removeClass(e,o)}}return;case"A":if(!r.getAttrib(e,"href",false)){t=r.getAttrib(e,"name")||e.id;o=i.visual_anchor_class||"mce-item-anchor";if(t){if(n.hasVisual){r.addClass(e,o)}else{r.removeClass(e,o)}}}return}});n.fire("VisualAid",{element:e,hasVisual:n.hasVisual})},remove:function(){var e=this;if(!e.removed){e.removed=1;e.save();if(e.hasHiddenInput){_.remove(e.getElement().nextSibling)}if(!e.inline){if(M&&M<10){e.getDoc().execCommand("SelectAll",false,null)}_.setStyle(e.id,"display",e.orgDisplay);e.getBody().onload=null;D.unbind(e.getWin());D.unbind(e.getDoc())}var t=e.getContainer();D.unbind(e.getBody());D.unbind(t);e.fire("remove");e.editorManager.remove(e);_.remove(t);e.destroy()}},bindNative:function(e){var t=this;if(t.settings.readonly){return}if(t.initialized){t.dom.bind(P(t,e),e,function(n){t.fire(e,n)})}else{if(!t._pendingNativeEvents){t._pendingNativeEvents=[e]}else{t._pendingNativeEvents.push(e)}}},unbindNative:function(e){var t=this;if(t.initialized){t.dom.unbind(e)}},destroy:function(e){var t=this,n;if(t.destroyed){return}if(!e&&!t.removed){t.remove();return}if(e&&L){D.unbind(t.getDoc());D.unbind(t.getWin());D.unbind(t.getBody())}if(!e){t.editorManager.off("beforeunload",t._beforeUnload);if(t.theme&&t.theme.destroy){t.theme.destroy()}t.selection.destroy();t.dom.destroy()}n=t.formElement;if(n){if(n._mceOldSubmit){n.submit=n._mceOldSubmit;n._mceOldSubmit=null}_.unbind(n,"submit reset",t.formEventDelegate)}t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null;t.settings.content_element=t.bodyElement=t.contentDocument=t.contentWindow=null;if(t.selection){t.selection=t.selection.win=t.selection.dom=t.selection.dom.doc=null}t.destroyed=1},_refreshContentEditable:function(){var e=this,t,n;if(e._isHidden()){t=e.getBody();n=t.parentNode;n.removeChild(t);n.appendChild(t);t.focus()}},_isHidden:function(){var e;if(!L){return 0}e=this.selection.getSel();return!e||!e.rangeCount||e.rangeCount===0}};S(H.prototype,w);return H});r("tinymce/util/I18n",[],function(){"use strict";var e={};return{rtl:false,add:function(t,n){for(var i in n){e[i]=n[i]}this.rtl=this.rtl||e._dir==="rtl"},translate:function(t){if(typeof t=="undefined"){return t}if(typeof t!="string"&&t.raw){return t.raw}if(t.push){var n=t.slice(1);t=(e[t[0]]||t[0]).replace(/\{([^\}]+)\}/g,function(e,t){return n[t]})}return e[t]||t},data:e}});r("tinymce/FocusManager",["tinymce/dom/DOMUtils","tinymce/Env"],function(e,t){var n,i,r,o=e.DOM;function a(e){function s(){try{return document.activeElement}catch(e){return document.body}}function l(e,t){if(t&&t.startContainer){if(!e.isChildOf(t.startContainer,e.getRoot())||!e.isChildOf(t.endContainer,e.getRoot())){return}return{startContainer:t.startContainer,startOffset:t.startOffset,endContainer:t.endContainer,endOffset:t.endOffset}}return t}function u(e,t){var n;if(t.startContainer){n=e.getDoc().createRange();n.setStart(t.startContainer,t.startOffset);n.setEnd(t.endContainer,t.endOffset)}else{n=t}return n}function c(e){return!!o.getParent(e,a.isEditorUIElement)}function f(a){var f=a.editor;f.on("init",function(){if(f.inline||t.ie){f.on("nodechange keyup",function(){var e=document.activeElement;if(e&&e.id==f.id+"_ifr"){e=f.getBody()}if(f.dom.isChildOf(e,f.getBody())){f.lastRng=f.selection.getRng()}});if(t.webkit&&!n){n=function(){var t=e.activeEditor;if(t&&t.selection){var n=t.selection.getRng();if(n&&!n.collapsed){f.lastRng=n}}};o.bind(document,"selectionchange",n)}}});f.on("setcontent",function(){f.lastRng=null});f.on("mousedown",function(){f.selection.lastFocusBookmark=null});f.on("focusin",function(){var t=e.focusedEditor;if(f.selection.lastFocusBookmark){f.selection.setRng(u(f,f.selection.lastFocusBookmark));f.selection.lastFocusBookmark=null}if(t!=f){if(t){t.fire("blur",{focusedEditor:f})}e.activeEditor=f;e.focusedEditor=f;f.fire("focus",{blurredEditor:t});f.focus(true)}f.lastRng=null});f.on("focusout",function(){window.setTimeout(function(){var t=e.focusedEditor;if(!c(s())&&t==f){f.fire("blur",{focusedEditor:null});e.focusedEditor=null;if(f.selection){f.selection.lastFocusBookmark=null}}},0)});if(!i){i=function(t){var n=e.activeEditor;if(n&&t.target.ownerDocument==document){if(n.selection){n.selection.lastFocusBookmark=l(n.dom,n.lastRng)}if(!c(t.target)&&e.focusedEditor==n){n.fire("blur",{focusedEditor:null});e.focusedEditor=null}}};o.bind(document,"focusin",i)}if(f.inline&&!r){r=function(t){var n=e.activeEditor;if(n.inline&&!n.dom.isChildOf(t.target,n.getBody())){var i=n.selection.getRng();if(!i.collapsed){n.lastRng=i}}};o.bind(document,"mouseup",r)}}function d(t){if(e.focusedEditor==t.editor){e.focusedEditor=null}if(!e.activeEditor){o.unbind(document,"selectionchange",n);o.unbind(document,"focusin",i);o.unbind(document,"mouseup",r);n=i=r=null}}e.on("AddEditor",f);e.on("RemoveEditor",d)}a.isEditorUIElement=function(e){return e.className.toString().indexOf("mce-")!==-1};return a});r("tinymce/EditorManager",["tinymce/Editor","tinymce/dom/DOMUtils","tinymce/util/URI","tinymce/Env","tinymce/util/Tools","tinymce/util/Observable","tinymce/util/I18n","tinymce/FocusManager"],function(e,t,n,i,r,o,a,s){var l=t.DOM;var u=r.explode,c=r.each,f=r.extend;var d=0,m,h;function p(e){var t=h.editors,n;delete t[e.id];for(var i=0;i<t.length;i++){if(t[i]==e){t.splice(i,1);n=true;break}}if(h.activeEditor==e){h.activeEditor=t[0]}if(h.focusedEditor==e){h.focusedEditor=null}return n}function g(e){if(e&&!(e.getContainer()||e.getBody()).parentNode){p(e);e.destroy(true);e=null}return e}h={majorVersion:"4",minorVersion:"0.23",releaseDate:"2014-04-24",editors:[],i18n:a,activeEditor:null,setup:function(){var e=this,t,i,r="",o,a;i=document.location.href.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,"");if(!/[\/\\]$/.test(i)){i+="/"}o=window.tinymce||window.tinyMCEPreInit;if(o){t=o.base||o.baseURL;r=o.suffix}else{var l=document.getElementsByTagName("script");for(var u=0;u<l.length;u++){a=l[u].src;if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(a)){if(a.indexOf(".min")!=-1){r=".min"}t=a.substring(0,a.lastIndexOf("/"));break}}if(!t&&document.currentScript){a=document.currentScript.src;if(a.indexOf(".min")!=-1){r=".min"}t=a.substring(0,a.lastIndexOf("/"))}}e.baseURL=new n(i).toAbsolute(t);e.documentBaseURL=i;e.baseURI=new n(e.baseURL);e.suffix=r;e.focusManager=new s(e)},init:function(t){var n=this,i=[],r;function o(e){var t=e.id;if(!t){t=e.name;if(t&&!l.get(t)){t=e.name}else{t=l.uniqueId()}e.setAttribute("id",t)}return t}function a(t,r){if(!g(n.get(t))){var o=new e(t,r,n);i.push(o);o.render()}}function s(e,t,n){var i=e[t];if(!i){return}return i.apply(n||this,Array.prototype.slice.call(arguments,2))}function m(e,t){return t.constructor===RegExp?t.test(e.className):l.hasClass(e,t)}function h(){var p,g;l.unbind(window,"ready",h);s(t,"onpageload");if(t.types){c(t.types,function(e){c(l.select(e.selector),function(n){a(o(n),f({},t,e))})});return}else if(t.selector){c(l.select(t.selector),function(e){a(o(e),t)});return}switch(t.mode){case"exact":p=t.elements||"";if(p.length>0){c(u(p),function(o){if(l.get(o)){r=new e(o,t,n);i.push(r);r.render()}else{c(document.forms,function(e){c(e.elements,function(e){if(e.name===o){o="mce_editor_"+d++;l.setAttrib(e,"id",o);a(o,t)}})})}})}break;case"textareas":case"specific_textareas":c(l.select("textarea"),function(e){if(t.editor_deselector&&m(e,t.editor_deselector)){return}if(!t.editor_selector||m(e,t.editor_selector)){a(o(e),t)}});break}if(t.oninit){p=g=0;c(i,function(e){g++;if(!e.initialized){e.on("init",function(){p++;if(p==g){s(t,"oninit")}})}else{p++}if(p==g){s(t,"oninit")}})}}n.settings=t;l.bind(window,"ready",h)},get:function(e){if(!arguments.length){return this.editors}return e in this.editors?this.editors[e]:null},add:function(e){var t=this,n=t.editors;n[e.id]=e;n.push(e);t.activeEditor=e;t.fire("AddEditor",{editor:e});if(!m){m=function(){t.fire("BeforeUnload")};l.bind(window,"beforeunload",m)}return e},createEditor:function(t,n){return this.add(new e(t,n,this))},remove:function(e){var t=this,n,i=t.editors,r;if(!e){for(n=i.length-1;n>=0;n--){t.remove(i[n])}return}if(typeof e=="string"){e=e.selector||e;c(l.select(e),function(e){t.remove(i[e.id])});return}r=e;if(!i[r.id]){return null}if(p(r)){t.fire("RemoveEditor",{editor:r})}if(!i.length){l.unbind(window,"beforeunload",m)}r.remove();return r},execCommand:function(t,n,i){var r=this,o=r.get(i);switch(t){case"mceAddEditor":if(!r.get(i)){new e(i,r.settings,r).render()}return true;case"mceRemoveEditor":if(o){o.remove()}return true;case"mceToggleEditor":if(!o){r.execCommand("mceAddEditor",0,i);return true}if(o.isHidden()){o.show()}else{o.hide()}return true}if(r.activeEditor){return r.activeEditor.execCommand(t,n,i)}return false},triggerSave:function(){c(this.editors,function(e){e.save()})},addI18n:function(e,t){a.add(e,t)},translate:function(e){return a.translate(e)}};f(h,o);h.setup();window.tinymce=window.tinyMCE=h;return h});r("tinymce/LegacyInput",["tinymce/EditorManager","tinymce/util/Tools"],function(e,t){var n=t.each,i=t.explode;e.on("AddEditor",function(e){var t=e.editor;t.on("preInit",function(){var e,r,o,a=t.settings;function s(e,t){n(t,function(t,n){if(t){o.setStyle(e,n,t)}});o.rename(e,"span")}function l(i){o=t.dom;if(a.convert_fonts_to_spans){n(o.select("font,u,strike",i.node),function(t){e[t.nodeName.toLowerCase()](o,t)})}}if(a.inline_styles){r=i(a.font_size_legacy_values);e={font:function(e,t){s(t,{backgroundColor:t.style.backgroundColor,color:t.color,fontFamily:t.face,fontSize:r[parseInt(t.size,10)-1]})},u:function(e,t){s(t,{textDecoration:"underline"})},strike:function(e,t){s(t,{textDecoration:"line-through"})}};t.on("PreProcess SetContent",l)}})})});r("tinymce/util/XHR",[],function(){return{send:function(e){var t,n=0;function i(){if(!e.async||t.readyState==4||n++>1e4){if(e.success&&n<1e4&&t.status==200){e.success.call(e.success_scope,""+t.responseText,t,e)}else if(e.error){e.error.call(e.error_scope,n>1e4?"TIMED_OUT":"GENERAL",t,e)}t=null}else{setTimeout(i,10)}}e.scope=e.scope||this;e.success_scope=e.success_scope||e.scope;e.error_scope=e.error_scope||e.scope;e.async=e.async===false?false:true;e.data=e.data||"";t=new XMLHttpRequest;if(t){if(t.overrideMimeType){t.overrideMimeType(e.content_type)}t.open(e.type||(e.data?"POST":"GET"),e.url,e.async);if(e.content_type){t.setRequestHeader("Content-Type",e.content_type)}t.setRequestHeader("X-Requested-With","XMLHttpRequest");t.send(e.data);if(!e.async){return i()}setTimeout(i,10)}}}});r("tinymce/util/JSON",[],function(){function e(t,n){var i,r,o,a;n=n||'"';if(t===null){return"null"}o=typeof t;if(o=="string"){r="\bb\tt\nn\ff\rr\"\"''\\\\";return n+t.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(e,t){if(n==='"'&&e==="'"){return e}i=r.indexOf(t);if(i+1){return"\\"+r.charAt(i+1)}e=t.charCodeAt().toString(16);return"\\u"+"0000".substring(e.length)+e})+n}if(o=="object"){if(t.hasOwnProperty&&Object.prototype.toString.call(t)==="[object Array]"){for(i=0,r="[";i<t.length;i++){r+=(i>0?",":"")+e(t[i],n)}return r+"]"}r="{";for(a in t){if(t.hasOwnProperty(a)){r+=typeof t[a]!="function"?(r.length>1?","+n:n)+a+n+":"+e(t[a],n):""}}return r+"}"}return""+t}return{serialize:e,parse:function(e){try{return window[String.fromCharCode(101)+"val"]("("+e+")")}catch(e){}}}});r("tinymce/util/JSONRequest",["tinymce/util/JSON","tinymce/util/XHR","tinymce/util/Tools"],function(e,t,n){var i=n.extend;function r(e){this.settings=i({},e);this.count=0}r.sendRPC=function(e){return(new r).send(e)};r.prototype={send:function(n){var r=n.error,o=n.success;n=i(this.settings,n);n.success=function(t,i){t=e.parse(t);if(typeof t=="undefined"){t={error:"JSON Parse error."}}if(t.error){r.call(n.error_scope||n.scope,t.error,i)}else{o.call(n.success_scope||n.scope,t.result)}};n.error=function(e,t){if(r){r.call(n.error_scope||n.scope,e,t)}};n.data=e.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params});n.content_type="application/json";t.send(n)}};return r});r("tinymce/util/JSONP",["tinymce/dom/DOMUtils"],function(e){
return{callbacks:{},count:0,send:function(n){var i=this,r=e.DOM,o=n.count!==t?n.count:i.count;var a="tinymce_jsonp_"+o;i.callbacks[o]=function(e){r.remove(a);delete i.callbacks[o];n.callback(e)};r.add(r.doc.body,"script",{id:a,src:n.url,type:"text/javascript"});i.count++}}});r("tinymce/util/LocalStorage",[],function(){var e,n,i,r,o,a;try{if(window.localStorage){return localStorage}}catch(e){}o="tinymce";n=document.documentElement;a=!!n.addBehavior;if(a){n.addBehavior("#default#userData")}function s(){r=[];for(var t in i){r.push(t)}e.length=r.length}function l(){var e,r,l,u=0;i={};if(!a){return}function c(e){var n,i;i=e!==t?u+e:r.indexOf(",",u);if(i===-1||i>r.length){return null}n=r.substring(u,i);u=i+1;return n}n.load(o);r=n.getAttribute(o)||"";do{var f=c();if(f===null){break}e=c(parseInt(f,32)||0);if(e!==null){f=c();if(f===null){break}l=c(parseInt(f,32)||0);if(e){i[e]=l}}}while(e!==null);s()}function u(){var e,t="";if(!a){return}for(var r in i){e=i[r];t+=(t?",":"")+r.length.toString(32)+","+r+","+e.length.toString(32)+","+e}n.setAttribute(o,t);try{n.save(o)}catch(e){}s()}e={key:function(e){return r[e]},getItem:function(e){return e in i?i[e]:null},setItem:function(e,t){i[e]=""+t;u()},removeItem:function(e){delete i[e];u()},clear:function(){i={};u()}};l();return e});r("tinymce/Compat",["tinymce/dom/DOMUtils","tinymce/dom/EventUtils","tinymce/dom/ScriptLoader","tinymce/AddOnManager","tinymce/util/Tools","tinymce/Env"],function(e,t,n,i,r,o){var a=window.tinymce;a.DOM=e.DOM;a.ScriptLoader=n.ScriptLoader;a.PluginManager=i.PluginManager;a.ThemeManager=i.ThemeManager;a.dom=a.dom||{};a.dom.Event=t.Event;r.each(r,function(e,t){a[t]=e});r.each("isOpera isWebKit isIE isGecko isMac".split(" "),function(e){a[e]=o[e.substr(2).toLowerCase()]});return{}});r("tinymce/ui/Layout",["tinymce/util/Class","tinymce/util/Tools"],function(e,t){"use strict";return e.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(e){this.settings=t.extend({},this.Defaults,e)},preRender:function(e){e.addClass(this.settings.containerClass,"body")},applyClasses:function(e){var t=this,n=t.settings,i,r,o;i=e.items().filter(":visible");r=n.firstControlClass;o=n.lastControlClass;i.each(function(e){e.removeClass(r).removeClass(o);if(n.controlClass){e.addClass(n.controlClass)}});i.eq(0).addClass(r);i.eq(-1).addClass(o)},renderHtml:function(e){var t=this,n=t.settings,i,r="";i=e.items();i.eq(0).addClass(n.firstControlClass);i.eq(-1).addClass(n.lastControlClass);i.each(function(e){if(n.controlClass){e.addClass(n.controlClass)}r+=e.renderHtml()});return r},recalc:function(){},postRender:function(){}})});r("tinymce/ui/AbsoluteLayout",["tinymce/ui/Layout"],function(e){"use strict";return e.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(e){e.items().filter(":visible").each(function(e){var t=e.settings;e.layoutRect({x:t.x,y:t.y,w:t.w,h:t.h});if(e.recalc){e.recalc()}})},renderHtml:function(e){return'<div id="'+e._id+'-absend" class="'+e.classPrefix+'abs-end"></div>'+this._super(e)}})});r("tinymce/ui/Tooltip",["tinymce/ui/Control","tinymce/ui/Movable"],function(e,t){return e.extend({Mixins:[t],Defaults:{classes:"widget tooltip tooltip-n"},text:function(e){var t=this;if(typeof e!="undefined"){t._value=e;if(t._rendered){t.getEl().lastChild.innerHTML=t.encode(e)}return t}return t._value},renderHtml:function(){var e=this,t=e.classPrefix;return'<div id="'+e._id+'" class="'+e.classes()+'" role="presentation">'+'<div class="'+t+'tooltip-arrow"></div>'+'<div class="'+t+'tooltip-inner">'+e.encode(e._text)+"</div>"+"</div>"},repaint:function(){var e=this,t,n;t=e.getEl().style;n=e._layoutRect;t.left=n.x+"px";t.top=n.y+"px";t.zIndex=65535+65535}})});r("tinymce/ui/Widget",["tinymce/ui/Control","tinymce/ui/Tooltip"],function(e,t){"use strict";var n;var i=e.extend({init:function(e){var t=this;t._super(e);e=t.settings;t.canFocus=true;if(e.tooltip&&i.tooltips!==false){t.on("mouseenter",function(n){var i=t.tooltip().moveTo(-65535);if(n.control==t){var r=i.text(e.tooltip).show().testMoveRel(t.getEl(),["bc-tc","bc-tl","bc-tr"]);i.toggleClass("tooltip-n",r=="bc-tc");i.toggleClass("tooltip-nw",r=="bc-tl");i.toggleClass("tooltip-ne",r=="bc-tr");i.moveRel(t.getEl(),r)}else{i.hide()}});t.on("mouseleave mousedown click",function(){t.tooltip().hide()})}t.aria("label",e.ariaLabel||e.tooltip)},tooltip:function(){if(!n){n=new t({type:"tooltip"});n.renderTo()}return n},active:function(e){var t=this,n;if(e!==n){t.aria("pressed",e);t.toggleClass("active",e)}return t._super(e)},disabled:function(e){var t=this,n;if(e!==n){t.aria("disabled",e);t.toggleClass("disabled",e)}return t._super(e)},postRender:function(){var e=this,t=e.settings;e._rendered=true;e._super();if(!e.parent()&&(t.width||t.height)){e.initLayoutRect();e.repaint()}if(t.autofocus){e.focus()}},remove:function(){this._super();if(n){n.remove();n=null}}});return i});r("tinymce/ui/Button",["tinymce/ui/Widget"],function(e){"use strict";return e.extend({Defaults:{classes:"widget btn",role:"button"},init:function(e){var t=this,n;t.on("click mousedown",function(e){e.preventDefault()});t._super(e);n=e.size;if(e.subtype){t.addClass(e.subtype)}if(n){t.addClass("btn-"+n)}},icon:function(e){var t=this,n=t.classPrefix;if(typeof e=="undefined"){return t.settings.icon}t.settings.icon=e;e=e?n+"ico "+n+"i-"+t.settings.icon:"";if(t._rendered){var i=t.getEl().firstChild,r=i.getElementsByTagName("i")[0];if(e){if(!r||r!=i.firstChild){r=document.createElement("i");i.insertBefore(r,i.firstChild)}r.className=e}else if(r){i.removeChild(r)}t.text(t._text)}return t},repaint:function(){var e=this.getEl().firstChild.style;e.width=e.height="100%";this._super()},text:function(e){var t=this;if(t._rendered){var n=t.getEl().lastChild.lastChild;if(n){n.data=t.translate(e)}}return t._super(e)},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix;var i=e.settings.icon,r;r=e.settings.image;if(r){i="none";if(typeof r!="string"){r=window.getSelection?r[0]:r[1]}r=" style=\"background-image: url('"+r+"')\""}else{r=""}i=e.settings.icon?n+"ico "+n+"i-"+i:"";return'<div id="'+t+'" class="'+e.classes()+'" tabindex="-1" aria-labelledby="'+t+'">'+'<button role="presentation" type="button" tabindex="-1">'+(i?'<i class="'+i+'"'+r+"></i>":"")+(e._text?(i?" ":"")+e.encode(e._text):"")+"</button>"+"</div>"}})});r("tinymce/ui/ButtonGroup",["tinymce/ui/Container"],function(e){"use strict";return e.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var e=this,t=e._layout;e.addClass("btn-group");e.preRender();t.preRender(e);return'<div id="'+e._id+'" class="'+e.classes()+'">'+'<div id="'+e._id+'-body">'+(e.settings.html||"")+t.renderHtml(e)+"</div>"+"</div>"}})});r("tinymce/ui/Checkbox",["tinymce/ui/Widget"],function(e){"use strict";return e.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:false},init:function(e){var t=this;t._super(e);t.on("click mousedown",function(e){e.preventDefault()});t.on("click",function(e){e.preventDefault();if(!t.disabled()){t.checked(!t.checked())}});t.checked(t.settings.checked)},checked:function(e){var t=this;if(typeof e!="undefined"){if(e){t.addClass("checked")}else{t.removeClass("checked")}t._checked=e;t.aria("checked",e);return t}return t._checked},value:function(e){return this.checked(e)},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix;return'<div id="'+t+'" class="'+e.classes()+'" unselectable="on" aria-labelledby="'+t+'-al" tabindex="-1">'+'<i class="'+n+"ico "+n+'i-checkbox"></i>'+'<span id="'+t+'-al" class="'+n+'label">'+e.encode(e._text)+"</span>"+"</div>"}})});r("tinymce/ui/PanelButton",["tinymce/ui/Button","tinymce/ui/FloatPanel"],function(e,t){"use strict";return e.extend({showPanel:function(){var e=this,n=e.settings;e.active(true);if(!e.panel){var i=n.panel;if(i.type){i={layout:"grid",items:i}}i.role=i.role||"dialog";i.popover=true;i.autohide=true;i.ariaRoot=true;e.panel=new t(i).on("hide",function(){e.active(false)}).on("cancel",function(t){t.stopPropagation();e.focus();e.hidePanel()}).parent(e).renderTo(e.getContainerElm());e.panel.fire("show");e.panel.reflow()}else{e.panel.show()}e.panel.moveRel(e.getEl(),n.popoverAlign||(e.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){var e=this;if(e.panel){e.panel.hide()}},postRender:function(){var e=this;e.aria("haspopup",true);e.on("click",function(t){if(t.control===e){if(e.panel&&e.panel.visible()){e.hidePanel()}else{e.showPanel();e.panel.focus(!!t.aria)}}});return e._super()}})});r("tinymce/ui/ColorButton",["tinymce/ui/PanelButton","tinymce/dom/DOMUtils"],function(e,t){"use strict";var n=t.DOM;return e.extend({init:function(e){this._super(e);this.addClass("colorbutton")},color:function(e){if(e){this._color=e;this.getEl("preview").style.backgroundColor=e;return this}return this._color},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix;var i=e.settings.icon?n+"ico "+n+"i-"+e.settings.icon:"";var r=e.settings.image?" style=\"background-image: url('"+e.settings.image+"')\"":"";return'<div id="'+t+'" class="'+e.classes()+'" role="button" tabindex="-1" aria-haspopup="true">'+'<button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(i?'<i class="'+i+'"'+r+"></i>":"")+'<span id="'+t+'-preview" class="'+n+'preview"></span>'+(e._text?(i?" ":"")+e._text:"")+"</button>"+'<button type="button" class="'+n+'open" hidefocus="1" tabindex="-1">'+' <i class="'+n+'caret"></i>'+"</button>"+"</div>"},postRender:function(){var e=this,t=e.settings.onclick;e.on("click",function(i){if(i.aria&&i.aria.key=="down"){return}if(i.control==e&&!n.getParent(i.target,"."+e.classPrefix+"open")){i.stopImmediatePropagation();t.call(e,i)}});delete e.settings.onclick;return e._super()}})});r("tinymce/ui/ComboBox",["tinymce/ui/Widget","tinymce/ui/Factory","tinymce/ui/DomUtils"],function(e,t,n){"use strict";return e.extend({init:function(e){var t=this;t._super(e);t.addClass("combobox");t.subinput=true;t.ariaTarget="inp";e=t.settings;e.menu=e.menu||e.values;if(e.menu){e.icon="caret"}t.on("click",function(n){var i=n.target,r=t.getEl();while(i&&i!=r){if(i.id&&i.id.indexOf("-open")!=-1){t.fire("action");if(e.menu){t.showMenu();if(n.aria){t.menu.items()[0].focus()}}}i=i.parentNode}});t.on("keydown",function(e){if(e.target.nodeName=="INPUT"&&e.keyCode==13){t.parents().reverse().each(function(n){e.preventDefault();t.fire("change");if(n.hasEventListeners("submit")&&n.toJSON){n.fire("submit",{data:n.toJSON()});return false}})}});if(e.placeholder){t.addClass("placeholder");t.on("focusin",function(){if(!t._hasOnChange){n.on(t.getEl("inp"),"change",function(){t.fire("change")});t._hasOnChange=true}if(t.hasClass("placeholder")){t.getEl("inp").value="";t.removeClass("placeholder")}});t.on("focusout",function(){if(t.value().length===0){t.getEl("inp").value=e.placeholder;t.addClass("placeholder")}})}},showMenu:function(){var e=this,n=e.settings,i;if(!e.menu){i=n.menu||[];if(i.length){i={type:"menu",items:i}}else{i.type=i.type||"menu"}e.menu=t.create(i).parent(e).renderTo(e.getContainerElm());e.fire("createmenu");e.menu.reflow();e.menu.on("cancel",function(t){if(t.control===e.menu){e.focus()}});e.menu.on("show hide",function(t){t.control.items().each(function(t){t.active(t.value()==e.value())})}).fire("show");e.menu.on("select",function(t){e.value(t.control.value())});e.on("focusin",function(t){if(t.target.tagName.toUpperCase()=="INPUT"){e.menu.hide()}});e.aria("expanded",true)}e.menu.show();e.menu.layoutRect({w:e.layoutRect().w});e.menu.moveRel(e.getEl(),e.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},value:function(e){var t=this;if(typeof e!="undefined"){t._value=e;t.removeClass("placeholder");if(t._rendered){t.getEl("inp").value=e}return t}if(t._rendered){e=t.getEl("inp").value;if(e!=t.settings.placeholder){return e}return""}return t._value},disabled:function(e){var t=this;if(t._rendered&&typeof e!="undefined"){t.getEl("inp").disabled=e}return t._super(e)},focus:function(){this.getEl("inp").focus()},repaint:function(){var e=this,t=e.getEl(),i=e.getEl("open"),r=e.layoutRect();var o,a;if(i){o=r.w-n.getSize(i).width-10}else{o=r.w-10}var s=document;if(s.all&&(!s.documentMode||s.documentMode<=8)){a=e.layoutRect().h-2+"px"}n.css(t.firstChild,{width:o,lineHeight:a});e._super();return e},postRender:function(){var e=this;n.on(this.getEl("inp"),"change",function(){e.fire("change")});return e._super()},remove:function(){n.off(this.getEl("inp"));this._super()},renderHtml:function(){var e=this,t=e._id,n=e.settings,i=e.classPrefix;var r=n.value||n.placeholder||"";var o,a,s="",l="";if("spellcheck"in n){l+=' spellcheck="'+n.spellcheck+'"'}if(n.maxLength){l+=' maxlength="'+n.maxLength+'"'}if(n.size){l+=' size="'+n.size+'"'}if(n.subtype){l+=' type="'+n.subtype+'"'}if(e.disabled()){l+=' disabled="disabled"'}o=n.icon;if(o&&o!="caret"){o=i+"ico "+i+"i-"+n.icon}a=e._text;if(o||a){s='<div id="'+t+'-open" class="'+i+"btn "+i+'open" tabIndex="-1" role="button">'+'<button id="'+t+'-action" type="button" hidefocus="1" tabindex="-1">'+(o!="caret"?'<i class="'+o+'"></i>':'<i class="'+i+'caret"></i>')+(a?(o?" ":"")+a:"")+"</button>"+"</div>";e.addClass("has-open")}return'<div id="'+t+'" class="'+e.classes()+'">'+'<input id="'+t+'-inp" class="'+i+"textbox "+i+'placeholder" value="'+r+'" hidefocus="1"'+l+" />"+s+"</div>"}})});r("tinymce/ui/Path",["tinymce/ui/Widget"],function(e){"use strict";return e.extend({init:function(e){var t=this;if(!e.delimiter){e.delimiter="»"}t._super(e);t.addClass("path");t.canFocus=true;t.on("click",function(e){var n,i=e.target;if(n=i.getAttribute("data-index")){t.fire("select",{value:t.data()[n],index:n})}})},focus:function(){var e=this;e.getEl().firstChild.focus();return e},data:function(e){var t=this;if(typeof e!=="undefined"){t._data=e;t.update();return t}return t._data},update:function(){this.innerHtml(this._getPathHtml())},postRender:function(){var e=this;e._super();e.data(e.settings.data)},renderHtml:function(){var e=this;return'<div id="'+e._id+'" class="'+e.classes()+'">'+e._getPathHtml()+"</div>"},_getPathHtml:function(){var e=this,t=e._data||[],n,i,r="",o=e.classPrefix;for(n=0,i=t.length;n<i;n++){r+=(n>0?'<div class="'+o+'divider" aria-hidden="true"> '+e.settings.delimiter+" </div>":"")+'<div role="button" class="'+o+"path-item"+(n==i-1?" "+o+"last":"")+'" data-index="'+n+'" tabindex="-1" id="'+e._id+"-"+n+'" aria-level="'+n+'">'+t[n].name+"</div>"}if(!r){r='<div class="'+o+'path-item"> </div>'}return r}})});r("tinymce/ui/ElementPath",["tinymce/ui/Path","tinymce/EditorManager"],function(e,t){return e.extend({postRender:function(){var e=this,n=t.activeEditor;function i(e){if(e.nodeType===1){if(e.nodeName=="BR"||!!e.getAttribute("data-mce-bogus")){return true}if(e.getAttribute("data-mce-type")==="bookmark"){return true}}return false}e.on("select",function(e){var t=[],r,o=n.getBody();n.focus();r=n.selection.getStart();while(r&&r!=o){if(!i(r)){t.push(r)}r=r.parentNode}n.selection.select(t[t.length-1-e.index]);n.nodeChanged()});n.on("nodeChange",function(t){var r=[],o=t.parents,a=o.length;while(a--){if(o[a].nodeType==1&&!i(o[a])){var s=n.fire("ResolveName",{name:o[a].nodeName.toLowerCase(),target:o[a]});r.push({name:s.name})}}e.data(r)});return e._super()}})});r("tinymce/ui/FormItem",["tinymce/ui/Container"],function(e){"use strict";return e.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;e.addClass("formitem");t.preRender(e);return'<div id="'+e._id+'" class="'+e.classes()+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<div id="'+e._id+'-title" class="'+n+'title">'+e.settings.title+"</div>":"")+'<div id="'+e._id+'-body" class="'+e.classes("body")+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div>"+"</div>"}})});r("tinymce/ui/Form",["tinymce/ui/Container","tinymce/ui/FormItem"],function(e,t){"use strict";return e.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var e=this,n=e.items();n.each(function(n){var i,r=n.settings.label;if(r){i=new t({layout:"flex",autoResize:"overflow",defaults:{flex:1},items:[{type:"label",id:n._id+"-l",text:r,flex:0,forId:n._id,disabled:n.disabled()}]});i.type="formitem";n.aria("labelledby",n._id+"-l");if(typeof n.settings.flex=="undefined"){n.settings.flex=1}e.replace(n,i);i.add(n)}})},recalcLabels:function(){var e=this,t=0,n=[],i,r;if(e.settings.labelGapCalc===false){return}e.items().filter("formitem").each(function(e){var i=e.items()[0],r=i.getEl().clientWidth;t=r>t?r:t;n.push(i)});r=e.settings.labelGap||0;i=n.length;while(i--){n[i].settings.minWidth=t+r}},visible:function(e){var t=this._super(e);if(e===true&&this._rendered){this.recalcLabels()}return t},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){var e=this;e._super();e.recalcLabels();e.fromJSON(e.settings.data)}})});r("tinymce/ui/FieldSet",["tinymce/ui/Form"],function(e){"use strict";return e.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;e.preRender();t.preRender(e);return'<fieldset id="'+e._id+'" class="'+e.classes()+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<legend id="'+e._id+'-title" class="'+n+'fieldset-title">'+e.settings.title+"</legend>":"")+'<div id="'+e._id+'-body" class="'+e.classes("body")+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div>"+"</fieldset>"}})});r("tinymce/ui/FilePicker",["tinymce/ui/ComboBox"],function(e){"use strict";return e.extend({init:function(e){var t=this,n=tinymce.activeEditor,i;e.spellcheck=false;i=n.settings.file_browser_callback;if(i){e.icon="browse";e.onaction=function(){i(t.getEl("inp").id,t.getEl("inp").value,e.filetype,window)}}t._super(e)}})});r("tinymce/ui/FitLayout",["tinymce/ui/AbsoluteLayout"],function(e){"use strict";return e.extend({recalc:function(e){var t=e.layoutRect(),n=e.paddingBox();e.items().filter(":visible").each(function(e){e.layoutRect({x:n.left,y:n.top,w:t.innerW-n.right-n.left,h:t.innerH-n.top-n.bottom});if(e.recalc){e.recalc()}})}})});r("tinymce/ui/FlexLayout",["tinymce/ui/AbsoluteLayout"],function(e){"use strict";return e.extend({recalc:function(e){var t,n,i,r,o,a,s,l,u,c,f,d;var m,h,p,g,v=[],y,b,C,w,x,_;var E,N,S,k,T,R,A,B;var D,L,M,P,H,O;var I,F;var z=Math.max,W=Math.min;i=e.items().filter(":visible");r=e.layoutRect();o=e._paddingBox;a=e.settings;d=e.isRtl()?a.direction||"row-reversed":a.direction;s=a.align;l=e.isRtl()?a.pack||"end":a.pack;u=a.spacing||0;if(d=="row-reversed"||d=="column-reverse"){i=i.set(i.toArray().reverse());d=d.split("-")[0]}if(d=="column"){S="y";E="h";N="minH";k="maxH";R="innerH";T="top";A="deltaH";B="contentH";H="left";M="w";D="x";L="innerW";P="minW";O="right";I="deltaW";F="contentW"}else{S="x";E="w";N="minW";k="maxW";R="innerW";T="left";A="deltaW";B="contentW";H="top";M="h";D="y";L="innerH";P="minH";O="bottom";I="deltaH";F="contentH"}f=r[R]-o[T]-o[T];_=c=0;for(t=0,n=i.length;t<n;t++){m=i[t];h=m.layoutRect();p=m.settings;g=p.flex;f-=t<n-1?u:0;if(g>0){c+=g;if(h[k]){v.push(m)}h.flex=g}f-=h[N];y=o[H]+h[P]+o[O];if(y>_){_=y}}w={};if(f<0){w[N]=r[N]-f+r[A]}else{w[N]=r[R]-f+r[A]}w[P]=_+r[I];w[B]=r[R]-f;w[F]=_;w.minW=W(w.minW,r.maxW);w.minH=W(w.minH,r.maxH);w.minW=z(w.minW,r.startMinWidth);w.minH=z(w.minH,r.startMinHeight);if(r.autoResize&&(w.minW!=r.minW||w.minH!=r.minH)){w.w=w.minW;w.h=w.minH;e.layoutRect(w);this.recalc(e);if(e._lastRect===null){var U=e.parent();if(U){U._lastRect=null;U.recalc()}}return}C=f/c;for(t=0,n=v.length;t<n;t++){m=v[t];h=m.layoutRect();b=h[k];y=h[N]+h.flex*C;if(y>b){f-=h[k]-h[N];c-=h.flex;h.flex=0;h.maxFlexSize=b}else{h.maxFlexSize=0}}C=f/c;x=o[T];w={};if(c===0){if(l=="end"){x=f+o[T]}else if(l=="center"){x=Math.round(r[R]/2-(r[R]-f)/2)+o[T];if(x<0){x=o[T]}}else if(l=="justify"){x=o[T];u=Math.floor(f/(i.length-1))}}w[D]=o[H];for(t=0,n=i.length;t<n;t++){m=i[t];h=m.layoutRect();y=h.maxFlexSize||h[N];if(s==="center"){w[D]=Math.round(r[L]/2-h[M]/2)}else if(s==="stretch"){w[M]=z(h[P]||0,r[L]-o[H]-o[O]);w[D]=o[H]}else if(s==="end"){w[D]=r[L]-h[M]-o.top}if(h.flex>0){y+=h.flex*C}w[E]=y;w[S]=x;m.layoutRect(w);if(m.recalc){m.recalc()}x+=y+u}}})});r("tinymce/ui/FlowLayout",["tinymce/ui/Layout"],function(e){return e.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(e){e.items().filter(":visible").each(function(e){if(e.recalc){e.recalc()}})}})});r("tinymce/ui/FormatControls",["tinymce/ui/Control","tinymce/ui/Widget","tinymce/ui/FloatPanel","tinymce/util/Tools","tinymce/EditorManager","tinymce/Env"],function(e,t,n,i,r,o){var a=i.each;r.on("AddEditor",function(t){if(t.editor.rtl){e.rtl=true}s(t.editor)});e.translate=function(e){return r.translate(e)};t.tooltips=!o.iOS;function s(e){var t;function i(t,n){return function(){var i=this;e.on("nodeChange",function(r){var o=e.formatter;var s=null;a(r.parents,function(e){a(t,function(t){if(n){if(o.matchNode(e,n,{value:t.value})){s=t.value}}else{if(o.matchNode(e,t.value)){s=t.value}}if(s){return false}});if(s){return false}});i.value(s)})}}function r(e){e=e.replace(/;$/,"").split(";");var t=e.length;while(t--){e[t]=e[t].split("=")}return e}function o(){var t=0,n=[];var i=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];function r(e){var i=[];if(!e){return}a(e,function(e){var o={text:e.title,icon:e.icon};if(e.items){o.menu=r(e.items)}else{var a=e.format||"custom"+t++;if(!e.format){e.name=a;n.push(e)}o.format=a}i.push(o)});return i}function o(){var t;if(e.settings.style_formats_merge){if(e.settings.style_formats){t=r(i.concat(e.settings.style_formats))}else{t=r(i)}}else{t=r(e.settings.style_formats||i)}return t}e.on("init",function(){a(n,function(t){e.formatter.register(t.name,t)})});return{type:"menu",items:o(),onPostRender:function(t){e.fire("renderFormatsMenu",{control:t.control})},itemDefaults:{preview:true,textStyle:function(){if(this.settings.format){return e.formatter.getCssText(this.settings.format)}},onPostRender:function(){var t=this,n=this.settings.format;if(n){t.parent().on("show",function(){t.disabled(!e.formatter.canApply(n));t.active(e.formatter.match(n))})}},onclick:function(){if(this.settings.format){d(this.settings.format)}}}}}t=o();a({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(t,n){e.addButton(n,{tooltip:t,onPostRender:function(){var t=this;if(e.formatter){e.formatter.formatChanged(n,function(e){t.active(e)})}else{e.on("init",function(){e.formatter.formatChanged(n,function(e){t.active(e)})})}},onclick:function(){d(n)}})});a({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],hr:["Insert horizontal rule","InsertHorizontalRule"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(t,n){e.addButton(n,{tooltip:t[0],cmd:t[1]})});a({blockquote:["Blockquote","mceBlockQuote"],numlist:["Numbered list","InsertOrderedList"],bullist:["Bullet list","InsertUnorderedList"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"]},function(t,n){e.addButton(n,{tooltip:t[0],cmd:t[1],onPostRender:function(){var t=this;if(e.formatter){e.formatter.formatChanged(n,function(e){t.active(e)})}else{e.on("init",function(){e.formatter.formatChanged(n,function(e){t.active(e)})})}}})});function s(){return e.undoManager?e.undoManager.hasUndo():false}function l(){return e.undoManager?e.undoManager.hasRedo():false}function u(){var t=this;t.disabled(!s());e.on("Undo Redo AddUndo TypingUndo",function(){t.disabled(!s())})}function c(){var t=this;t.disabled(!l());e.on("Undo Redo AddUndo TypingUndo",function(){t.disabled(!l())})}function f(){var t=this;e.on("VisualAid",function(e){t.active(e.hasVisual)});t.active(e.hasVisual)}e.addButton("undo",{tooltip:"Undo",onPostRender:u,cmd:"undo"});e.addButton("redo",{tooltip:"Redo",onPostRender:c,cmd:"redo"});e.addMenuItem("newdocument",{text:"New document",shortcut:"Ctrl+N",icon:"newdocument",cmd:"mceNewDocument"});e.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Ctrl+Z",onPostRender:u,cmd:"undo"});e.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Ctrl+Y",onPostRender:c,cmd:"redo"});e.addMenuItem("visualaid",{text:"Visual aids",selectable:true,onPostRender:f,cmd:"mceToggleVisualAid"});a({cut:["Cut","Cut","Ctrl+X"],copy:["Copy","Copy","Ctrl+C"],paste:["Paste","Paste","Ctrl+V"],selectall:["Select all","SelectAll","Ctrl+A"],bold:["Bold","Bold","Ctrl+B"],italic:["Italic","Italic","Ctrl+I"],underline:["Underline","Underline"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(t,n){e.addMenuItem(n,{text:t[0],icon:n,shortcut:t[2],cmd:t[1]})});e.on("mousedown",function(){n.hideAll()});function d(t){if(t.control){t=t.control.value()}if(t){e.execCommand("mceToggleFormat",false,t)}}e.addButton("styleselect",{type:"menubutton",text:"Formats",menu:t});e.addButton("formatselect",function(){var t=[],n=r(e.settings.block_formats||"Paragraph=p;"+"Address=address;"+"Pre=pre;"+"Heading 1=h1;"+"Heading 2=h2;"+"Heading 3=h3;"+"Heading 4=h4;"+"Heading 5=h5;"+"Heading 6=h6");a(n,function(n){t.push({text:n[0],value:n[1],textStyle:function(){return e.formatter.getCssText(n[1])}})});return{type:"listbox",text:n[0][0],values:t,fixedWidth:true,onselect:d,onPostRender:i(t)}});e.addButton("fontselect",function(){var t="Andale Mono=andale mono,times;"+"Arial=arial,helvetica,sans-serif;"+"Arial Black=arial black,avant garde;"+"Book Antiqua=book antiqua,palatino;"+"Comic Sans MS=comic sans ms,sans-serif;"+"Courier New=courier new,courier;"+"Georgia=georgia,palatino;"+"Helvetica=helvetica;"+"Impact=impact,chicago;"+"Symbol=symbol;"+"Tahoma=tahoma,arial,helvetica,sans-serif;"+"Terminal=terminal,monaco;"+"Times New Roman=times new roman,times;"+"Trebuchet MS=trebuchet ms,geneva;"+"Verdana=verdana,geneva;"+"Webdings=webdings;"+"Wingdings=wingdings,zapf dingbats";var n=[],o=r(e.settings.font_formats||t);a(o,function(e){n.push({text:{raw:e[0]},value:e[1],textStyle:e[1].indexOf("dings")==-1?"font-family:"+e[1]:""})});return{type:"listbox",text:"Font Family",tooltip:"Font Family",values:n,fixedWidth:true,onPostRender:i(n,"fontname"),onselect:function(t){if(t.control.settings.value){e.execCommand("FontName",false,t.control.settings.value)}}}});e.addButton("fontsizeselect",function(){var t=[],n="8pt 10pt 12pt 14pt 18pt 24pt 36pt";var r=e.settings.fontsize_formats||n;a(r.split(" "),function(e){t.push({text:e,value:e})});return{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:t,fixedWidth:true,onPostRender:i(t,"fontsize"),onclick:function(t){if(t.control.settings.value){e.execCommand("FontSize",false,t.control.settings.value)}}}});e.addMenuItem("formats",{text:"Formats",menu:t})}});r("tinymce/ui/GridLayout",["tinymce/ui/AbsoluteLayout"],function(e){"use strict";return e.extend({recalc:function(e){var t=e.settings,n,i,r,o,a,s,l,u,c,f,d,m,h,p,g,v,y,b,C,w,x,_,E=[],N=[],S,k,T,R;t=e.settings;r=e.items().filter(":visible");o=e.layoutRect();i=t.columns||Math.ceil(Math.sqrt(r.length));n=Math.ceil(r.length/i);y=t.spacingH||t.spacing||0;b=t.spacingV||t.spacing||0;C=t.alignH||t.align;w=t.alignV||t.align;g=e._paddingBox;if(C&&typeof C=="string"){C=[C]}if(w&&typeof w=="string"){w=[w]}for(f=0;f<i;f++){E.push(0)}for(d=0;d<n;d++){N.push(0)}for(d=0;d<n;d++){for(f=0;f<i;f++){c=r[d*i+f];if(!c){break}u=c.layoutRect();S=u.minW;k=u.minH;E[f]=S>E[f]?S:E[f];N[d]=k>N[d]?k:N[d]}}T=o.innerW-g.left-g.right;for(x=0,f=0;f<i;f++){x+=E[f]+(f>0?y:0);T-=(f>0?y:0)+E[f]}R=o.innerH-g.top-g.bottom;for(_=0,d=0;d<n;d++){_+=N[d]+(d>0?b:0);R-=(d>0?b:0)+N[d]}x+=g.left+g.right;_+=g.top+g.bottom;l={};l.minW=x+(o.w-o.innerW);l.minH=_+(o.h-o.innerH);l.contentW=l.minW-o.deltaW;l.contentH=l.minH-o.deltaH;l.minW=Math.min(l.minW,o.maxW);l.minH=Math.min(l.minH,o.maxH);l.minW=Math.max(l.minW,o.startMinWidth);l.minH=Math.max(l.minH,o.startMinHeight);if(o.autoResize&&(l.minW!=o.minW||l.minH!=o.minH)){l.w=l.minW;l.h=l.minH;e.layoutRect(l);this.recalc(e);if(e._lastRect===null){var A=e.parent();if(A){A._lastRect=null;A.recalc()}}return}if(o.autoResize){l=e.layoutRect(l);l.contentW=l.minW-o.deltaW;l.contentH=l.minH-o.deltaH}var B;if(t.packV=="start"){B=0}else{B=R>0?Math.floor(R/n):0}var D=0;var L=t.flexWidths;if(L){for(f=0;f<L.length;f++){D+=L[f]}}else{D=i}var M=T/D;for(f=0;f<i;f++){E[f]+=L?L[f]*M:M}h=g.top;for(d=0;d<n;d++){m=g.left;s=N[d]+B;for(f=0;f<i;f++){c=r[d*i+f];if(!c){break}p=c.settings;u=c.layoutRect();a=Math.max(E[f],u.startMinWidth);u.x=m;u.y=h;v=p.alignH||(C?C[f]||C[0]:null);if(v=="center"){u.x=m+a/2-u.w/2}else if(v=="right"){u.x=m+a-u.w}else if(v=="stretch"){u.w=a}v=p.alignV||(w?w[f]||w[0]:null);if(v=="center"){u.y=h+s/2-u.h/2}else if(v=="bottom"){u.y=h+s-u.h}else if(v=="stretch"){u.h=s}c.layoutRect(u);m+=a+y;if(c.recalc){c.recalc()}}h+=s+b}}})});r("tinymce/ui/Iframe",["tinymce/ui/Widget"],function(e){"use strict";return e.extend({renderHtml:function(){var e=this;e.addClass("iframe");e.canFocus=false;return'<iframe id="'+e._id+'" class="'+e.classes()+'" tabindex="-1" src="'+(e.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(e){this.getEl().src=e},html:function(e,t){var n=this,i=this.getEl().contentWindow.document.body;if(!i){setTimeout(function(){n.html(e)},0)}else{i.innerHTML=e;if(t){t()}}return this}})});r("tinymce/ui/Label",["tinymce/ui/Widget","tinymce/ui/DomUtils"],function(e,t){"use strict";return e.extend({init:function(e){var t=this;t._super(e);t.addClass("widget");t.addClass("label");t.canFocus=false;if(e.multiline){t.addClass("autoscroll")}if(e.strong){t.addClass("strong")}},initLayoutRect:function(){var e=this,n=e._super();if(e.settings.multiline){var i=t.getSize(e.getEl());if(i.width>n.maxW){n.minW=n.maxW;e.addClass("multiline")}e.getEl().style.width=n.minW+"px";n.startMinH=n.h=n.minH=Math.min(n.maxH,t.getSize(e.getEl()).height)}return n},repaint:function(){var e=this;if(!e.settings.multiline){e.getEl().style.lineHeight=e.layoutRect().h+"px"}return e._super()},text:function(e){var t=this;if(t._rendered&&e){this.innerHtml(t.encode(e))}return t._super(e)},renderHtml:function(){var e=this,t=e.settings.forId;return'<label id="'+e._id+'" class="'+e.classes()+'"'+(t?' for="'+t+'"':"")+">"+e.encode(e._text)+"</label>"}})});r("tinymce/ui/Toolbar",["tinymce/ui/Container"],function(e){"use strict";return e.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(e){var t=this;t._super(e);t.addClass("toolbar")},postRender:function(){var e=this;e.items().addClass("toolbar-item");
return e._super()}})});r("tinymce/ui/MenuBar",["tinymce/ui/Toolbar"],function(e){"use strict";return e.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:true,defaults:{type:"menubutton"}}})});r("tinymce/ui/MenuButton",["tinymce/ui/Button","tinymce/ui/Factory","tinymce/ui/MenuBar"],function(e,t,n){"use strict";function i(e,t){while(e){if(t===e){return true}e=e.parentNode}return false}var r=e.extend({init:function(e){var t=this;t._renderOpen=true;t._super(e);t.addClass("menubtn");if(e.fixedWidth){t.addClass("fixed-width")}t.aria("haspopup",true);t.hasPopup=true},showMenu:function(){var e=this,n=e.settings,i;if(e.menu&&e.menu.visible()){return e.hideMenu()}if(!e.menu){i=n.menu||[];if(i.length){i={type:"menu",items:i}}else{i.type=i.type||"menu"}e.menu=t.create(i).parent(e).renderTo();e.fire("createmenu");e.menu.reflow();e.menu.on("cancel",function(t){if(t.control.parent()===e.menu){t.stopPropagation();e.focus();e.hideMenu()}});e.menu.on("select",function(){e.focus()});e.menu.on("show hide",function(t){if(t.control==e.menu){e.activeMenu(t.type=="show")}e.aria("expanded",t.type=="show")}).fire("show")}e.menu.show();e.menu.layoutRect({w:e.layoutRect().w});e.menu.moveRel(e.getEl(),e.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},hideMenu:function(){var e=this;if(e.menu){e.menu.items().each(function(e){if(e.hideMenu){e.hideMenu()}});e.menu.hide()}},activeMenu:function(e){this.toggleClass("active",e)},renderHtml:function(){var e=this,t=e._id,i=e.classPrefix;var r=e.settings.icon?i+"ico "+i+"i-"+e.settings.icon:"";e.aria("role",e.parent()instanceof n?"menuitem":"button");return'<div id="'+t+'" class="'+e.classes()+'" tabindex="-1" aria-labelledby="'+t+'">'+'<button id="'+t+'-open" role="presentation" type="button" tabindex="-1">'+(r?'<i class="'+r+'"></i>':"")+"<span>"+(e._text?(r?" ":"")+e.encode(e._text):"")+"</span>"+' <i class="'+i+'caret"></i>'+"</button>"+"</div>"},postRender:function(){var e=this;e.on("click",function(t){if(t.control===e&&i(t.target,e.getEl())){e.showMenu();if(t.aria){e.menu.items()[0].focus()}}});e.on("mouseenter",function(t){var n=t.control,i=e.parent(),o;if(n&&i&&n instanceof r&&n.parent()==i){i.items().filter("MenuButton").each(function(e){if(e.hideMenu&&e!=n){if(e.menu&&e.menu.visible()){o=true}e.hideMenu()}});if(o){n.focus();n.showMenu()}}});return e._super()},text:function(e){var t=this,n,i;if(t._rendered){i=t.getEl("open").getElementsByTagName("span");for(n=0;n<i.length;n++){i[n].innerHTML=(t.settings.icon&&e?" ":"")+t.encode(e)}}return this._super(e)},remove:function(){this._super();if(this.menu){this.menu.remove()}}});return r});r("tinymce/ui/ListBox",["tinymce/ui/MenuButton"],function(e){"use strict";return e.extend({init:function(e){var t=this,n,i,r,o,a;t._values=n=e.values;if(n){for(i=0;i<n.length;i++){r=n[i].selected||e.value===n[i].value;if(r){o=o||n[i].text;t._value=n[i].value;break}}if(!r&&n.length>0){o=n[0].text;t._value=n[0].value}e.menu=n}e.text=e.text||o||n[0].text;t._super(e);t.addClass("listbox");t.on("select",function(n){var i=n.control;if(a){n.lastControl=a}if(e.multiple){i.active(!i.active())}else{t.value(n.control.settings.value)}a=i})},value:function(e){var t=this,n,i,r,o;function a(e,t){e.items().each(function(e){n=e.value()===t;if(n){i=i||e.text()}e.active(n);if(e.menu){a(e.menu,t)}})}if(typeof e!="undefined"){if(t.menu){a(t.menu,e)}else{r=t.settings.menu;for(o=0;o<r.length;o++){n=r[o].value==e;if(n){i=i||r[o].text}r[o].active=n}}t.text(i||this.settings.text)}return t._super(e)}})});r("tinymce/ui/MenuItem",["tinymce/ui/Widget","tinymce/ui/Factory","tinymce/Env"],function(e,t,n){"use strict";return e.extend({Defaults:{border:0,role:"menuitem"},init:function(e){var t=this;t.hasPopup=true;t._super(e);e=t.settings;t.addClass("menu-item");if(e.menu){t.addClass("menu-item-expand")}if(e.preview){t.addClass("menu-item-preview")}if(t._text==="-"||t._text==="|"){t.addClass("menu-item-sep");t.aria("role","separator");t._text="-"}if(e.selectable){t.aria("role","menuitemcheckbox");t.addClass("menu-item-checkbox");e.icon="selected"}if(!e.preview&&!e.selectable){t.addClass("menu-item-normal")}t.on("mousedown",function(e){e.preventDefault()});if(e.menu&&!e.ariaHideMenu){t.aria("haspopup",true)}},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var e=this,n=e.settings,i,r=e.parent();r.items().each(function(t){if(t!==e){t.hideMenu()}});if(n.menu){i=e.menu;if(!i){i=n.menu;if(i.length){i={type:"menu",items:i}}else{i.type=i.type||"menu"}if(r.settings.itemDefaults){i.itemDefaults=r.settings.itemDefaults}i=e.menu=t.create(i).parent(e).renderTo();i.reflow();i.fire("show");i.on("cancel",function(t){t.stopPropagation();e.focus();i.hide()});i.on("hide",function(t){if(t.control===i){e.removeClass("selected")}});i.submenu=true}else{i.show()}i._parentMenu=r;i.addClass("menu-sub");var o=i.testMoveRel(e.getEl(),e.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);i.moveRel(e.getEl(),o);i.rel=o;o="menu-sub-"+o;i.removeClass(i._lastRel);i.addClass(o);i._lastRel=o;e.addClass("selected");e.aria("expanded",true)}},hideMenu:function(){var e=this;if(e.menu){e.menu.items().each(function(e){if(e.hideMenu){e.hideMenu()}});e.menu.hide();e.aria("expanded",false)}return e},renderHtml:function(){var e=this,t=e._id,i=e.settings,r=e.classPrefix,o=e.encode(e._text);var a=e.settings.icon,s="",l=i.shortcut;if(a){e.parent().addClass("menu-has-icons")}if(i.image){a="none";s=" style=\"background-image: url('"+i.image+"')\""}if(l&&n.mac){l=l.replace(/ctrl\+alt\+/i,"&#x2325;&#x2318;");l=l.replace(/ctrl\+/i,"&#x2318;");l=l.replace(/alt\+/i,"&#x2325;");l=l.replace(/shift\+/i,"&#x21E7;")}a=r+"ico "+r+"i-"+(e.settings.icon||"none");return'<div id="'+t+'" class="'+e.classes()+'" tabindex="-1">'+(o!=="-"?'<i class="'+a+'"'+s+"></i> ":"")+(o!=="-"?'<span id="'+t+'-text" class="'+r+'text">'+o+"</span>":"")+(l?'<div id="'+t+'-shortcut" class="'+r+'menu-shortcut">'+l+"</div>":"")+(i.menu?'<div class="'+r+'caret"></div>':"")+"</div>"},postRender:function(){var e=this,t=e.settings;var n=t.textStyle;if(typeof n=="function"){n=n.call(this)}if(n){var i=e.getEl("text");if(i){i.setAttribute("style",n)}}e.on("mouseenter click",function(n){if(n.control===e){if(!t.menu&&n.type==="click"){e.fire("select");e.parent().hideAll()}else{e.showMenu();if(n.aria){e.menu.focus(true)}}}});e._super();return e},active:function(e){if(typeof e!="undefined"){this.aria("checked",e)}return this._super(e)},remove:function(){this._super();if(this.menu){this.menu.remove()}}})});r("tinymce/ui/Menu",["tinymce/ui/FloatPanel","tinymce/ui/MenuItem","tinymce/util/Tools"],function(e,t,n){"use strict";var i=e.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:true},init:function(e){var t=this;e.autohide=true;e.constrainToViewport=true;if(e.itemDefaults){var i=e.items,r=i.length;while(r--){i[r]=n.extend({},e.itemDefaults,i[r])}}t._super(e);t.addClass("menu")},repaint:function(){this.toggleClass("menu-align",true);this._super();this.getEl().style.height="";this.getEl("body").style.height="";return this},cancel:function(){var e=this;e.hideAll();e.fire("select")},hideAll:function(){var e=this;this.find("menuitem").exec("hideMenu");return e._super()},preRender:function(){var e=this;e.items().each(function(t){var n=t.settings;if(n.icon||n.selectable){e._hasIcons=true;return false}});return e._super()}});return i});r("tinymce/ui/Radio",["tinymce/ui/Checkbox"],function(e){"use strict";return e.extend({Defaults:{classes:"radio",role:"radio"}})});r("tinymce/ui/ResizeHandle",["tinymce/ui/Widget","tinymce/ui/DragHelper"],function(e,t){"use strict";return e.extend({renderHtml:function(){var e=this,t=e.classPrefix;e.addClass("resizehandle");if(e.settings.direction=="both"){e.addClass("resizehandle-both")}e.canFocus=false;return'<div id="'+e._id+'" class="'+e.classes()+'">'+'<i class="'+t+"ico "+t+'i-resize"></i>'+"</div>"},postRender:function(){var e=this;e._super();e.resizeDragHelper=new t(this._id,{start:function(){e.fire("ResizeStart")},drag:function(t){if(e.settings.direction!="both"){t.deltaX=0}e.fire("Resize",t)},stop:function(){e.fire("ResizeEnd")}})},remove:function(){if(this.resizeDragHelper){this.resizeDragHelper.destroy()}return this._super()}})});r("tinymce/ui/Spacer",["tinymce/ui/Widget"],function(e){"use strict";return e.extend({renderHtml:function(){var e=this;e.addClass("spacer");e.canFocus=false;return'<div id="'+e._id+'" class="'+e.classes()+'"></div>'}})});r("tinymce/ui/SplitButton",["tinymce/ui/MenuButton","tinymce/ui/DomUtils"],function(e,t){return e.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var e=this,n=e.getEl(),i=e.layoutRect(),r,o;e._super();r=n.firstChild;o=n.lastChild;t.css(r,{width:i.w-t.getSize(o).width,height:i.h-2});t.css(o,{height:i.h-2});return e},activeMenu:function(e){var n=this;t.toggleClass(n.getEl().lastChild,n.classPrefix+"active",e)},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix;var i=e.settings.icon?n+"ico "+n+"i-"+e.settings.icon:"";return'<div id="'+t+'" class="'+e.classes()+'" role="button" tabindex="-1">'+'<button type="button" hidefocus="1" tabindex="-1">'+(i?'<i class="'+i+'"></i>':"")+(e._text?(i?" ":"")+e._text:"")+"</button>"+'<button type="button" class="'+n+'open" hidefocus="1" tabindex="-1">'+(e._menuBtnText?(i?" ":"")+e._menuBtnText:"")+' <i class="'+n+'caret"></i>'+"</button>"+"</div>"},postRender:function(){var e=this,t=e.settings.onclick;e.on("click",function(e){var n=e.target;if(e.control==this){while(n){if(e.aria&&e.aria.key!="down"||n.nodeName=="BUTTON"&&n.className.indexOf("open")==-1){e.stopImmediatePropagation();t.call(this,e);return}n=n.parentNode}}});delete e.settings.onclick;return e._super()}})});r("tinymce/ui/StackLayout",["tinymce/ui/FlowLayout"],function(e){"use strict";return e.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"}})});r("tinymce/ui/TabPanel",["tinymce/ui/Panel","tinymce/ui/DomUtils"],function(e,t){"use strict";return e.extend({lastIdx:0,Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(e){var n;if(this.activeTabId){n=this.getEl(this.activeTabId);t.removeClass(n,this.classPrefix+"active");n.setAttribute("aria-selected","false")}this.activeTabId="t"+e;n=this.getEl("t"+e);n.setAttribute("aria-selected","true");t.addClass(n,this.classPrefix+"active");if(e!=this.lastIdx){this.items()[this.lastIdx].hide();this.lastIdx=e}this.items()[e].show().fire("showtab");this.reflow()},renderHtml:function(){var e=this,t=e._layout,n="",i=e.classPrefix;e.preRender();t.preRender(e);e.items().each(function(t,r){var o=e._id+"-t"+r;t.aria("role","tabpanel");t.aria("labelledby",o);n+='<div id="'+o+'" class="'+i+'tab" '+'unselectable="on" role="tab" aria-controls="'+t._id+'" aria-selected="false" tabIndex="-1">'+e.encode(t.settings.title)+"</div>"});return'<div id="'+e._id+'" class="'+e.classes()+'" hidefocus="1" tabindex="-1">'+'<div id="'+e._id+'-head" class="'+i+'tabs" role="tablist">'+n+"</div>"+'<div id="'+e._id+'-body" class="'+e.classes("body")+'">'+t.renderHtml(e)+"</div>"+"</div>"},postRender:function(){var e=this;e._super();e.settings.activeTab=e.settings.activeTab||0;e.activateTab(e.settings.activeTab);this.on("click",function(t){var n=t.target.parentNode;if(t.target.parentNode.id==e._id+"-head"){var i=n.childNodes.length;while(i--){if(n.childNodes[i]==t.target){e.activateTab(i)}}}})},initLayoutRect:function(){var e=this,n,i,r;i=t.getSize(e.getEl("head")).width;i=i<0?0:i;r=0;e.items().each(function(t,n){i=Math.max(i,t.layoutRect().minW);r=Math.max(r,t.layoutRect().minH);if(e.settings.activeTab!=n){t.hide()}});e.items().each(function(e){e.settings.x=0;e.settings.y=0;e.settings.w=i;e.settings.h=r;e.layoutRect({x:0,y:0,w:i,h:r})});var o=t.getSize(e.getEl("head")).height;e.settings.minWidth=i;e.settings.minHeight=r+o;n=e._super();n.deltaH+=o;n.innerH=n.h-n.deltaH;return n}})});r("tinymce/ui/TextBox",["tinymce/ui/Widget","tinymce/ui/DomUtils"],function(e,t){"use strict";return e.extend({init:function(e){var t=this;t._super(e);t._value=e.value||"";t.addClass("textbox");if(e.multiline){t.addClass("multiline")}else{t.on("keydown",function(e){if(e.keyCode==13){t.parents().reverse().each(function(t){e.preventDefault();if(t.hasEventListeners("submit")&&t.toJSON){t.fire("submit",{data:t.toJSON()});return false}})}})}},disabled:function(e){var t=this;if(t._rendered&&typeof e!="undefined"){t.getEl().disabled=e}return t._super(e)},value:function(e){var t=this;if(typeof e!="undefined"){t._value=e;if(t._rendered){t.getEl().value=e}return t}if(t._rendered){return t.getEl().value}return t._value},repaint:function(){var e=this,t,n,i,r=0,o=0,a;t=e.getEl().style;n=e._layoutRect;a=e._lastRepaintRect||{};var s=document;if(!e.settings.multiline&&s.all&&(!s.documentMode||s.documentMode<=8)){t.lineHeight=n.h-o+"px"}i=e._borderBox;r=i.left+i.right+8;o=i.top+i.bottom+(e.settings.multiline?8:0);if(n.x!==a.x){t.left=n.x+"px";a.x=n.x}if(n.y!==a.y){t.top=n.y+"px";a.y=n.y}if(n.w!==a.w){t.width=n.w-r+"px";a.w=n.w}if(n.h!==a.h){t.height=n.h-o+"px";a.h=n.h}e._lastRepaintRect=a;e.fire("repaint",{},false);return e},renderHtml:function(){var e=this,t=e._id,n=e.settings,i=e.encode(e._value,false),r="";if("spellcheck"in n){r+=' spellcheck="'+n.spellcheck+'"'}if(n.maxLength){r+=' maxlength="'+n.maxLength+'"'}if(n.size){r+=' size="'+n.size+'"'}if(n.subtype){r+=' type="'+n.subtype+'"'}if(e.disabled()){r+=' disabled="disabled"'}if(n.multiline){return'<textarea id="'+t+'" class="'+e.classes()+'" '+(n.rows?' rows="'+n.rows+'"':"")+' hidefocus="1"'+r+">"+i+"</textarea>"}return'<input id="'+t+'" class="'+e.classes()+'" value="'+i+'" hidefocus="1"'+r+" />"},postRender:function(){var e=this;t.on(e.getEl(),"change",function(t){e.fire("change",t)});return e._super()},remove:function(){t.off(this.getEl());this._super()}})});r("tinymce/ui/Throbber",["tinymce/ui/DomUtils","tinymce/ui/Control"],function(e,t){"use strict";return function(n,i){var r=this,o,a=t.classPrefix;r.show=function(t){r.hide();o=true;window.setTimeout(function(){if(o){n.appendChild(e.createFragment('<div class="'+a+"throbber"+(i?" "+a+"throbber-inline":"")+'"></div>'))}},t||0);return r};r.hide=function(){var e=n.lastChild;if(e&&e.className.indexOf("throbber")!=-1){e.parentNode.removeChild(e)}o=false;return r}}});s(["tinymce/dom/EventUtils","tinymce/dom/Sizzle","tinymce/dom/DomQuery","tinymce/html/Styles","tinymce/dom/TreeWalker","tinymce/util/Tools","tinymce/dom/Range","tinymce/html/Entities","tinymce/Env","tinymce/dom/StyleSheetLoader","tinymce/dom/DOMUtils","tinymce/dom/ScriptLoader","tinymce/AddOnManager","tinymce/html/Node","tinymce/html/Schema","tinymce/html/SaxParser","tinymce/html/DomParser","tinymce/html/Writer","tinymce/html/Serializer","tinymce/dom/Serializer","tinymce/dom/TridentSelection","tinymce/util/VK","tinymce/dom/ControlSelection","tinymce/dom/RangeUtils","tinymce/dom/Selection","tinymce/fmt/Preview","tinymce/Formatter","tinymce/UndoManager","tinymce/EnterKey","tinymce/ForceBlocks","tinymce/EditorCommands","tinymce/util/URI","tinymce/util/Class","tinymce/ui/Selector","tinymce/ui/Collection","tinymce/ui/DomUtils","tinymce/ui/Control","tinymce/ui/Factory","tinymce/ui/KeyboardNavigation","tinymce/ui/Container","tinymce/ui/DragHelper","tinymce/ui/Scrollable","tinymce/ui/Panel","tinymce/ui/Movable","tinymce/ui/Resizable","tinymce/ui/FloatPanel","tinymce/ui/Window","tinymce/ui/MessageBox","tinymce/WindowManager","tinymce/util/Quirks","tinymce/util/Observable","tinymce/Shortcuts","tinymce/Editor","tinymce/util/I18n","tinymce/FocusManager","tinymce/EditorManager","tinymce/LegacyInput","tinymce/util/XHR","tinymce/util/JSON","tinymce/util/JSONRequest","tinymce/util/JSONP","tinymce/util/LocalStorage","tinymce/Compat","tinymce/ui/Layout","tinymce/ui/AbsoluteLayout","tinymce/ui/Tooltip","tinymce/ui/Widget","tinymce/ui/Button","tinymce/ui/ButtonGroup","tinymce/ui/Checkbox","tinymce/ui/PanelButton","tinymce/ui/ColorButton","tinymce/ui/ComboBox","tinymce/ui/Path","tinymce/ui/ElementPath","tinymce/ui/FormItem","tinymce/ui/Form","tinymce/ui/FieldSet","tinymce/ui/FilePicker","tinymce/ui/FitLayout","tinymce/ui/FlexLayout","tinymce/ui/FlowLayout","tinymce/ui/FormatControls","tinymce/ui/GridLayout","tinymce/ui/Iframe","tinymce/ui/Label","tinymce/ui/Toolbar","tinymce/ui/MenuBar","tinymce/ui/MenuButton","tinymce/ui/ListBox","tinymce/ui/MenuItem","tinymce/ui/Menu","tinymce/ui/Radio","tinymce/ui/ResizeHandle","tinymce/ui/Spacer","tinymce/ui/SplitButton","tinymce/ui/StackLayout","tinymce/ui/TabPanel","tinymce/ui/TextBox","tinymce/ui/Throbber"])})(this);