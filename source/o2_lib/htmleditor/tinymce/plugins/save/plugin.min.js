tinymce.PluginManager.add("save",function(e){function a(){var a;a=tinymce.DOM.getParent(e.id,"form");if(e.getParam("save_enablewhendirty",true)&&!e.isDirty()){return}tinymce.triggerSave();if(e.getParam("save_onsavecallback")){if(e.execCallback("save_onsavecallback",e)){e.startContent=tinymce.trim(e.getContent({format:"raw"}));e.nodeChanged()}return}if(a){e.isNotDirty=true;if(!a.onsubmit||a.onsubmit()){if(typeof a.submit=="function"){a.submit()}else{e.windowManager.alert("Error: Form submit field collision.")}}e.nodeChanged()}else{e.windowManager.alert("Error: No form element found.")}}function n(){var a=tinymce.trim(e.startContent);if(e.getParam("save_oncancelcallback")){e.execCallback("save_oncancelcallback",e);return}e.setContent(a);e.undoManager.clear();e.nodeChanged()}function t(){var a=this;e.on("nodeChange",function(){a.disabled(e.getParam("save_enablewhendirty",true)&&!e.isDirty())})}e.addCommand("mceSave",a);e.addCommand("mceCancel",n);e.addButton("save",{icon:"save",text:"Save",cmd:"mceSave",disabled:true,onPostRender:t});e.addButton("cancel",{text:"Cancel",icon:false,cmd:"mceCancel",disabled:true,onPostRender:t});e.addShortcut("ctrl+s","","mceSave")});