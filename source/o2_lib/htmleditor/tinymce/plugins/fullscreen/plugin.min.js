tinymce.PluginManager.add("fullscreen",function(e){var t=false,n=tinymce.DOM,i,l,r;var s,c;if(e.settings.inline){return}function o(){var e,t,n=window,i=document;var l=i.body;if(l.offsetWidth){e=l.offsetWidth;t=l.offsetHeight}if(n.innerWidth&&n.innerHeight){e=n.innerWidth;t=n.innerHeight}return{w:e,h:t}}function d(){var d=document.body,u=document.documentElement,a;var h,f,m;function g(){n.setStyle(f,"height",o().h-(h.clientHeight-f.clientHeight))}t=!t;h=e.getContainer();a=h.style;f=e.getContentAreaContainer().firstChild;m=f.style;if(t){i=m.width;l=m.height;m.width=m.height="100%";s=a.width;c=a.height;a.width=a.height="";n.addClass(d,"mce-fullscreen");n.addClass(u,"mce-fullscreen");n.addClass(h,"mce-fullscreen");n.bind(window,"resize",g);g();r=g}else{m.width=i;m.height=l;if(s){a.width=s}if(c){a.height=c}n.removeClass(d,"mce-fullscreen");n.removeClass(u,"mce-fullscreen");n.removeClass(h,"mce-fullscreen");n.unbind(window,"resize",r)}e.fire("FullscreenStateChanged",{state:t})}e.on("init",function(){e.addShortcut("Ctrl+Alt+F","",d)});e.on("remove",function(){if(r){n.unbind(window,"resize",r)}});e.addCommand("mceFullScreen",d);e.addMenuItem("fullscreen",{text:"Fullscreen",shortcut:"Ctrl+Alt+F",selectable:true,onClick:d,onPostRender:function(){var t=this;e.on("FullscreenStateChanged",function(e){t.active(e.state)})},context:"view"});e.addButton("fullscreen",{tooltip:"Fullscreen",shortcut:"Ctrl+Alt+F",onClick:d,onPostRender:function(){var t=this;e.on("FullscreenStateChanged",function(e){t.active(e.state)})}});return{isFullscreen:function(){return t}}});