tinymce.PluginManager.add("autoresize",function(e){var t=e.settings,i=0;function n(){return e.plugins.fullscreen&&e.plugins.fullscreen.isFullscreen()}if(e.settings.inline){return}function o(a){var r,s,u,g,l=tinymce.DOM,f,m,h,c;s=e.getDoc();if(!s){return}u=s.body;g=s.documentElement;f=t.autoresize_min_height;if(!u||a&&a.type==="setcontent"&&a.initial||n()){if(u&&g){u.style.overflowY="auto";g.style.overflowY="auto"}return}h=e.dom.getStyle(u,"margin-top",true);c=e.dom.getStyle(u,"margin-bottom",true);m=u.offsetHeight+parseInt(h,10)+parseInt(c,10);if(isNaN(m)||m<=0){m=tinymce.Env.ie?u.scrollHeight:tinymce.Env.webkit&&u.clientHeight===0?0:u.offsetHeight}if(m>t.autoresize_min_height){f=m}if(t.autoresize_max_height&&m>t.autoresize_max_height){f=t.autoresize_max_height;u.style.overflowY="auto";g.style.overflowY="auto"}else{u.style.overflowY="hidden";g.style.overflowY="hidden";u.scrollTop=0}if(f!==i){r=f-i;l.setStyle(l.get(e.id+"_ifr"),"height",f+"px");i=f;if(tinymce.isWebKit&&r<0){o(a)}}}function a(e,t,i){setTimeout(function(){o({});if(e--){a(e,t,i)}else if(i){i()}},t)}t.autoresize_min_height=parseInt(e.getParam("autoresize_min_height",e.getElement().offsetHeight),10);t.autoresize_max_height=parseInt(e.getParam("autoresize_max_height",0),10);e.on("init",function(){var t=e.getParam("autoresize_overflow_padding",1);e.dom.setStyles(e.getBody(),{paddingBottom:e.getParam("autoresize_bottom_margin",50),paddingLeft:t,paddingRight:t})});e.on("nodechange setcontent keyup FullscreenStateChanged",o);if(e.getParam("autoresize_on_init",true)){e.on("init",function(){a(20,100,function(){a(5,1e3)})})}e.addCommand("mceAutoResize",o)});