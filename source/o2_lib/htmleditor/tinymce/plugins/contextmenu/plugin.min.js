tinymce.PluginManager.add("contextmenu",function(e){var n,t=e.settings.contextmenu_never_use_native;e.on("contextmenu",function(i){var o;if(i.ctrlKey&&!t){return}i.preventDefault();o=e.settings.contextmenu||"link image inserttable | cell row column deletetable";if(!n){var c=[];tinymce.each(o.split(/[ ,]/),function(n){var t=e.menuItems[n];if(n=="|"){t={text:n}}if(t){t.shortcut="";c.push(t)}});for(var r=0;r<c.length;r++){if(c[r].text=="|"){if(r===0||r==c.length-1){c.splice(r,1)}}}n=new tinymce.ui.Menu({items:c,context:"contextmenu"}).addClass("contextmenu").renderTo();e.on("remove",function(){n.remove();n=null})}else{n.show()}var a={x:i.pageX,y:i.pageY};if(!e.inline){a=tinymce.DOM.getPos(e.getContentAreaContainer());a.x+=i.clientX;a.y+=i.clientY}n.moveTo(a.x,a.y)})});