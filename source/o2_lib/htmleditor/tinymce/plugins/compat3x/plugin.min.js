(function(e){var t;function n(){}function o(e){if(!t&&window&&window.console){t=true;console.log("Deprecated TinyMCE API call: "+e)}}function r(e,t,r,i){e=e||this;if(!t){this.add=this.addToTop=this.remove=this.dispatch=n;return}this.add=function(n,a,s){o("<target>.on"+t+".add(..)");function d(o){var s=[];if(typeof r=="string"){r=r.split(" ")}if(r&&typeof r!="function"){for(var d=0;d<r.length;d++){s.push(o[r[d]])}}if(typeof r=="function"){s=r(t,o,e);if(!s){return}}if(!r){s=[o]}s.unshift(i||e);if(n.apply(a||i||e,s)===false){o.stopImmediatePropagation()}}e.on(t,d,s);return d};this.addToTop=function(e,t){this.add(e,t,true)};this.remove=function(n){return e.off(t,n)};this.dispatch=function(){e.fire(t);return true}}e.util.Dispatcher=r;e.onBeforeUnload=new r(e,"BeforeUnload");e.onAddEditor=new r(e,"AddEditor","editor");e.onRemoveEditor=new r(e,"RemoveEditor","editor");e.util.Cookie={get:n,getHash:n,remove:n,set:n,setHash:n};function i(t){function i(n,o){e.each(n.split(" "),function(e){t["on"+e]=new r(t,e,o)})}function a(e,t,n){return[t.level,n]}function s(e){return function(t,n){if(!n.selection&&!e||n.selection==e){return[n]}}}if(t.controlManager){return}function d(){var t={},n="add addMenu addSeparator collapse createMenu destroy displayColor expand focus "+"getLength hasMenus hideMenu isActive isCollapsed isDisabled isRendered isSelected mark "+"postRender remove removeAll renderHTML renderMenu renderNode renderTo select selectByIndex "+"setActive setAriaProperty setColor setDisabled setSelected setState showMenu update";o("editor.controlManager.*");function r(){return d()}e.each(n.split(" "),function(e){t[e]=r});return t}t.controlManager={buttons:{},setDisabled:function(e,t){o("controlManager.setDisabled(..)");if(this.buttons[e]){this.buttons[e].disabled(t)}},setActive:function(e,t){o("controlManager.setActive(..)");if(this.buttons[e]){this.buttons[e].active(t)}},onAdd:new r,onPostRender:new r,add:function(e){return e},createButton:d,createColorSplitButton:d,createControl:d,createDropMenu:d,createListBox:d,createMenuButton:d,createSeparator:d,createSplitButton:d,createToolbar:d,createToolbarGroup:d,destroy:n,get:n,setControlType:d};i("PreInit BeforeRenderUI PostRender Load Init Remove Activate Deactivate","editor");i("Click MouseUp MouseDown DblClick KeyDown KeyUp KeyPress ContextMenu Paste Submit Reset");i("BeforeExecCommand ExecCommand","command ui value args");i("PreProcess PostProcess LoadContent SaveContent Change");i("BeforeSetContent BeforeGetContent SetContent GetContent",s(false));i("SetProgressState","state time");i("VisualAid","element hasVisual");i("Undo Redo",a);i("NodeChange",function(e,n){return[t.controlManager,n.element,t.selection.isCollapsed(),n]});var u=t.addButton;t.addButton=function(n,o){var r;function i(){t.controlManager.buttons[n]=this;if(r){return r.call(this)}}for(var a in o){if(a.toLowerCase()==="onpostrender"){r=o[a];o.onPostRender=i}}if(!r){o.onPostRender=i}if(o.title){o.title=e.i18n.translate((t.settings.language||"en")+"."+o.title)}return u.call(this,n,o)};t.on("init",function(){var e=t.undoManager,n=t.selection;e.onUndo=new r(t,"Undo",a,null,e);e.onRedo=new r(t,"Redo",a,null,e);e.onBeforeAdd=new r(t,"BeforeAddUndo",null,e);e.onAdd=new r(t,"AddUndo",null,e);n.onBeforeGetContent=new r(t,"BeforeGetContent",s(true),n);n.onGetContent=new r(t,"GetContent",s(true),n);n.onBeforeSetContent=new r(t,"BeforeSetContent",s(true),n);n.onSetContent=new r(t,"SetContent",s(true),n)});t.on("BeforeRenderUI",function(){var n=t.windowManager;n.onOpen=new r;n.onClose=new r;n.createInstance=function(t,n,r,i,a,s){o("windowManager.createInstance(..)");var d=e.resolve(t);return new d(n,r,i,a,s)}})}e.on("SetupEditor",i);e.PluginManager.add("compat3x",i);e.addI18n=function(t,n){var o=e.util.I18n,r=e.each;if(typeof t=="string"&&t.indexOf(".")===-1){o.add(t,n);return}if(!e.is(t,"string")){r(t,function(e,t){r(e,function(e,n){r(e,function(e,r){if(n==="common"){o.data[t+"."+r]=e}else{o.data[t+"."+n+"."+r]=e}})})})}else{r(n,function(e,n){o.data[t+"."+n]=e})}}})(tinymce);